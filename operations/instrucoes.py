import streamlit as st


def instru_canhoes_monitores():
    """Instru√ß√µes detalhadas e completas para a p√°gina de Canh√µes Monitores."""
    st.header("üìñ Guia Completo - Gest√£o de Canh√µes Monitores")

    # Alerta de import√¢ncia e base normativa
    st.info(
        "üö® **Importante:** Canh√µes monitores s√£o equipamentos de combate a inc√™ndio de alta capacidade, essenciais para a prote√ß√£o de √°reas de alto risco. "
        "A manuten√ß√£o de sua prontid√£o operacional √© cr√≠tica. Este m√≥dulo segue as diretrizes da norma **NFPA 25** "
        "para inspe√ß√£o, teste e manuten√ß√£o."
    )

    st.markdown("---")

    # 1. Compara√ß√£o de m√©todos
    st.subheader("üéØ M√©todos Dispon√≠veis no Sistema")

    col1, col2 = st.columns(2)

    with col1:
        st.markdown("""
        ### üìã Realizar Inspe√ß√£o / Teste
        **‚ö° PARA USO REGULAR - RECOMENDADO**

        **Tempo:** ~5-10 minutos por canh√£o

        **Ideal para:**
        - ‚úÖ Inspe√ß√µes visuais trimestrais obrigat√≥rias.
        - üåä Testes funcionais anuais com fluxo de √°gua.
        - ‚úÖ Verifica√ß√µes de conformidade para auditorias.
        - üìã Seguir um checklist completo e guiado.

        **Como funciona:**
        1. Selecione o canh√£o monitor da lista.
        2. Escolha o tipo de atividade (Visual ou Funcional).
        3. Responda ao checklist detalhado.
        4. **Anexe foto** (obrigat√≥ria para testes funcionais e n√£o conformidades).
        5. O sistema gera o status e o plano de a√ß√£o automaticamente.
        """)

    with col2:
        st.markdown("""
        ### ‚ûï Cadastrar Novo Canh√£o
        **üÜï PARA EQUIPAMENTOS NOVOS**

        **Tempo:** ~2 minutos por canh√£o

        **Ideal para:**
        - üÜï Adicionar novos canh√µes ao invent√°rio do sistema.
        - üìù Registrar informa√ß√µes b√°sicas como ID, localiza√ß√£o, marca e modelo.
        - üìä Criar a base de dados para futuras inspe√ß√µes.

        **Como funciona:**
        1. Preencha o ID √∫nico do equipamento.
        2. Informe a localiza√ß√£o detalhada.
        3. Adicione marca e modelo (opcional).
        4. Salve o equipamento para que ele apare√ßa na lista de inspe√ß√£o.
        """)

    st.markdown("---")

    # 2. Fluxo de trabalho recomendado
    st.subheader("üöÄ Fluxo de Trabalho Recomendado")
    st.info("""
    **Para M√°xima Efici√™ncia, Siga Esta Ordem:**

    1Ô∏è‚É£ **Primeira Vez no Sistema?**
    ‚Üí V√° para a aba **"‚ûï Cadastrar Novo Canh√£o"** para adicionar todos os seus canh√µes monitores ao sistema.

    2Ô∏è‚É£ **Rotina Trimestral?**
    ‚Üí Use a aba **"üìã Realizar Inspe√ß√£o / Teste"**, selecione a op√ß√£o **"Inspe√ß√£o Visual (Trimestral)"** e preencha o checklist.

    3Ô∏è‚É£ **Rotina Anual?**
    ‚Üí Use a aba **"üìã Realizar Inspe√ß√£o / Teste"**, selecione a op√ß√£o **"Teste Funcional (Anual)"**. Este teste j√° inclui todos os itens da inspe√ß√£o visual.

    4Ô∏è‚É£ **Acompanhamento:**
    ‚Üí Utilize a **Dashboard** principal para monitorar os status (OK, Vencido, Com Pend√™ncias) e os prazos das pr√≥ximas atividades de todos os seus canh√µes.
    """)

    st.markdown("---")

    # 3. Guia Passo a Passo de Uso da Ferramenta
    st.subheader("üì± Passo a Passo Detalhado no Sistema")

    with st.expander("üöÄ Como Realizar e Registrar uma Inspe√ß√£o/Teste", expanded=True):
        st.markdown("""
        #### **1. Prepara√ß√£o**
        - **Para Inspe√ß√£o Visual:** Apenas acesso visual ao equipamento e arredores.
        - **Para Teste Funcional:** Notifique a brigada/bombeiros, isole a √°rea do teste, garanta um suprimento de √°gua adequado e verifique se o local de descarte da √°gua (drenagem) est√° preparado.

        #### **2. Sele√ß√£o no Sistema**
        1. V√° para a aba **"üìã Realizar Inspe√ß√£o / Teste"**.
        2. Selecione o canh√£o a ser inspecionado pelo seu **ID** no menu suspenso.
        3. O sistema exibir√° as informa√ß√µes b√°sicas (Localiza√ß√£o, Marca, Modelo) para sua confirma√ß√£o.
        4. Escolha o **Tipo de Atividade** que voc√™ est√° realizando: `Inspe√ß√£o Visual (Trimestral)` ou `Teste Funcional (Anual)`.

        #### **3. Preenchimento do Checklist**
        - O checklist √© baseado nos componentes da imagem e nos requisitos da NFPA 25.
        - Avalie cada item e marque uma das tr√™s op√ß√µes:
          - ‚úÖ **Conforme:** O item est√° em perfeitas condi√ß√µes e operando como esperado.
          - ‚ùå **N√£o Conforme:** Foi encontrado um problema, defeito ou irregularidade que requer aten√ß√£o.
          - ‚ö†Ô∏è **N/A:** O item n√£o se aplica a este modelo espec√≠fico de canh√£o.

        #### **4. Evid√™ncia Fotogr√°fica (Regra Cr√≠tica)** üì∏

        O sistema **exigir√° o anexo de uma foto** em duas situa√ß√µes obrigat√≥rias:

        *   **Situa√ß√£o A: Encontrou um problema (Qualquer Atividade)**
            *   Se voc√™ marcar **QUALQUER** item como "N√£o Conforme" ou "Reprovado".
            *   **Foto Exigida:** Uma imagem clara que mostre o defeito (ex: ponto de corros√£o, volante quebrado, vazamento na junta). Isso √© crucial para a ordem de servi√ßo e auditoria.

        *   **Situa√ß√£o B: Realizando Teste Funcional (Anual)**
            *   A foto √© **SEMPRE OBRIGAT√ìRIA**, mesmo que todos os itens sejam aprovados.
            *   **Motivo:** √â a sua prova irrefut√°vel de que o teste com √°gua foi realmente executado.
            *   **Foto Ideal:** Uma imagem do canh√£o em opera√ß√£o, lan√ßando o jato de √°gua. Se n√£o for poss√≠vel, uma foto da equipe realizando o procedimento no local.

        #### **5. Finaliza√ß√£o e Registro**
        1. Ap√≥s preencher todo o checklist e anexar as fotos necess√°rias, clique em **"‚úÖ Salvar Registro"**.
        2. O sistema processar√° as informa√ß√µes e far√° o seguinte automaticamente:
           - **Calcula o Status Geral:** `Aprovado` ou `Reprovado com Pend√™ncias`.
           - **Gera um Plano de A√ß√£o** se houver pend√™ncias.
           - **Calcula a Pr√≥xima Inspe√ß√£o:** +3 meses para visual, +12 meses para funcional.
           - **Registra no Hist√≥rico:** Todos os dados s√£o salvos para consultas futuras.
        """)

    st.markdown("---")

    # 4. Crit√©rios T√©cnicos de Avalia√ß√£o
    st.subheader("üîç Crit√©rios de Aprova√ß√£o e Reprova√ß√£o (Baseado na NFPA 25)")

    with st.expander("‚úÖ Quando APROVAR um Item (Conforme)"):
        st.markdown("""
        **O equipamento e seus componentes est√£o aptos se:**
        - **Acesso:** O caminho at√© o canh√£o e a √°rea ao seu redor est√£o completamente livres de obstru√ß√µes.
        - **Estrutura:** N√£o h√° corros√£o severa, trincas ou danos que possam comprometer a seguran√ßa sob press√£o. A pintura protege o metal.
        - **Movimenta√ß√£o:** O giro (horizontal) e a eleva√ß√£o (vertical) s√£o suaves e podem ser realizados por uma √∫nica pessoa sem for√ßa excessiva.
        - **Travamento:** Os man√≠pulos ou volantes de travamento fixam o canh√£o firmemente na posi√ß√£o desejada, sem deslizar.
        - **Vazamentos:** N√£o h√° vazamentos vis√≠veis nas juntas, conex√µes ou no corpo do equipamento, tanto sem press√£o quanto sob press√£o.
        - **Desempenho do Jato (Teste Funcional):** O jato de √°gua √© cont√≠nuo, firme e atinge a dist√¢ncia esperada. Se o esguicho for regul√°vel, ele alterna entre os padr√µes (ex: jato s√≥lido, neblina) corretamente.
        """)

    with st.expander("‚ùå Quando REPROVAR um Item (N√£o Conforme)"):
        st.markdown("""
        **Um item deve ser reprovado se apresentar qualquer uma das seguintes condi√ß√µes:**

        **üî¥ Falhas CR√çTICAS (Requer A√ß√£o Imediata e poss√≠vel interdi√ß√£o do equipamento):**
        - **Movimento Travado:** Impossibilidade de mover o canh√£o em qualquer dire√ß√£o.
        - **Vazamento Grave:** Jato de √°gua saindo pelas juntas, flange ou corpo, o que compromete a press√£o e o alcance do jato principal.
        - **Dano Estrutural Vis√≠vel:** Trincas no corpo, flange solto ou parafusos de fixa√ß√£o faltando/corro√≠dos.
        - **Componentes Quebrados:** Volante de opera√ß√£o, man√≠pulo de trava ou esguicho ausentes ou quebrados.
        - **Obstru√ß√£o Total:** N√£o sai √°gua ou o fluxo √© m√≠nimo durante o teste funcional.

        **üü† Falhas de MANUTEN√á√ÉO (Programar Corre√ß√£o Urgente):**
        - **Movimenta√ß√£o Dif√≠cil:** Exige for√ßa excessiva para operar (indicativo de falta de lubrifica√ß√£o ou corros√£o interna).
        - **Travamento Ineficiente:** O canh√£o se move lentamente sozinho quando est√° sob press√£o.
        - **Corros√£o Avan√ßada:** Pontos de corros√£o que, se n√£o tratados, podem evoluir para uma falha cr√≠tica.
        - **Gotejamento/Pequenos Vazamentos:** Vazamentos que n√£o comprometem o jato principal, mas indicam desgaste das veda√ß√µes.
        - **Sinaliza√ß√£o/Acesso:** Placa de identifica√ß√£o ileg√≠vel ou acesso ao equipamento parcialmente obstru√≠do.
        """)

    with st.expander("üõ†Ô∏è Lubrifica√ß√£o e Manuten√ß√£o Preventiva"):
        st.markdown("""
        A norma NFPA 25 exige que os canh√µes monitores e seus componentes m√≥veis sejam lubrificados **anualmente** para garantir a opera√ß√£o.

        **Procedimento B√°sico:**
        1.  **Limpeza:** Remova graxa antiga e detritos das articula√ß√µes e engrenagens.
        2.  **Aplica√ß√£o:** Aplique graxa resistente √† √°gua nas graxeiras (se houver), engrenagens de eleva√ß√£o e na base girat√≥ria.
        3.  **Opera√ß√£o:** Mova o canh√£o em toda a sua amplitude (vertical e horizontal) para distribuir a nova lubrifica√ß√£o.
        4.  **Registro:** Documente a lubrifica√ß√£o nas observa√ß√µes da inspe√ß√£o anual no sistema.

        **Importante:** Utilize sempre o tipo de lubrificante especificado pelo fabricante do equipamento.
        """)

    st.markdown("---")

    st.success("Manter os registros de inspe√ß√£o e teste em dia √© a sua melhor evid√™ncia de conformidade com as normas de seguran√ßa e a garantia de que o equipamento funcionar√° quando mais for preciso.")


def instru_eyewash():
    """Instru√ß√µes para o Dashboard de Chuveiros e Lava-Olhos"""
    st.header("üìñ Guia de Uso - Sistema de Inspe√ß√£o de Chuveiros e Lava-Olhos")

    # Alerta de import√¢ncia
    st.info(
        "üö® **Importante:** Chuveiros e lava-olhos de emerg√™ncia s√£o equipamentos cr√≠ticos. Inspe√ß√µes peri√≥dicas s√£o um **requisito normativo** para garantir seu funcionamento em uma emerg√™ncia."
    )

    st.markdown("---")

    # Compara√ß√£o de m√©todos
    st.subheader("üéØ M√©todos Dispon√≠veis de Inspe√ß√£o")

    col1, col2 = st.columns(2)

    with col1:
        st.markdown("""
        ### üìã Inspe√ß√£o Completa (Checklist)
        **‚ö° RECOMENDADO PARA ROTINA**
        
        **Tempo:** ~3-5 minutos por equipamento
        
        **Ideal para:**
        - ‚úÖ Inspe√ß√µes peri√≥dicas obrigat√≥rias (semanais/mensais)
        - ‚úÖ Auditorias e fiscaliza√ß√µes (NR 20, Bombeiros)
        - ‚úÖ Verifica√ß√£o completa de todos os itens
        - ‚úÖ Documenta√ß√£o detalhada para conformidade
        
        **Como funciona:**
        1. Selecione o equipamento no sistema.
        2. Responda ao checklist completo.
        3. Marque Conforme/N√£o Conforme/N/A.
        4. Tire fotos se houver n√£o conformidades.
        5. Sistema salva e calcula a pr√≥xima inspe√ß√£o.
        
        **Vantagens:**
        - üìã Checklist completo e estruturado
        - üîç Cobertura total de itens cr√≠ticos
        - üì∏ Registro fotogr√°fico obrigat√≥rio para NCs
        - üìÖ C√°lculo autom√°tico de vencimentos
        - üìä Hist√≥rico completo e rastre√°vel
        """)

    with col2:
        st.markdown("""
        ### ‚ûï Cadastro de Equipamento
        **üÜï PARA NOVOS EQUIPAMENTOS**
        
        **Tempo:** ~2 minutos (r√°pido) ou ~5 minutos (completo)
        
        **Ideal para:**
        - üÜï Novos equipamentos instalados
        - üìù Atualiza√ß√£o de invent√°rio
        - üîß Ap√≥s substitui√ß√µes ou manuten√ß√µes
        
        **Dois m√©todos dispon√≠veis:**
        
        **1. Cadastro Completo:**
        - Todos os dados t√©cnicos
        - Especifica√ß√µes detalhadas
        - Informa√ß√µes de instala√ß√£o
        - Observa√ß√µes adicionais
        
        **2. Cadastro R√°pido:**
        - Apenas dados essenciais
        - ID e localiza√ß√£o
        - Tipo e marca comum
        - Ideal para invent√°rio inicial
        
        **Vantagens:**
        - üöÄ Cadastro r√°pido dispon√≠vel
        - üìù Op√ß√£o completa para detalhes
        - üè∑Ô∏è Marcas comuns pr√©-cadastradas
        - ‚ö° Interface intuitiva
        """)

    st.markdown("---")

    # Fluxo de trabalho recomendado
    st.subheader("üéØ Fluxo de Trabalho Recomendado")

    st.info("""
    **Para M√°xima Efici√™ncia, Siga Esta Ordem:**
    
    1Ô∏è‚É£ **Primeira Vez no Sistema?**
    ‚Üí Cadastre todos os equipamentos usando **Cadastro R√°pido** ou **Cadastro Completo**.
    
    2Ô∏è‚É£ **Inspe√ß√£o Peri√≥dica Obrigat√≥ria?**
    ‚Üí Use **Realizar Inspe√ß√£o** com o checklist completo.
    
    3Ô∏è‚É£ **Novos Equipamentos Instalados?**
    ‚Üí Use **Cadastrar Novo Equipamento** antes de realizar a primeira inspe√ß√£o.
    """)

    st.markdown("---")

    # Guia detalhado de inspe√ß√£o
    st.subheader("üìã Guia Completo: Inspe√ß√£o com Checklist")

    with st.expander("üöÄ Passo a Passo Detalhado", expanded=True):
        st.markdown("""
        #### **Antes de Come√ßar:**
        - üì± Tenha um **celular ou tablet** para tirar fotos se necess√°rio.
        - üî¶ Verifique se h√° **boa ilumina√ß√£o** no local.
        - ü™£ Tenha um balde ou acesso a um ralo para o teste de ativa√ß√£o.
        - üìä Tenha acesso ao **hist√≥rico do equipamento** (o sistema mostra automaticamente).
        
        ---
        
        #### **Passo 1: Selecione o Equipamento** üîç
        
        1. V√° para a aba **"üìã Realizar Inspe√ß√£o"**.
        2. No menu dropdown, selecione o equipamento a ser inspecionado.
        3. O sistema mostrar√° automaticamente:
           - üìç **Localiza√ß√£o** do equipamento
           - üìä **Status atual** e √∫ltima inspe√ß√£o
           - ‚è∞ **Data de vencimento** da pr√≥xima inspe√ß√£o
        
        üí° **Dica:** Se o equipamento n√£o aparecer na lista, primeiro cadastre-o nas abas de cadastro.
        
        ---
        
        #### **Passo 2: Responda ao Checklist Completo** ‚úÖ
        
        O checklist √© baseado em requisitos normativos e est√° dividido em categorias:
        
        **üîß 1. Condi√ß√µes F√≠sicas do Equipamento**
        - Estrutura sem danos, corros√£o ou vazamentos?
        - Pintura e identifica√ß√£o em bom estado?
        - Aus√™ncia de obstru√ß√µes f√≠sicas?
        
        **üíß 2. Sistema Hidr√°ulico**
        - V√°lvulas operando corretamente (abertura em 1 segundo)?
        - Conex√µes sem vazamentos?
        - Press√£o da √°gua parece adequada durante o teste?
        
        **üö∞ 3. Funcionalidade e Testes**
        - Chuveiro aciona e fornece fluxo cont√≠nuo?
        - Lava-olhos aciona e os jatos s√£o suaves e sim√©tricos?
        - Tampas protetoras dos bocais (se houver) abrem automaticamente?
        
        **üìç 4. Acessibilidade e Sinaliza√ß√£o (NR 26)**
        - O caminho at√© o equipamento est√° totalmente desobstru√≠do?
        - A sinaliza√ß√£o de seguran√ßa est√° vis√≠vel e em bom estado?
        - O local √© bem iluminado?
        - Localizado a no m√°ximo 10 segundos de caminhada do risco?
        
        **Para cada pergunta, marque:**
        - ‚úÖ **Conforme** - Item est√° OK
        - ‚ùå **N√£o Conforme** - Item tem problema
        - ‚ö†Ô∏è **N/A** - N√£o se aplica a este equipamento
        
        ---
        
        #### **Passo 3: Registre N√£o Conformidades (Se Houver)** üì∏
        
        **Quando marcar algum item como "N√£o Conforme":**
        
        1. O sistema **automaticamente exigir√°** uma foto.
        2. Voc√™ ver√° um aviso: *"Foram encontradas X n√£o conformidades"*.
        3. Use o campo de upload para anexar foto como evid√™ncia.
        
        ‚ö†Ô∏è **IMPORTANTE:** N√£o √© poss√≠vel salvar inspe√ß√£o com n√£o conformidades SEM foto! Isso √© crucial para a rastreabilidade e para comprovar a necessidade de manuten√ß√£o.
        
        ---
        
        #### **Passo 4: Revise e Salve** üíæ
        
        1. Revise todas as respostas do checklist.
        2. Verifique se as fotos (se houver) foram anexadas.
        3. Clique em **"‚úÖ Salvar Inspe√ß√£o"**.
        4. Aguarde a confirma√ß√£o de salvamento.
        5. üéâ Sistema mostrar√° mensagem de sucesso!
        
        **O sistema automaticamente:**
        - ‚úÖ Calcula a **pr√≥xima data de inspe√ß√£o** (30 dias)
        - üìä Atualiza o **status do equipamento**
        - üìù Registra no **hist√≥rico completo**
        - üîî Gera **alertas** se houver problemas cr√≠ticos
        """)

    st.markdown("---")

    # Requisitos legais
    st.subheader("‚öñÔ∏è Requisitos Legais e Normas")

    with st.expander("üìú Normas e Legisla√ß√£o Aplic√°vel", expanded=True):
        st.markdown("""
        #### **Principais Normas e Regulamenta√ß√µes:**
        
        **NR 20 - Seguran√ßa e Sa√∫de no Trabalho com Inflam√°veis e Combust√≠veis**
        - **Exig√™ncia Legal:** Determina a obrigatoriedade da instala√ß√£o de chuveiros e lava-olhos em √°reas onde trabalhadores possam ser atingidos por produtos qu√≠micos ou inflam√°veis.
        - **Fiscaliza√ß√£o:** O n√£o cumprimento √© uma infra√ß√£o grave perante o Minist√©rio do Trabalho.
        
        **ABNT NBR 16291:2014 - Chuveiro e lava-olhos de emerg√™ncia ‚Äî Requisitos gerais**
        - **Norma T√©cnica Brasileira:** Define os requisitos para instala√ß√£o, desempenho (vaz√£o, press√£o), materiais e testes dos equipamentos.
        - **Principais Pontos:** Localiza√ß√£o (rota desobstru√≠da), altura de instala√ß√£o e di√¢metro do fluxo de √°gua.
        
        **ANSI/ISEA Z358.1-2014 - Emergency Eyewash and Shower Equipment**
        - **Padr√£o Internacional de Refer√™ncia:** √â a norma mais completa e utilizada mundialmente, servindo de base para a NBR 16291.
        - **Requisitos Cr√≠ticos:**
            - ‚è±Ô∏è **Localiza√ß√£o:** A no m√°ximo 10 segundos de caminhada do risco.
            - üå°Ô∏è **Temperatura da √Ågua:** Deve ser "morna" (entre 16¬∞C e 38¬∞C).
            - üíß **Ativa√ß√£o Semanal:** Recomenda a ativa√ß√£o funcional de todos os equipamentos semanalmente para verificar o fluxo e limpar a tubula√ß√£o.
            -  yƒ±llƒ±k **Inspe√ß√£o Anual:** Exige uma inspe√ß√£o completa anual para conformidade total com a norma.

        **NR 26 - Sinaliza√ß√£o de Seguran√ßa**
        - **Obrigatoriedade:** Exige a sinaliza√ß√£o clara da localiza√ß√£o dos equipamentos de seguran√ßa, incluindo chuveiros e lava-olhos.
        
        **IT do Corpo de Bombeiros (S√£o Paulo e outros estados)**
        - **Fiscaliza√ß√£o para AVCB:** Para a obten√ß√£o ou renova√ß√£o do AVCB (Auto de Vistoria do Corpo de Bombeiros) em plantas de risco (especialmente as regidas pela NR 20), o Corpo de Bombeiros verifica a exist√™ncia, o acesso desobstru√≠do e as condi√ß√µes de funcionamento dos equipamentos de seguran√ßa exigidos por outras normas. A falta ou o mau estado podem ser um impeditivo para a libera√ß√£o do alvar√°.
        
        ---
        
        #### **Documenta√ß√£o Obrigat√≥ria:**
        
        üìÅ **Este sistema gera automaticamente a documenta√ß√£o necess√°ria para:**
        - ‚úÖ Comprovar as inspe√ß√µes peri√≥dicas em auditorias do Minist√©rio do Trabalho (NR 20).
        - ‚úÖ Evidenciar a manuten√ß√£o e o bom estado dos equipamentos para o Corpo de Bombeiros.
        - ‚úÖ Manter um hist√≥rico detalhado para processos de certifica√ß√£o (ISO 45001, etc.).
        - ‚úÖ Fornecer defesa documentada em caso de acidentes.
        """)

    st.markdown("---")

    # Crit√©rios de aprova√ß√£o/reprova√ß√£o
    st.subheader("üéØ Crit√©rios de Aprova√ß√£o e Reprova√ß√£o")

    with st.expander("‚úÖ Quando Aprovar um Equipamento"):
        st.markdown("""
        **Um equipamento est√° APROVADO quando:**
        
        ‚úÖ **Estrutura F√≠sica:**
        - Sem danos, corros√£o ou desgaste significativo
        - Pintura e identifica√ß√£o leg√≠veis
        - Suportes e fixa√ß√µes firmes
        
        ‚úÖ **Sistema Hidr√°ulico:**
        - V√°lvulas operam sem esfor√ßo excessivo
        - Sem vazamentos vis√≠veis
        - Conex√µes firmes e sem corros√£o
        
        ‚úÖ **Funcionalidade:**
        - Acionamento imediato (< 1 segundo)
        - Fluxo de √°gua adequado
        - Cobertura completa (chuveiro)
        - Jatos centralizados (lava-olhos)
        
        ‚úÖ **Acessibilidade:**
        - Caminho livre de obst√°culos
        - Sinaliza√ß√£o vis√≠vel
        - Ilumina√ß√£o adequada
        - Dist√¢ncia conforme norma (< 10 segundos de caminhada)
        """)

    with st.expander("‚ùå Quando Reprovar um Equipamento"):
        st.markdown("""
        **Um equipamento deve ser REPROVADO quando:**
        
        ‚ùå **Problemas CR√çTICOS (a√ß√£o imediata):**
        - üö® N√£o h√° fluxo de √°gua
        - üö® V√°lvula n√£o aciona ou trava
        - üö® Vazamento significativo
        - üö® Acesso completamente bloqueado
        - üö® Estrutura comprometida (risco de queda)
        
        ‚ö†Ô∏è **Problemas GRAVES (corre√ß√£o urgente):**
        - Press√£o insuficiente
        - Acionamento dif√≠cil ou lento
        - Bocais parcialmente obstru√≠dos
        - Corros√£o avan√ßada
        - Sinaliza√ß√£o ausente ou ileg√≠vel
        
        üìã **Problemas MODERADOS (programar corre√ß√£o):**
        - Pintura descascada (sem corros√£o)
        - Tampa protetora danificada
        - Acesso parcialmente obstru√≠do
        - Ilumina√ß√£o deficiente
        - Sinaliza√ß√£o desbotada
        
        **IMPORTANTE:** 
        - Equipamento com problema CR√çTICO deve ser **interditado** imediatamente
        - Providencie equipamento **substituto tempor√°rio** se necess√°rio
        - Notifique **imediatamente** o respons√°vel pela manuten√ß√£o
        """)

    st.markdown("---")

    # Perguntas frequentes
    st.subheader("‚ùì Perguntas Frequentes")

    with st.expander("üìÖ Com que frequ√™ncia devo inspecionar?"):
        st.markdown("""
        As normas de refer√™ncia estabelecem uma rotina clara:
        
        - üèÉ **SEMANALMENTE:** Ativa√ß√£o funcional. √â uma verifica√ß√£o r√°pida para garantir que h√° fluxo de √°gua e limpar a linha de sedimentos. Embora o sistema pe√ßa uma inspe√ß√£o completa mensal, recomendamos fortemente realizar esta ativa√ß√£o visual toda semana.
        
        - üìã **MENSALMENTE:** Inspe√ß√£o visual e funcional registrada. √â o que voc√™ faz neste sistema. Garante uma verifica√ß√£o documentada de todos os componentes.
        
        -  yƒ±llƒ±k **ANUALMENTE:** Inspe√ß√£o completa de conformidade com a norma (NBR 16291 / ANSI Z358.1), geralmente realizada por equipe t√©cnica qualificada para verificar vaz√£o, temperatura e todos os requisitos de instala√ß√£o.
        
        O sistema est√° configurado para um ciclo de **30 dias**, garantindo a conformidade com a inspe√ß√£o documentada mensal.
        """)

    with st.expander("üíß Como testar se o fluxo de √°gua est√° adequado?"):
        st.markdown("""
        Voc√™ n√£o precisa de equipamentos complexos para a inspe√ß√£o mensal. Use uma avalia√ß√£o visual baseada nos requisitos das normas:
        
        **Para CHUVEIROS:**
        - **Vaz√£o M√≠nima:** 75,7 litros/minuto (NBR 16291).
        - **Teste Visual:** Ao acionar, o fluxo deve ser abundante e formar um cone de √°gua que cubra completamente uma pessoa. O centro do cone deve estar a pelo menos 40 cm de qualquer obstru√ß√£o.
        
        **Para LAVA-OLHOS:**
        - **Vaz√£o M√≠nima:** 1,5 litros/minuto (NBR 16291).
        - **Teste Visual:** Os jatos de ambos os bocais devem ser suaves, sim√©tricos, formar arcos e ter altura suficiente para lavar ambos os olhos simultaneamente. A √°gua n√£o deve sair com press√£o que possa ferir os olhos.
        
        **Dura√ß√£o do Teste:** Para a verifica√ß√£o mensal, acione por tempo suficiente para garantir que a √°gua saia limpa e o fluxo seja constante (geralmente 15-30 segundos). A norma exige que o equipamento seja capaz de fornecer fluxo por **15 minutos cont√≠nuos**.
        """)

    with st.expander("üì∏ Preciso tirar foto em TODAS as inspe√ß√µes?"):
        st.markdown("""
        **N√ÉO - Apenas quando houver n√£o conformidade.**
        
        **Quando a foto √© OBRIGAT√ìRIA:**
        - ‚ùå Qualquer item marcado como **"N√£o Conforme"**
        - üö® Para evidenciar o problema encontrado
        - üìã Obrigat√≥rio para auditoria e rastreabilidade
        
        **Quando a foto √© OPCIONAL:**
        - ‚úÖ Inspe√ß√£o 100% conforme
        - ‚ö†Ô∏è Item marcado como N/A
        - üìä Para documenta√ß√£o adicional (boas pr√°ticas)
        
        **Dicas para fotos eficientes:**
        - üéØ Foque no **problema espec√≠fico**
        - üìè Inclua **refer√™ncia de tamanho** (ex: r√©gua)
        - üî¶ Ilumine bem o local
        - üìê Tire de **m√∫ltiplos √¢ngulos** se necess√°rio
        
        **Resolu√ß√£o recomendada:**
        - üì± Qualidade m√©dia do celular j√° √© suficiente
        - üíæ Sistema aceita at√© 10MB por foto
        - üñºÔ∏è Formatos: JPG, JPEG, PNG
        """)

    with st.expander("üîß O que fazer quando encontro um problema?"):
        st.markdown("""
        **Fluxo de A√ß√£o Recomendado:**
        
        **1. Durante a Inspe√ß√£o:**
        - ‚úÖ Marque como **"N√£o Conforme"** no checklist
        - üì∏ Tire **foto** evidenciando o problema
        - üìù Descreva em **observa√ß√µes** se necess√°rio
        - üíæ **Salve** a inspe√ß√£o no sistema
        
        **2. Classifica√ß√£o de Urg√™ncia:**
        
        **üö® CR√çTICO (A√ß√£o Imediata - Mesmo Dia):**
        - Sem fluxo de √°gua
        - V√°lvula travada
        - Acesso totalmente bloqueado
        - Estrutura com risco de queda
        
        **‚ö†Ô∏è URGENTE (At√© 7 dias):**
        - Press√£o muito baixa
        - Vazamento significativo
        - Acionamento dif√≠cil
        - Sinaliza√ß√£o ausente
        
        **üìã IMPORTANTE (At√© 30 dias):**
        - Pintura danificada
        - Ilumina√ß√£o deficiente
        - Obstru√ß√£o parcial de acesso
        
        **3. Ap√≥s a Inspe√ß√£o:**
        - üîî O sistema gera **automaticamente** um plano de a√ß√£o
        - üìß Notifique o **respons√°vel pela manuten√ß√£o**
        - üìä Acompanhe no **Dashboard** at√© corre√ß√£o
        - ‚úÖ Fa√ßa **nova inspe√ß√£o** ap√≥s corre√ß√£o
        
        **4. Registro de Corre√ß√£o:**
        - Use a aba **"Hist√≥rico e Logs"** para registrar a√ß√µes tomadas
        - Anexe foto **ap√≥s a corre√ß√£o** como evid√™ncia
        - Sistema mant√©m **rastreabilidade completa**
        """)

    with st.expander("üÜï Como cadastrar um equipamento novo?"):
        st.markdown("""
        **Voc√™ tem DUAS op√ß√µes de cadastro:**
        
        ---
        
        **üöÄ Op√ß√£o 1: CADASTRO R√ÅPIDO**
        *(Use para adicionar rapidamente ao invent√°rio)*
        
        1. V√° para aba **"‚úçÔ∏è Cadastro R√°pido"**
        2. Preencha apenas:
           - ID do equipamento (ex: CLO-001)
           - Localiza√ß√£o (ex: Laborat√≥rio - Setor A)
           - Tipo (Chuveiro / Lava-olhos / Combinado)
           - Marca (lista pr√©-definida ou digite)
        3. Clique em **"Cadastrar R√°pido"**
        4. ‚úÖ Pronto! Equipamento j√° est√° no sistema
        
        **Tempo:** ~1-2 minutos
        
        ---
        
        **üìã Op√ß√£o 2: CADASTRO COMPLETO**
        *(Use quando tiver todas as informa√ß√µes t√©cnicas)*
        
        1. V√° para aba **"‚ûï Cadastrar Novo Equipamento (Completo)"**
        2. Preencha todos os campos:
           - **B√°sico:** ID e localiza√ß√£o (obrigat√≥rios)
           - **T√©cnico:** Marca, modelo, tamanho
           - **Instala√ß√£o:** Data de instala√ß√£o
           - **Especifica√ß√µes:** Press√£o, vaz√£o, etc.
           - **Observa√ß√µes:** Informa√ß√µes adicionais
        3. Clique em **"‚ûï Cadastrar Equipamento Completo"**
        4. ‚úÖ Equipamento cadastrado com todos os detalhes
        
        **Tempo:** ~3-5 minutos
        
        ---
        
        **üí° Qual escolher?**
        
        - üöÄ **R√°pido:** Para fazer invent√°rio inicial de muitos equipamentos
        - üìã **Completo:** Quando tiver projeto/documenta√ß√£o t√©cnica
        - ‚úèÔ∏è **Dica:** Use r√°pido primeiro, depois edite para completar dados
        
        **Depois de cadastrar:**
        - ‚úÖ Equipamento aparece na lista de inspe√ß√µes
        - üìä √â inclu√≠do nos relat√≥rios e dashboards
        - üîî Sistema come√ßa a monitorar vencimentos
        """)

    st.markdown("---")

    # Call-to-action
    st.success("""
    ### üöÄ Pronto para Come√ßar?
    
    **Siga este checklist r√°pido:**
    
    ‚úÖ **J√° tem equipamentos cadastrados?**
    ‚Üí V√° para aba **"üìã Realizar Inspe√ß√£o"**
    
    ‚ùå **Ainda n√£o tem nenhum equipamento cadastrado?**
    ‚Üí Comece pela aba **"‚úçÔ∏è Cadastro R√°pido"** para adicionar ao invent√°rio
    
    üìö **D√∫vidas sobre algum item do checklist?**
    ‚Üí Revise a se√ß√£o **"Crit√©rios de Aprova√ß√£o e Reprova√ß√£o"** acima
    
    ---
    
    **Lembre-se:** Manter os registros de inspe√ß√£o em dia √© a sua melhor evid√™ncia de conformidade com a NR 20 e outras normas de seguran√ßa. ‚ö°
    """)


def instru_alarms():
    """Instru√ß√µes para Sistemas de Alarme de Emerg√™ncia"""
    st.header("üìñ Guia de Uso - Gest√£o de Sistemas de Alarme de Emerg√™ncia")

    # Alerta de prioriza√ß√£o
    st.success(
        "‚ö° **Recomenda√ß√£o:** Para as verifica√ß√µes de rotina, utilize a aba **'üìã Realizar Inspe√ß√£o'**! "
        "Ela segue um checklist completo, guiado e garante a conformidade com as normas t√©cnicas."
    )

    st.markdown("---")

    # Compara√ß√£o de m√©todos
    st.subheader("üéØ Escolha o Melhor M√©todo para Sua Situa√ß√£o")

    col1, col2, col3 = st.columns(3)

    with col1:
        st.markdown("""
        ### üìã Realizar Inspe√ß√£o
        **‚ö° PARA USO REGULAR - RECOMENDADA**

        **Tempo:** ~5-10 minutos por sistema

        **Ideal para:**
        - ‚úÖ Inspe√ß√µes semanais/peri√≥dicas obrigat√≥rias
        - ‚úÖ Verifica√ß√µes de conformidade
        - ‚úÖ Gera√ß√£o de hist√≥rico e rastreabilidade
        - ‚úÖ Checklist completo e guiado

        **Como funciona:**
        1. Selecione o sistema de alarme da lista
        2. Responda ao checklist de verifica√ß√£o
        3. Se houver n√£o conformidade, anexe uma foto
        4. O sistema gera status e salva a inspe√ß√£o

        **O que inclui:**
        - üîç Inspe√ß√£o de componentes f√≠sicos (painel, fia√ß√£o)
        - üîä Testes de funcionamento (sirenes, luzes)
        - üî• Verifica√ß√£o de sensores e detectores
        - üìã An√°lise de documenta√ß√£o e sinaliza√ß√£o

        **Vantagens:**
        - ‚ö° R√°pida e eficiente
        - üìã Checklist guiado e padronizado
        - üì∏ Exig√™ncia de evid√™ncia para falhas
        - üìä Rastreabilidade completa
        """)

    with col2:
        st.markdown("""
        ### ‚ûï Cadastro Completo
        **üìã PARA EQUIPAMENTOS NOVOS**

        **Tempo:** ~5 minutos

        **Ideal para:**
        - üÜï Sistemas rec√©m-instalados
        - üìù Documenta√ß√£o t√©cnica detalhada
        - üîß Registro de marca, modelo e especifica√ß√µes
        - üìä Gest√£o completa do invent√°rio

        **Como funciona:**
        1. Preencha o ID √∫nico do sistema (ex: AL-01)
        2. Informe a localiza√ß√£o detalhada
        3. Adicione marca, modelo e data de instala√ß√£o
        4. Insira especifica√ß√µes como tipo e √°rea de cobertura

        **Vantagens:**
        - üìã Documenta√ß√£o completa
        - üîß Registro de especifica√ß√µes t√©cnicas
        - üìä Base para um hist√≥rico detalhado
        - ‚úÖ Facilita futuras manuten√ß√µes
        """)

    with col3:
        st.markdown("""
        ### ‚úçÔ∏è Cadastro R√°pido
        **üöÄ PARA ADICIONAR EM LOTE**

        **Tempo:** ~1-2 minutos

        **Ideal para:**
        - üÜï Adicionar m√∫ltiplos sistemas rapidamente
        - ‚ö° Criar um invent√°rio inicial
        - üìù Apenas informa√ß√µes essenciais
        - üîÑ Atualizar com detalhes depois

        **Como funciona:**
        1. Insira o ID do sistema
        2. Informe a localiza√ß√£o
        3. Selecione o tipo de sistema
        4. Escolha a marca de uma lista (ou digite)

        **Vantagens:**
        - ‚ö° Extremamente r√°pido
        - üìù Apenas dados essenciais
        - üîß Marcas pr√©-cadastradas
        - ‚úèÔ∏è Permite completar os detalhes posteriormente
        """)

    st.markdown("---")

    # Fluxo de trabalho recomendado
    st.subheader("üéØ Fluxo de Trabalho Recomendado")

    st.info("""
    **Para M√°xima Efici√™ncia, Siga Esta Ordem:**

    1Ô∏è‚É£ **Primeira Vez no Sistema?**
    ‚Üí Cadastre todos os seus sistemas de alarme usando o **Cadastro R√°pido** ou **Cadastro Completo**.

    2Ô∏è‚É£ **Inspe√ß√£o Peri√≥dica?**
    ‚Üí V√° para **"üìã Realizar Inspe√ß√£o"** e siga o checklist para cada sistema.

    3Ô∏è‚É£ **Precisa de um Relat√≥rio para Auditoria?**
    ‚Üí Na aba de inspe√ß√£o, use a fun√ß√£o **"üìÑ Gerar Relat√≥rio Mensal de Inspe√ß√µes"** para criar e imprimir um relat√≥rio consolidado do m√™s.
    """)

    st.markdown("---")

    # Guia detalhado de inspe√ß√£o
    st.subheader("üìã Guia Completo: Realizando uma Inspe√ß√£o")

    with st.expander("üöÄ Passo a Passo Detalhado", expanded=True):
        st.markdown("""
        #### **Antes de Come√ßar:**
        - üìã Tenha acesso f√≠sico ao painel e componentes do sistema de alarme.
        - üîë Chaves de acesso ao painel, se necess√°rio.
        - üì± Celular com c√¢mera para registrar n√£o conformidades.
        - üìä Acesso ao sistema (computador ou tablet).

        ---

        #### **Passo 1: Selecione o Sistema** üîç

        1. V√° para a aba **"üìã Realizar Inspe√ß√£o"**.
        2. Na caixa de sele√ß√£o, escolha o sistema que voc√™ ir√° inspecionar (identificado pelo seu ID).
        3. O sistema exibir√° automaticamente a **Localiza√ß√£o**, **Marca** e **Modelo** para confirma√ß√£o.

        ---

        #### **Passo 2: Responda ao Checklist de Verifica√ß√£o** ‚úÖ

        O checklist √© dividido em quatro categorias para uma inspe√ß√£o completa e organizada. Para cada item, marque uma das tr√™s op√ß√µes:

        - ‚úÖ **Conforme** - O item est√° em perfeitas condi√ß√µes e funcionando como esperado.
        - ‚ùå **N√£o Conforme** - Foi encontrado um problema, defeito ou irregularidade.
        - ‚ö†Ô∏è **N/A** - O item n√£o se aplica a este sistema de alarme espec√≠fico.

        **Categorias do Checklist:**

        **1. Componentes F√≠sicos:**
           - Avalia o estado do painel de controle, fia√ß√£o, sirenes, luzes e baterias.
           - *Exemplo de item: "Painel de controle sem danos f√≠sicos".*

        **2. Funcionamento:**
           - Verifica se o sistema opera corretamente, incluindo testes de sirenes, luzes e comunica√ß√£o com a central (se houver).
           - *Exemplo de item: "Sirenes funcionam corretamente durante teste".*

        **3. Sensores e Detectores:**
           - Testa a resposta dos detectores (fuma√ßa, calor), acionadores manuais e a cobertura dos sensores no ambiente.
           - *Exemplo de item: "Detectores de fuma√ßa respondem ao teste".*

        **4. Documenta√ß√£o e Sinaliza√ß√£o:**
           - Confere se as instru√ß√µes, planos de evacua√ß√£o e contatos de emerg√™ncia est√£o vis√≠veis, atualizados e corretos.
           - *Exemplo de item: "Plano de evacua√ß√£o atualizado e vis√≠vel".*

        üí° **Dica:** Seja criterioso. Marcar "N√£o Conforme" indica que uma a√ß√£o corretiva √© necess√°ria.

        ---

        #### **Passo 3: Registre N√£o Conformidades (Se Houver)** üì∏

        **Se voc√™ marcar QUALQUER item como "N√£o Conforme":**

        1. O sistema exibir√° um aviso: *"Foi encontrada pelo menos uma n√£o conformidade. Por favor, anexe uma foto como evid√™ncia."*
        2. O campo para upload de foto se tornar√° **obrigat√≥rio**.
        3. Use a c√¢mera do seu dispositivo para tirar uma foto clara do problema.

        **Boas pr√°ticas para fotos:**
        - üî¶ Ilumine bem o problema.
        - üéØ Foque no componente com defeito.
        - üìè Mostre o contexto para f√°cil identifica√ß√£o da localiza√ß√£o do problema.

        ‚ö†Ô∏è **IMPORTANTE:** N√£o √© poss√≠vel salvar uma inspe√ß√£o com n√£o conformidades **SEM** anexar uma foto. Isso garante a rastreabilidade e a evid√™ncia para auditorias.

        ---

        #### **Passo 4: Revise e Salve a Inspe√ß√£o** üíæ

        1. Ap√≥s preencher todo o checklist e anexar fotos (se necess√°rio), clique no bot√£o **"‚úÖ Salvar Inspe√ß√£o"**.
        2. O sistema processar√° as informa√ß√µes e far√° o seguinte automaticamente:
           - **Calcula o Status Geral:**
             - üü¢ Tudo "Conforme" ‚Üí Status **"Aprovado"**.
             - üî¥ Pelo menos um "N√£o Conforme" ‚Üí Status **"Reprovado com Pend√™ncias"**.
           - **Gera um Plano de A√ß√£o (se houver pend√™ncias):** Baseado nos itens n√£o conformes, o sistema sugere a√ß√µes corretivas.
           - **Calcula a Pr√≥xima Inspe√ß√£o:** A data da pr√≥xima inspe√ß√£o √© agendada para **7 dias** ap√≥s a data atual.
           - **Registra no Hist√≥rico:** Todos os dados s√£o salvos para consultas e relat√≥rios futuros.

        üéâ Se a inspe√ß√£o for salva com sucesso e o status for "Aprovado", uma anima√ß√£o de bal√µes aparecer√° como comemora√ß√£o!

        ---
        """)

    st.markdown("---")

    # Requisitos legais
    st.subheader("‚öñÔ∏è Requisitos Legais e Normas")

    with st.expander("üìú Normas e Legisla√ß√£o Aplic√°vel"):
        st.markdown("""
        A inspe√ß√£o e manuten√ß√£o de sistemas de alarme de inc√™ndio s√£o regidas por normas t√©cnicas rigorosas para garantir sua efic√°cia.

        #### **Principais Normas:**

        **ABNT NBR 17240 - Sistemas de detec√ß√£o e alarme de inc√™ndio ‚Äì Projeto, instala√ß√£o, comissionamento e manuten√ß√£o de sistemas de detec√ß√£o e alarme de inc√™ndio**
        - üáßüá∑ √â a principal norma brasileira que estabelece os requisitos para todo o ciclo de vida do sistema.
        - ‚è∞ Define as frequ√™ncias de testes e inspe√ß√µes (di√°rias, mensais, trimestrais, anuais).
        - üîß Exige que a manuten√ß√£o seja realizada por profissionais qualificados.

        **NFPA 72 - National Fire Alarm and Signaling Code**
        - üá∫üá∏ A norma internacional mais reconhecida para sistemas de alarme.
        - üìÖ Estabelece rotinas de inspe√ß√£o visual e testes funcionais com periodicidades bem definidas.
        - üìã Exige a manuten√ß√£o de registros detalhados de todas as inspe√ß√µes, testes e manuten√ß√µes.

        **Instru√ß√µes T√©cnicas (IT) do Corpo de Bombeiros:**
        - üî• Cada estado brasileiro possui suas pr√≥prias ITs, que s√£o de cumprimento obrigat√≥rio para a obten√ß√£o e renova√ß√£o do AVCB (Auto de Vistoria do Corpo de Bombeiros).
        - üö® Geralmente s√£o baseadas na NBR 17240, mas podem incluir requisitos espec√≠ficos.

        ---

        #### **Frequ√™ncias de Inspe√ß√£o Recomendadas pelas Normas:**

        | Frequ√™ncia | Atividade | Respons√°vel |
        |------------|-----------|-------------|
        | **Semanal** | Inspe√ß√£o visual dos pain√©is para verificar status normal | Equipe Interna (Usu√°rio) |
        | **Mensal** | Teste funcional de baterias e fontes de alimenta√ß√£o | Equipe Interna Qualificada |
        | **Trimestral**| Teste de acionadores manuais e detectores (amostragem) | Equipe Interna Qualificada |
        | **Anual** | Teste completo de todos os dispositivos e componentes | Empresa Especializada |

        üí° **Observa√ß√£o:** O sistema est√° configurado com uma periodicidade de **7 dias** para a pr√≥xima inspe√ß√£o, incentivando uma verifica√ß√£o visual constante e garantindo um n√≠vel de seguran√ßa acima do m√≠nimo exigido por norma para inspe√ß√µes visuais.

        ---
        """)

    st.markdown("---")

    # Crit√©rios de aprova√ß√£o/reprova√ß√£o
    st.subheader("üéØ Crit√©rios de Aprova√ß√£o e Reprova√ß√£o")

    with st.expander("‚úÖ Quando um Sistema √© APROVADO"):
        st.markdown("""
        **Um sistema de alarme √© considerado APROVADO quando:**

        ‚úÖ **Todos os itens do checklist** s√£o marcados como **"Conforme"** ou **"N/A"**.
        ‚úÖ **Componentes F√≠sicos:** O painel, fia√ß√£o, sirenes e luzes est√£o √≠ntegros, sem danos, corros√£o ou obstru√ß√µes.
        ‚úÖ **Funcionamento:** O painel indica estado "Normal". As sirenes e luzes estrobosc√≥picas s√£o ativadas corretamente durante os testes. A comunica√ß√£o com a central (se houver) est√° ativa.
        ‚úÖ **Sensores e Detectores:** Todos os dispositivos respondem adequadamente aos testes e n√£o apresentam danos ou sujeira excessiva.
        ‚úÖ **Documenta√ß√£o:** O plano de evacua√ß√£o e os contatos de emerg√™ncia est√£o atualizados e vis√≠veis.
        """)

    with st.expander("‚ùå Quando um Sistema √© REPROVADO (Com Pend√™ncias)"):
        st.markdown("""
        **Um sistema √© REPROVADO se pelo menos UM item for marcado como "N√£o Conforme".**

        ‚ùå **Problemas CR√çTICOS (A√ß√£o Imediata):**
        - üö® Painel de controle indicando falha ("Falha", "Fogo", "Avaria") que n√£o pode ser rearmado.
        - üö® Sirenes ou luzes estrobosc√≥picas n√£o funcionam durante o teste.
        - üö® Detectores de fuma√ßa ou acionadores manuais n√£o respondem ao teste.
        - üö® Baterias de backup danificadas ou com vazamento.
        - üö® Fia√ß√£o exposta, rompida ou com sinais de curto-circuito.

        üìã **Problemas MODERADOS (Programar Corre√ß√£o):**
        - Painel com danos f√≠sicos que n√£o afetam o funcionamento.
        - Detectores sujos que precisam de limpeza.
        - Plano de evacua√ß√£o ou contatos de emerg√™ncia desatualizados.
        - Sinaliza√ß√£o de rotas de fuga danificada ou obstru√≠da.

        **IMPORTANTE:**
        - Um sistema com pend√™ncias **CR√çTICAS** deve ser sinalizado como **INOPERANTE** e a manuten√ß√£o deve ser acionada **IMEDIATAMENTE**.
        - Medidas compensat√≥rias (como vigil√¢ncia por brigadistas) devem ser adotadas at√© a corre√ß√£o do problema.
        """)

    st.markdown("---")

    # Perguntas frequentes
    st.subheader("‚ùì Perguntas Frequentes")

    with st.expander("üìÖ Com que frequ√™ncia devo usar este sistema para inspecionar?"):
        st.markdown("""
        **O sistema agenda a pr√≥xima inspe√ß√£o para 7 dias ap√≥s a √∫ltima realizada.**

        Esta frequ√™ncia √© ideal para **inspe√ß√µes visuais de rotina**, que garantem a verifica√ß√£o constante do estado do sistema.

        **Recomenda√ß√£o de Rotina:**
        -  weekly **Inspe√ß√£o via Sistema (Checklist Visual):** Realize semanalmente para garantir que n√£o h√° falhas aparentes no painel e nos componentes. Isso cria um hist√≥rico robusto.
        - monthly **Testes Funcionais:** Conforme a NBR 17240, realize testes mais aprofundados mensalmente ou trimestralmente (como teste de baterias e acionadores).
        - annually **Manuten√ß√£o por Especialistas:** Pelo menos uma vez por ano, contrate uma empresa especializada para realizar um teste completo em todos os componentes do sistema.
        """)

    with st.expander("üì∏ Preciso tirar foto em TODAS as inspe√ß√µes?"):
        st.markdown("""
        **N√ÉO.**

        A foto √© **OBRIGAT√ìRIA** apenas quando um ou mais itens s√£o marcados como **"N√£o Conforme"**.

        - ‚úÖ **Inspe√ß√£o 100% Conforme:** Nenhuma foto √© necess√°ria.
        - ‚ùå **Inspe√ß√£o com N√£o Conformidade:** A foto √© exigida pelo sistema para servir como evid√™ncia clara do problema, facilitando a a√ß√£o corretiva e servindo como registro para auditorias.
        """)

    with st.expander("üÜò O que fazer quando encontro um problema cr√≠tico?"):
        st.markdown("""
        Problemas cr√≠ticos s√£o aqueles que comprometem a capacidade do sistema de funcionar em uma emerg√™ncia (ex: sirene n√£o toca, painel em falha geral).

        ### **Protocolo de A√ß√£o Imediata:**

        **1. REGISTRE no Sistema:**
           - Marque o item como **"N√£o Conforme"**.
           - Tire uma foto clara e detalhada do problema.
           - **Salve a inspe√ß√£o imediatamente** para que fique registrada.

        **2. COMUNIQUE Imediatamente (Verbalmente e por E-mail):**
           - Seu supervisor direto.
           - A equipe de Seguran√ßa do Trabalho (SESMT) / Brigada de Inc√™ndio.
           - O respons√°vel pela manuten√ß√£o.

        **3. SINALIZE o Risco:**
           - Se poss√≠vel, coloque uma etiqueta ou aviso no painel de controle indicando "SISTEMA EM MANUTEN√á√ÉO / INOPERANTE".

        **4. ACIONE a Manuten√ß√£o Corretiva:**
           - Abra um chamado de manuten√ß√£o de **emerg√™ncia**. N√£o espere pela rotina normal.

        **5. IMPLEMENTE Medidas Compensat√≥rias:**
           - Aumente as rondas da vigil√¢ncia ou da brigada na √°rea desprotegida.
           - Disponibilize extintores adicionais na √°rea, se necess√°rio.
           - Avalie a necessidade de paralisar atividades de alto risco at√© a corre√ß√£o do sistema.

        **Lembre-se:** A omiss√£o diante de uma falha cr√≠tica pode ter consequ√™ncias graves. A documenta√ß√£o no sistema √© sua principal evid√™ncia de que a falha foi identificada e reportada corretamente.
        """)

    st.markdown("---")

    # Call-to-action
    st.success("""
    ### üöÄ Pronto para Come√ßar?

    **Siga este checklist r√°pido:**

    ‚úÖ **J√° tem sistemas cadastrados?**
    ‚Üí V√° direto para a aba **"üìã Realizar Inspe√ß√£o"**.

    ‚ùå **Ainda n√£o tem sistemas no invent√°rio?**
    ‚Üí Comece pela aba **"‚úçÔ∏è Cadastro R√°pido"** para adicionar os equipamentos essenciais.

    üìö **D√∫vidas sobre algum item do checklist?**
    ‚Üí Revise a se√ß√£o **"Crit√©rios de Aprova√ß√£o e Reprova√ß√£o"** acima.

    ---

    **Lembre-se:**
    - Inspe√ß√µes **SEMANAIS** criam um hist√≥rico robusto e confi√°vel.
    - O registro fotogr√°fico de falhas √© **ESSENCIAL** para auditorias.
    - Um sistema de alarme bem mantido salva vidas e patrim√¥nio.

    Este sistema foi projetado para facilitar a conformidade e manter sua documenta√ß√£o sempre organizada e acess√≠vel! ‚ö°
    """)

    # Footer informativo
    st.markdown("---")
    st.caption("""
    üìå **Normas de Refer√™ncia:**
    - ABNT NBR 17240 (Sistemas de detec√ß√£o e alarme de inc√™ndio)
    - NFPA 72 (National Fire Alarm and Signaling Code)
    - Instru√ß√µes T√©cnicas (IT) do Corpo de Bombeiros local.

    üîÑ **√öltima Atualiza√ß√£o das Instru√ß√µes:** Janeiro/2025
    üìñ **Vers√£o do Guia:** 1.0
    """)


def instru_foam_chamber():
    """Instru√ß√µes para C√¢maras de Espuma"""
    st.header("üìñ Guia de Uso - Sistema de C√¢maras de Espuma")

    # Alerta de prioriza√ß√£o
    st.success(
        "‚ö° **Recomenda√ß√£o:** Para inspe√ß√µes regulares, use a **Inspe√ß√£o Visual Peri√≥dica**! "
        "√â completa, guiada por modelo e garante conformidade com as normas t√©cnicas."
    )

    st.markdown("---")

    # Compara√ß√£o de m√©todos
    st.subheader("üéØ Escolha o Melhor M√©todo para Sua Situa√ß√£o")

    col1, col2, col3 = st.columns(3)

    with col1:
        st.markdown("""
        ### üìã Inspe√ß√£o Visual/Funcional
        **‚ö° PARA USO REGULAR - RECOMENDADA**

        **Tempo:** ~10-15 minutos por c√¢mara

        **Ideal para:**
        - ‚úÖ Inspe√ß√µes semestrais obrigat√≥rias
        - ‚úÖ Testes funcionais anuais
        - ‚úÖ Verifica√ß√µes de conformidade
        - ‚úÖ Checklist guiado por modelo

        **Como funciona:**
        1. Selecione a c√¢mara da lista
        2. Escolha tipo: Visual ou Funcional
        3. Responda checklist espec√≠fico do modelo
        4. Tire foto se houver n√£o conformidade
        5. Sistema gera plano de a√ß√£o automaticamente

        **O que inclui:**
        - üîç Inspe√ß√£o de estrutura e pintura
        - üîß Verifica√ß√£o de componentes internos
        - üíß Verifica√ß√£o de v√°lvulas e conex√µes
        - üß™ Teste funcional (se anual)
        - üìã Checklist completo guiado

        **Vantagens:**
        - ‚ö° R√°pida e eficiente
        - üìã Guiada por modelo espec√≠fico
        - ü§ñ Plano de a√ß√£o autom√°tico
        - üìä Rastreabilidade completa
        - ‚úÖ Verifica compatibilidade de placa de orif√≠cio
        """)

    with col2:
        st.markdown("""
        ### ‚ûï Cadastro Completo
        **üìã PARA EQUIPAMENTOS NOVOS**

        **Tempo:** ~5 minutos

        **Ideal para:**
        - üÜï C√¢maras rec√©m-instaladas
        - üìù Documenta√ß√£o detalhada
        - üîß Especifica√ß√µes t√©cnicas completas
        - üìä Gest√£o de invent√°rio

        **Como funciona:**
        1. Preencha ID √∫nico da c√¢mara
        2. Informe localiza√ß√£o detalhada
        3. Selecione modelo (MCS/TF/MLS)
        4. **CR√çTICO:** Informe tamanho espec√≠fico
        5. Adicione marca e observa√ß√µes

        **Campos obrigat√≥rios:**
        - üè∑Ô∏è ID da c√¢mara
        - üìç Localiza√ß√£o
        - üîß Modelo (MCS/TF/MLS)
        - üìè **Tamanho espec√≠fico** (ex: MCS-17)

        **Vantagens:**
        - üìã Documenta√ß√£o completa
        - üîß Especifica√ß√µes t√©cnicas
        - üìä Hist√≥rico desde instala√ß√£o
        - ‚úÖ Base para inspe√ß√µes futuras
        """)

    with col3:
        st.markdown("""
        ### ‚úçÔ∏è Cadastro R√°pido
        **üöÄ PARA ADICIONAR RAPIDAMENTE**

        **Tempo:** ~2 minutos

        **Ideal para:**
        - üÜï Adicionar m√∫ltiplas c√¢maras
        - ‚ö° Invent√°rio inicial r√°pido
        - üìù Dados essenciais apenas
        - üîÑ Atualizar depois com detalhes

        **Como funciona:**
        1. ID da c√¢mara
        2. Localiza√ß√£o
        3. Tipo (3 op√ß√µes pr√©-definidas)
        4. **Tamanho espec√≠fico**
        5. Marca (lista pr√©-definida)

        **Vantagens:**
        - ‚ö° Extremamente r√°pido
        - üìù Apenas dados essenciais
        - üîß Marcas pr√©-cadastradas
        - ‚úèÔ∏è Pode completar depois
        """)

    st.markdown("---")

    # Fluxo de trabalho recomendado
    st.subheader("üéØ Fluxo de Trabalho Recomendado")

    st.info("""
    **Para M√°xima Efici√™ncia, Siga Esta Ordem:**

    1Ô∏è‚É£ **Primeira Vez no Sistema?**
    ‚Üí Cadastre todas as c√¢maras usando **Cadastro R√°pido** ou **Cadastro Completo**

    2Ô∏è‚É£ **Inspe√ß√£o Semestral Obrigat√≥ria?**
    ‚Üí Use **Inspe√ß√£o Visual Peri√≥dica** com o checklist guiado

    3Ô∏è‚É£ **Inspe√ß√£o Funcional Anual?**
    ‚Üí Use **Inspe√ß√£o Funcional Anual** (inclui teste funcional completo)

    4Ô∏è‚É£ **Relat√≥rio para Auditoria?**
    ‚Üí Gere **Relat√≥rio Consolidado em PDF** na √∫ltima aba
    """)

    st.markdown("---")

    # Guia detalhado de inspe√ß√£o
    st.subheader("üìã Guia Completo: Inspe√ß√£o Visual e Funcional")

    with st.expander("üöÄ Passo a Passo Detalhado", expanded=True):
        st.markdown("""
        #### **Antes de Come√ßar:**
        - üìã Tenha acesso f√≠sico √† c√¢mara de espuma
        - üîß Ferramentas b√°sicas para abrir/fechar c√¢mara
        - üì± Celular para tirar fotos se necess√°rio
        - üß∞ Kit de limpeza (se necess√°rio)
        - üìä Acesso ao sistema (computador ou tablet)

        ---

        #### **Passo 1: Selecione a C√¢mara** üîç

        1. V√° para aba **"üìã Realizar Inspe√ß√£o"**
        2. No dropdown, selecione a c√¢mara a ser inspecionada
        3. O sistema mostrar√° automaticamente:
           - üìç **Localiza√ß√£o** da c√¢mara
           - üîß **Modelo** (MCS/TF/MLS)
           - üìè **Tamanho espec√≠fico** cadastrado

        ‚ö†Ô∏è **ATEN√á√ÉO:** Se o tamanho espec√≠fico n√£o estiver cadastrado, aparecer√° um alerta amarelo.
        Neste caso, voc√™ n√£o poder√° verificar a compatibilidade da placa de orif√≠cio durante a inspe√ß√£o.

        üí° **Dica:** Se o tamanho n√£o estiver cadastrado, atualize o cadastro primeiro antes de inspecionar.

        ---

        #### **Passo 2: Escolha o Tipo de Inspe√ß√£o** üìÖ

        **Visual Semestral:**
        - üìÖ Obrigat√≥ria a cada **6 meses**
        - ‚è±Ô∏è Tempo: ~10 minutos
        - üîç Verifica√ß√£o externa e componentes vis√≠veis
        - üìã Checklist sem teste funcional

        **Funcional Anual:**
        - üìÖ Obrigat√≥ria **anualmente**
        - ‚è±Ô∏è Tempo: ~15-20 minutos
        - üîç Inclui TUDO da visual + teste funcional
        - üíß Teste de fluxo de √°gua/espuma
        - üìã Checklist completo

        üí° **Quando fazer cada uma:**
        - **Semestral:** Meses 1, 7 do ano
        - **Anual:** Substituir uma das semestrais por funcional

        ---

        #### **Passo 3: Responda ao Checklist Espec√≠fico do Modelo** ‚úÖ

        O checklist √© **automaticamente gerado** baseado no modelo da c√¢mara:

        **üìã Para MCS - Selo de Vidro:**

        **1. Condi√ß√µes Gerais**
        - Pintura e estrutura sem corros√£o?
        - Sem vazamentos vis√≠veis?
        - V√°lvulas em bom estado?

        **2. Componentes da C√¢mara**
        - C√¢mara de espuma √≠ntegra?
        - Selo de vidro limpo e √≠ntegro?
        - Junta de veda√ß√£o em boas condi√ß√µes?
        - Defletor e barragem √≠ntegros?

        **3. Linhas e Conex√µes**
        - Tomadas de solu√ß√£o sem obstru√ß√£o?
        - Drenos livres e estanques?
        - Ejetores desobstru√≠dos?
        - Placa de orif√≠cio √≠ntegra?
        - ‚úÖ **NOVO:** Placa compat√≠vel com modelo?

        **4. Teste Funcional (apenas anual)**
        - Fluxo de √°gua/espuma OK?
        - Estanqueidade da linha?
        - Sistema funciona corretamente?

        ---

        **üìã Para TF - Tubo de Filme:**

        Similar ao MCS, mas substitui:
        - Selo de vidro ‚Üí Tubo de proje√ß√£o
        - Junta de veda√ß√£o ‚Üí Defletor de proje√ß√£o

        ---

        **üìã Para MLS - Membrana Low Shear:**

        Similar ao MCS, mas substitui:
        - Selo de vidro ‚Üí Membrana de elast√¥mero
        - Verifica ressecamento da membrana

        ---

        #### **Para Cada Item do Checklist:**

        Marque uma das 3 op√ß√µes:
        - ‚úÖ **Conforme** - Item est√° OK
        - ‚ùå **N√£o Conforme** - Item tem problema
        - ‚ö†Ô∏è **N/A** - N√£o se aplica (ex: se n√£o tiver)

        üí° **Dica:** Seja criterioso - **N√£o Conforme** significa que h√° um problema real que precisa corre√ß√£o.

        ---

        #### **Passo 4: Registre N√£o Conformidades (Se Houver)** üì∏

        **Quando marcar algum item como "N√£o Conforme":**

        1. O sistema **automaticamente exigir√°** uma foto
        2. Voc√™ ver√° um aviso: *"Foi encontrada n√£o conformidade"*
        3. Use o campo de upload para anexar foto como evid√™ncia

        **Op√ß√µes de foto:**
        - üì∑ **Tirar foto na hora** (mais r√°pido)
        - üìÅ **Enviar da galeria** (melhor qualidade)

        **Boas pr√°ticas para fotos:**
        - üî¶ Ilumine bem o problema
        - üìè Mostre contexto (onde fica)
        - üéØ Foque no item n√£o conforme
        - üìê Mostre detalhes (corros√£o, trinca, etc.)

        ‚ö†Ô∏è **IMPORTANTE:** N√£o √© poss√≠vel salvar inspe√ß√£o com n√£o conformidades SEM foto!

        ---

        #### **Passo 5: Sistema Gera Plano de A√ß√£o Automaticamente** ü§ñ

        Ao salvar, o sistema **automaticamente:**

        1. **Calcula o status geral:**
           - üü¢ Tudo Conforme ‚Üí **Aprovado**
           - üî¥ Algo N√£o Conforme ‚Üí **Reprovado com Pend√™ncias**

        2. **Gera plano de a√ß√£o espec√≠fico:**

        Exemplos de planos autom√°ticos:

        **Se: Pintura e estrutura com corros√£o**
        ‚Üí *"Programar servi√ßo de tratamento de corros√£o, reparo e repintura."*

        **Se: Selo de vidro trincado**
        ‚Üí *"Realizar a limpeza ou substitui√ß√£o do selo de vidro."*

        **Se: Placa de orif√≠cio incompat√≠vel**
        ‚Üí *"CR√çTICO: Substituir por placa compat√≠vel. A placa incorreta compromete vaz√£o e efici√™ncia."*

        **Se: Vazamento nas conex√µes**
        ‚Üí *"Substituir juntas/veda√ß√µes ou reparar a conex√£o."*

        3. **Calcula pr√≥xima inspe√ß√£o:**
        - Visual Semestral ‚Üí +6 meses
        - Funcional Anual ‚Üí +12 meses

        ---

        #### **Passo 6: Revise e Salve** üíæ

        1. Revise todas as respostas
        2. Confirme que fotos (se houver) foram anexadas
        3. Clique em **"‚úÖ Salvar Inspe√ß√£o"**
        4. üéâ Sistema confirma salvamento!

        **O sistema automaticamente:**
        - ‚úÖ Registra no hist√≥rico
        - üìÖ Agenda pr√≥xima inspe√ß√£o
        - üö® Gera alertas se cr√≠tico
        - üìä Atualiza Dashboard

        ---

        #### **‚ö° Dicas para Inspe√ß√µes Mais Eficientes:**

        **Prepara√ß√£o:**
        - üìã Imprima lista de todas as c√¢maras
        - üó∫Ô∏è Planeje rota l√≥gica (por √°rea)
        - üîã Celular com bateria suficiente
        - üß∞ Kit de ferramentas b√°sico

        **Durante a inspe√ß√£o:**
        - üîç Fa√ßa inspe√ß√£o visual completa antes de abrir
        - üì∏ Tire fotos ANTES de corrigir problemas simples
        - üìù Seja espec√≠fico nas n√£o conformidades
        - üßπ Aproveite para limpar se necess√°rio

        **Ap√≥s a inspe√ß√£o:**
        - üîß Corrija imediatamente problemas simples
        - üö® Reporte URGENTEMENTE problemas cr√≠ticos
        - üìä Revise relat√≥rio no sistema
        - üìÖ Programe corre√ß√µes necess√°rias

        ---

        #### **‚ùì Problemas Comuns e Solu√ß√µes:**

        **"C√¢mara n√£o aparece na lista"**
        - ‚úÖ Cadastre nas abas de cadastro primeiro
        - ‚úÖ Confirme se est√° no ambiente correto

        **"N√£o sei qual √© o tamanho espec√≠fico"**
        - ‚úÖ Verifique placa de identifica√ß√£o na c√¢mara
        - ‚úÖ Consulte projeto de instala√ß√£o
        - ‚úÖ Entre em contato com fabricante

        **"Como sei se a placa de orif√≠cio est√° correta?"**
        - ‚úÖ Compare com especifica√ß√£o do fabricante
        - ‚úÖ Verifique projeto original
        - ‚úÖ Consulte manual da c√¢mara

        **"Foto n√£o anexa / Upload falha"**
        - ‚úÖ Reduza tamanho da foto (<10MB)
        - ‚úÖ Use formato JPG ou PNG
        - ‚úÖ Verifique conex√£o internet

        **"Inspe√ß√£o n√£o salva"**
        - ‚úÖ Responda TODAS as perguntas
        - ‚úÖ Anexe foto se houver NC
        - ‚úÖ Verifique conex√£o
        - ‚úÖ Tente novamente ap√≥s alguns segundos
        """)

    st.markdown("---")

    # Tipos de c√¢maras
    st.subheader("üîß Entendendo os Tipos de C√¢maras de Espuma")

    with st.expander("üìö Guia Completo dos Modelos"):
        st.markdown("""
        ### **MCS - Membrana Com Selo de Vidro**

        **Como funciona:**
        - Solu√ß√£o entra pela base
        - Passa pelo selo de vidro
        - Defletor gera a espuma
        - Barragem distribui uniformemente

        **Componentes cr√≠ticos:**
        - üî¥ **Selo de vidro** - Deve estar limpo e √≠ntegro
        - üîß **Junta de veda√ß√£o** - N√£o pode estar ressecada
        - üìè **Defletor** - Essencial para qualidade da espuma
        - üìä **Barragem** - Distribui espuma uniformemente

        **Principais problemas:**
        - Selo de vidro sujo/trincado
        - Junta ressecada
        - Defletor danificado
        - Placa de orif√≠cio incompat√≠vel

        **Manuten√ß√£o t√≠pica:**
        - Limpeza semestral do selo
        - Substitui√ß√£o de juntas (a cada 2-3 anos)
        - Verifica√ß√£o de corros√£o

        ---

        ### **TF - Tubo de Filme (Type II)**

        **Como funciona:**
        - Solu√ß√£o entra em alta velocidade
        - Jato atinge defletor de proje√ß√£o
        - Forma pel√≠cula fina (filme)
        - Espuma de alta expans√£o

        **Componentes cr√≠ticos:**
        - üîß **Tubo de proje√ß√£o** - N√£o pode ter corros√£o interna
        - üìä **Defletor de proje√ß√£o** - Deve estar bem fixado
        - üìè **Placa de orif√≠cio** - Define vaz√£o

        **Principais problemas:**
        - Corros√£o no tubo interno
        - Defletor desalinhado
        - Obstru√ß√£o no orif√≠cio
        - Placa de orif√≠cio errada

        **Manuten√ß√£o t√≠pica:**
        - Inspe√ß√£o visual do tubo
        - Verifica√ß√£o de alinhamento
        - Limpeza de orif√≠cios

        ---

        ### **MLS - Membrana Low Shear**

        **Como funciona:**
        - Solu√ß√£o entra suavemente
        - Passa por membrana de elast√¥mero
        - Baixo cisalhamento (preserva espuma)
        - Espuma de alta qualidade

        **Componentes cr√≠ticos:**
        - üî¥ **Membrana de elast√¥mero** - N√£o pode ressecar
        - üîß **Junta de veda√ß√£o** - Veda√ß√£o perfeita
        - üìä **C√¢mara de espuma** - Integridade estrutural
        - üìè **Defletor/Barragem** - Distribui√ß√£o uniforme

        **Principais problemas:**
        - Ressecamento da membrana
        - Perda de elasticidade
        - Junta danificada
        - Placa de orif√≠cio incompat√≠vel

        **Manuten√ß√£o t√≠pica:**
        - Verifica√ß√£o da membrana (elasticidade)
        - Substitui√ß√£o peri√≥dica da membrana (5-7 anos)
        - Verifica√ß√£o de veda√ß√µes

        ---

        ### **üìè Import√¢ncia do Tamanho Espec√≠fico**

        **Por que o tamanho √© CR√çTICO?**

        1. **Placa de Orif√≠cio Correta:**
           - Cada tamanho tem uma placa espec√≠fica
           - Placa errada = vaz√£o errada
           - Vaz√£o errada = espuma inadequada
           - Espuma inadequada = prote√ß√£o comprometida

        2. **Compatibilidade de Pe√ßas:**
        - Selos de vidro t√™m tamanhos diferentes
        - Membranas s√£o espec√≠ficas por modelo
        - Defletores n√£o s√£o universais

        3. **Especifica√ß√µes T√©cnicas:**
        - Vaz√£o nominal (L/min)
        - Press√£o de trabalho (bar)
        - Taxa de aplica√ß√£o (L/min/m¬≤)
        - Capacidade de descarga

        **Exemplos de tamanhos comuns:**

        **MCS:**
        - MCS-17: 17 GPM (64 L/min)
        - MCS-33: 33 GPM (125 L/min)
        - MCS-50: 50 GPM (189 L/min)

        **TF:**
        - TF-22: 22 GPM (83 L/min)
        - TF-44: 44 GPM (167 L/min)

        **MLS:**
        - MLS-30: 30 GPM (114 L/min)
        - MLS-45: 45 GPM (170 L/min)

        üí° **Como descobrir o tamanho:**
        1. Placa de identifica√ß√£o na c√¢mara
        2. Projeto de instala√ß√£o original
        3. Manual do fabricante
        4. Consultoria t√©cnica especializada
        """)

    st.markdown("---")

    # Requisitos legais
    st.subheader("‚öñÔ∏è Requisitos Legais e Normas")

    with st.expander("üìú Normas e Legisla√ß√£o Aplic√°vel"):
        st.markdown("""
        #### **Principais Normas:**

        **NFPA 11 - Standard for Low-, Medium-, and High-Expansion Foam**
        - üìÖ Inspe√ß√µes **semestrais** obrigat√≥rias
        - üîß Testes funcionais **anuais**
        - üìã Documenta√ß√£o obrigat√≥ria
        - üîç Crit√©rios de aprova√ß√£o/reprova√ß√£o

        **NFPA 25 - Standard for the Inspection, Testing, and Maintenance of Water-Based Fire Protection Systems**
        - ‚è∞ Frequ√™ncias de inspe√ß√£o
        - üìä Procedimentos de teste
        - üìù Registros obrigat√≥rios

        **NBR 15511 - Sistemas de Espuma**
        - üè≠ Requisitos brasileiros
        - üìã Compatibilidade de equipamentos
        - üîß Manuten√ß√£o peri√≥dica

        **IT 23 (Corpo de Bombeiros - SP)**
        - üö® Sistemas de chuveiros autom√°ticos
        - üìç Aplica√ß√£o espec√≠fica para cada risco
        - ‚è∞ Prazos de adequa√ß√£o

        ---

        #### **Responsabilidades Legais:**

        **Propriet√°rio/Respons√°vel pela Instala√ß√£o:**
        - ‚úÖ Manter equipamentos em **condi√ß√µes de uso**
        - ‚úÖ Realizar **inspe√ß√µes peri√≥dicas**
        - ‚úÖ Manter **registros documentados**
        - ‚úÖ Corrigir **n√£o conformidades**
        - ‚úÖ Contratar empresa especializada para manuten√ß√£o

        **Empresa de Manuten√ß√£o:**
        - ‚úÖ Executar servi√ßos conforme normas
        - ‚úÖ Emitir laudos t√©cnicos
        - ‚úÖ Usar pe√ßas originais/homologadas
        - ‚úÖ Responsabilidade t√©cnica (ART/TRT)

        **SESMT/Seguran√ßa:**
        - ‚úÖ Supervisionar programa de inspe√ß√µes
        - ‚úÖ Auditar conformidade
        - ‚úÖ Reportar n√£o conformidades cr√≠ticas
        - ‚úÖ Manter documenta√ß√£o

        ---

        #### **Frequ√™ncias Obrigat√≥rias:**

        | Tipo de Inspe√ß√£o | Frequ√™ncia | Respons√°vel |
        |-----------------|------------|-------------|
        | Visual | Semestral | Interno |
        | Funcional | Anual | Interno ou Externo |
        | Teste Completo | Anual | Empresa Especializada |
        | Manuten√ß√£o Preventiva | Anual | Empresa Especializada |
        | Substitui√ß√£o de Componentes | Conforme Vida √ötil | Empresa Especializada |

        ---

        #### **Documenta√ß√£o Obrigat√≥ria:**

        üìÅ **Este sistema gera automaticamente:**
        - ‚úÖ Registro de todas as inspe√ß√µes
        - ‚úÖ Hist√≥rico completo de cada c√¢mara
        - ‚úÖ Evid√™ncias fotogr√°ficas de NC
        - ‚úÖ Relat√≥rios de conformidade
        - ‚úÖ Planos de a√ß√£o para corre√ß√µes
        - ‚úÖ Rastreabilidade completa

        üí° **Essencial para:**
        - Auditorias internas e externas
        - Fiscaliza√ß√µes do Corpo de Bombeiros
        - Processos de certifica√ß√£o (ISO, etc.)
        - Defesa em processos judiciais
        - Renova√ß√£o de AVCB/CLCB
        """)

    st.markdown("---")

    # Crit√©rios de aprova√ß√£o/reprova√ß√£o
    st.subheader("üéØ Crit√©rios de Aprova√ß√£o e Reprova√ß√£o")

    with st.expander("‚úÖ Quando Aprovar uma C√¢mara"):
        st.markdown("""
        **Uma c√¢mara est√° APROVADA quando:**

        ‚úÖ **Estrutura F√≠sica:**
        - Sem corros√£o significativa
        - Pintura em bom estado
        - Suportes firmes e alinhados
        - Identifica√ß√£o leg√≠vel

        ‚úÖ **Componentes Internos:**
        - Selo/Membrana/Tubo √≠ntegro
        - Juntas de veda√ß√£o em boas condi√ß√µes
        - Defletor/Barragem sem danos
        - C√¢mara de espuma sem trincas

        ‚úÖ **Sistema Hidr√°ulico:**
        - Sem vazamentos vis√≠veis
        - V√°lvulas operando corretamente
        - Conex√µes firmes
        - Drenos livres e estanques

        ‚úÖ **Linhas e Orif√≠cios:**
        - Tomadas de solu√ß√£o desobstru√≠das
        - Ejetores limpos
        - **Placa de orif√≠cio compat√≠vel com modelo**
        - Sem corros√£o interna significativa

        ‚úÖ **Teste Funcional (se anual):**
        - Fluxo de √°gua/espuma adequado
        - Linha estanque (sem vazamentos)
        - Sistema funciona conforme especifica√ß√£o
        - Qualidade da espuma adequada
        """)

    with st.expander("‚ùå Quando Reprovar uma C√¢mara"):
        st.markdown("""
        **Uma c√¢mara deve ser REPROVADA quando:**

        ‚ùå **Problemas CR√çTICOS (Interdi√ß√£o Imediata):**
        - üö® Estrutura comprometida (risco de colapso)
        - üö® Vazamento significativo
        - üö® N√£o h√° fluxo de espuma
        - üö® Placa de orif√≠cio completamente incompat√≠vel
        - üö® Selo/Membrana completamente danificado

        ‚ö†Ô∏è **Problemas GRAVES (Corre√ß√£o Urgente < 7 dias):**
        - Corros√£o avan√ßada em componentes cr√≠ticos
        - Selo de vidro trincado/sujo (MCS)
        - Membrana ressecada/danificada (MLS)
        - Tubo de proje√ß√£o com corros√£o interna (TF)
        - Defletor/Barragem danificado
        - Junta de veda√ß√£o comprometida
        - Placa de orif√≠cio parcialmente obstru√≠da

        üìã **Problemas MODERADOS (Programar Corre√ß√£o < 30 dias):**
        - Pintura descascada (corros√£o superficial)
        - V√°lvulas com opera√ß√£o dif√≠cil
        - Drenos parcialmente obstru√≠dos
        - Identifica√ß√£o ileg√≠vel
        - Tampa/Cobertura danificada

        **IMPORTANTE:**
        - C√¢mara com problema CR√çTICO ‚Üí **INTERDITAR**
        - Providencie **prote√ß√£o alternativa tempor√°ria**
        - Notifique **imediatamente** Corpo de Bombeiros
        - Contrate empresa especializada URGENTE
        """)

    st.markdown("---")

    # Perguntas frequentes
    st.subheader("‚ùì Perguntas Frequentes")

    with st.expander("üìÖ Com que frequ√™ncia devo inspecionar?"):
        st.markdown("""
        **Frequ√™ncia Obrigat√≥ria:**

        - üìã **Visual Semestral:** A cada 6 meses
        - üîß **Funcional Anual:** 1 vez por ano
        - üö® **Extraordin√°ria:** Ap√≥s incidentes

        **Calend√°rio Sugerido:**
    Janeiro     ‚Üí Visual Semestral
    Julho       ‚Üí Funcional Anual (substitui visual)

        **Inspe√ß√µes Extraordin√°rias:**
        - Ap√≥s acionamento real (inc√™ndio)
        - Ap√≥s obras/modifica√ß√µes pr√≥ximas
        - Ap√≥s eventos clim√°ticos extremos
        - Se houver suspeita de problema
        - Antes/depois de paradas programadas

        **Manuten√ß√£o Especializada:**
        - Anual por empresa certificada
        - Substitui ou complementa funcional interna
        - Emite laudo t√©cnico
        """)

    with st.expander("üîß Como fazer o teste funcional anual?"):
        st.markdown("""
        **Procedimento Completo:**

        **1. Prepara√ß√£o (15 minutos):**
        - Avise √°rea de seguran√ßa/bombeiros
        - Desligue alarmes se necess√°rio
        - Prepare recipiente para coletar espuma
        - Separe cron√¥metro
        - Prepare medidor de vaz√£o (se tiver)

        **2. Teste de Fluxo de √Ågua (5 minutos):**
        - Abra v√°lvula lentamente
        - Verifique se h√° fluxo
        - Observe vazamentos
        - Cronometre enchimento do recipiente
        - Calcule vaz√£o aproximada

        **3. Teste de Espuma (10 minutos):**
        - Adicione LGE (L√≠quido Gerador de Espuma)
        - Proporcione conforme especifica√ß√£o (geralmente 3% ou 6%)
        - Observe forma√ß√£o da espuma
        - Verifique qualidade (expans√£o, drenagem)
        - Confirme cobertura uniforme
        - Teste drenagem de 25% em 2-4 minutos

        **4. Verifica√ß√£o de Estanqueidade (5 minutos):**
        - Inspecione todas as conex√µes
        - Procure por vazamentos
        - Verifique veda√ß√µes
        - Teste v√°lvulas de drenagem

        **5. Limpeza e Finaliza√ß√£o (10 minutos):**
        - Drene sistema completamente
        - Limpe res√≠duos de espuma
        - Feche v√°lvulas
        - Reative alarmes
        - Documente resultados

        **Crit√©rios de Aprova√ß√£o:**
        - ‚úÖ Vaz√£o dentro de ¬±10% do nominal
        - ‚úÖ Espuma formada adequadamente
        - ‚úÖ Expans√£o conforme especifica√ß√£o
        - ‚úÖ Drenagem de 25% em 2-4 min
        - ‚úÖ Sem vazamentos
        - ‚úÖ Sistema responde rapidamente

        **‚ö†Ô∏è Quando Reprovar:**
        - ‚ùå Vaz√£o < 90% do nominal
        - ‚ùå Espuma n√£o se forma adequadamente
        - ‚ùå Vazamentos significativos
        - ‚ùå Drenagem muito r√°pida ou muito lenta
        - ‚ùå Sistema n√£o responde

        **üí° Dica Importante:**
        Se n√£o tem experi√™ncia em testes funcionais,
        **CONTRATE EMPRESA ESPECIALIZADA**.
        Teste mal feito pode danificar equipamento
        ou dar falso positivo/negativo.
        """)

    with st.expander("üîç Como saber se a placa de orif√≠cio est√° correta?"):
        st.markdown("""
        ### **Por que a Placa de Orif√≠cio √© CR√çTICA?**

        A placa de orif√≠cio √© um componente pequeno, mas **ESSENCIAL**:

        - üìè Define a **vaz√£o** do sistema
        - üíß Controla a **press√£o** de descarga
        - ‚òÅÔ∏è Determina a **qualidade** da espuma
        - üéØ Garante a **efici√™ncia** da prote√ß√£o

        **Se a placa estiver ERRADA:**
        - üö® Vaz√£o insuficiente = Prote√ß√£o inadequada
        - üö® Vaz√£o excessiva = Dano ao equipamento
        - üö® Press√£o incorreta = Espuma de m√° qualidade
        - üö® **RESULTADO: Sistema n√£o protege como deveria!**

        ---

        ### **Como Verificar a Compatibilidade:**

        **1. Identifica√ß√£o da Placa:**
        - Procure por marca√ß√£o gravada
        - Geralmente em GPM ou L/min
        - Pode ter c√≥digo do fabricante
        - Exemplo: "33 GPM" ou "125 LPM"

        **2. Especifica√ß√£o da C√¢mara:**
        - Verifique placa de identifica√ß√£o
        - Ex: "MCS-33" = 33 GPM nominal
        - Consulte manual do fabricante
        - Projeto de instala√ß√£o original

        **3. Compara√ß√£o:**
    C√¢mara: MCS-33
    Placa: 33 GPM
    ‚úÖ COMPAT√çVEL!

    C√¢mara: MCS-33
    Placa: 17 GPM
    ‚ùå INCOMPAT√çVEL! (vaz√£o 50% menor)

    C√¢mara: MCS-33
    Placa: Sem marca√ß√£o vis√≠vel
    ‚ö†Ô∏è SUBSTITUIR por seguran√ßa

        **4. Verifica√ß√£o Pr√°tica (Teste Funcional):**
        - Me√ßa vaz√£o real durante teste
        - Compare com especifica√ß√£o
        - Margem aceit√°vel: ¬±10%
        - Se fora da margem ‚Üí Placa errada

        ---

        ### **Tabela de Refer√™ncia R√°pida:**

        | Modelo da C√¢mara | Vaz√£o Nominal | Placa Correta |
        |------------------|---------------|---------------|
        | MCS-17 | 64 L/min | 17 GPM |
        | MCS-33 | 125 L/min | 33 GPM |
        | MCS-50 | 189 L/min | 50 GPM |
        | TF-22 | 83 L/min | 22 GPM |
        | TF-44 | 167 L/min | 44 GPM |
        | MLS-30 | 114 L/min | 30 GPM |
        | MLS-45 | 170 L/min | 45 GPM |

        **üí° Convers√£o r√°pida:** 1 GPM ‚âà 3,785 L/min

        ---

        ### **O que Fazer se a Placa Estiver Errada:**

        **CR√çTICO - A√á√ÉO IMEDIATA:**

        1. ‚úÖ **Reprove a inspe√ß√£o**
        2. ‚úÖ **Anexe foto** da placa incorreta
        3. ‚úÖ **Notifique** respons√°vel pela manuten√ß√£o
        4. ‚úÖ **Contrate** empresa especializada
        5. ‚úÖ **Substitua** por placa correta
        6. ‚úÖ **Teste** sistema ap√≥s substitui√ß√£o
        7. ‚úÖ **Documente** a corre√ß√£o

        **At√© a corre√ß√£o:**
        - üö® Sistema **N√ÉO est√° protegendo adequadamente**
        - üìã Considere **prote√ß√£o alternativa tempor√°ria**
        - üîî **Aumente frequ√™ncia** de inspe√ß√µes
        - üìä **Notifique** Corpo de Bombeiros se exigido

        ---

        ### **Fontes de Informa√ß√£o:**

        **1. Placa de Identifica√ß√£o da C√¢mara:**
        - Fixada no corpo da c√¢mara
        - Cont√©m modelo e especifica√ß√µes

        **2. Projeto Original:**
        - Memorial de c√°lculo
        - Especifica√ß√µes t√©cnicas
        - Desenhos de instala√ß√£o

        **3. Manual do Fabricante:**
        - Especifica√ß√µes por modelo
        - Tabelas de vaz√£o
        - Pe√ßas de reposi√ß√£o

        **4. Consultoria Especializada:**
        - Empresas de manuten√ß√£o certificadas
        - Fabricantes/representantes
        - Engenheiros de prote√ß√£o contra inc√™ndio
        """)

    with st.expander("üîÑ Qual a vida √∫til dos componentes?"):
        st.markdown("""
        ### **Expectativa de Vida √ötil:**

        **Componentes com Desgaste Regular:**

        **Selo de Vidro (MCS):**
        - üïê **Vida √∫til:** 5-10 anos
        - üîç **Inspecionar:** Semestralmente
        - üîß **Trocar se:** Trincado, sujo irremov√≠vel, riscado
        - üí° **Dica:** Limpe regularmente para prolongar vida

        **Membrana de Elast√¥mero (MLS):**
        - üïê **Vida √∫til:** 5-7 anos
        - üîç **Inspecionar:** Semestralmente
        - üîß **Trocar se:** Ressecada, perdeu elasticidade, rasgada
        - üí° **Dica:** Vida √∫til varia com clima/temperatura

        **Juntas de Veda√ß√£o:**
        - üïê **Vida √∫til:** 2-5 anos
        - üîç **Inspecionar:** Semestralmente
        - üîß **Trocar se:** Ressecada, endurecida, vazando
        - üí° **Dica:** Sempre troque ao abrir a c√¢mara

        **Tubo de Proje√ß√£o (TF):**
        - üïê **Vida √∫til:** 10-15 anos
        - üîç **Inspecionar:** Anualmente (interno)
        - üîß **Trocar se:** Corros√£o interna significativa
        - üí° **Dica:** Qualidade da √°gua afeta vida √∫til

        **Defletor/Barragem:**
        - üïê **Vida √∫til:** 10-20 anos
        - üîç **Inspecionar:** Anualmente
        - üîß **Trocar se:** Deformado, corro√≠do, danificado
        - üí° **Dica:** Raramente precisa troca completa

        **V√°lvulas:**
        - üïê **Vida √∫til:** 10-15 anos
        - üîç **Inspecionar:** Semestralmente
        - üîß **Trocar se:** Travando, vazando, corro√≠da
        - üí° **Dica:** Manuten√ß√£o preventiva prolonga vida

        **Estrutura/Corpo da C√¢mara:**
        - üïê **Vida √∫til:** 20-30 anos
        - üîç **Inspecionar:** Anualmente (estrutural)
        - üîß **Trocar se:** Corros√£o estrutural, trincas
        - üí° **Dica:** Pintura adequada prolonga muito

        **Placa de Orif√≠cio:**
        - üïê **Vida √∫til:** Indefinida se mantida
        - üîç **Inspecionar:** Anualmente
        - üîß **Trocar se:** Deformada, obstru√≠da, errada
        - üí° **Dica:** Limpeza regular √© essencial

        ---

        ### **Fatores que Afetam Vida √ötil:**

        **Reduzem a Vida √ötil:**
        - ‚ùå Ambiente corrosivo (mar√≠timo, qu√≠mico)
        - ‚ùå Temperaturas extremas
        - ‚ùå Falta de manuten√ß√£o
        - ‚ùå Qualidade de √°gua ruim
        - ‚ùå Exposi√ß√£o a intemp√©ries
        - ‚ùå Uso de pe√ßas n√£o originais

        **Prolongam a Vida √ötil:**
        - ‚úÖ Manuten√ß√£o preventiva regular
        - ‚úÖ Pintura de prote√ß√£o adequada
        - ‚úÖ Ambiente controlado
        - ‚úÖ Tratamento de √°gua
        - ‚úÖ Inspe√ß√µes frequentes
        - ‚úÖ Uso de pe√ßas originais

        ---

        ### **Programa de Substitui√ß√£o Recomendado:**

        **A cada 2 anos:**
        - Juntas de veda√ß√£o (preventivo)
        - Lubrifica√ß√£o de v√°lvulas

        **A cada 5 anos:**
        - Selo de vidro (MCS)
        - Membrana (MLS)
        - Revis√£o completa de v√°lvulas

        **A cada 10 anos:**
        - Tubo de proje√ß√£o (se corros√£o)
        - Defletor/Barragem (se desgastado)
        - Repintura completa

        **A cada 15-20 anos:**
        - Considerar substitui√ß√£o completa
        - Avaliar custo x benef√≠cio
        - Verificar disponibilidade de pe√ßas

        **üí° Importante:**
        Estes s√£o valores **m√©dios/recomendados**.
        A vida √∫til real depende de:
        - Condi√ß√µes de opera√ß√£o
        - Qualidade da manuten√ß√£o
        - Ambiente de instala√ß√£o
        - Frequ√™ncia de acionamento

        **Sempre consulte fabricante para recomenda√ß√µes espec√≠ficas!**
        """)

    with st.expander("üì∏ Preciso tirar foto em TODAS as inspe√ß√µes?"):
        st.markdown("""
        **N√ÉO - Apenas quando houver n√£o conformidade.**

        **Quando a foto √© OBRIGAT√ìRIA:**
        - ‚ùå Qualquer item marcado como **"N√£o Conforme"**
        - üö® Para evidenciar o problema encontrado
        - üìã Obrigat√≥rio para auditoria e rastreabilidade
        - ‚öñÔ∏è Essencial para defesa legal

        **Quando a foto √© OPCIONAL:**
        - ‚úÖ Inspe√ß√£o 100% conforme
        - ‚ö†Ô∏è Item marcado como N/A
        - üìä Para documenta√ß√£o adicional

        **Quando a foto √© RECOMENDADA (mas n√£o obrigat√≥ria):**
        - üìç Estado geral da c√¢mara
        - üîß Ap√≥s manuten√ß√£o/substitui√ß√£o de pe√ßas
        - üìã Placa de identifica√ß√£o (documenta√ß√£o)
        - üè∑Ô∏è N√∫mero de s√©rie de componentes novos

        ---

        ### **Dicas para Fotos Eficientes:**

        **Composi√ß√£o:**
        - üéØ Foque no **problema espec√≠fico**
        - üìè Inclua **refer√™ncia de tamanho** (r√©gua, caneta)
        - üî¶ **Ilumine bem** o local
        - üìê Tire de **m√∫ltiplos √¢ngulos** se necess√°rio
        - üè∑Ô∏è Inclua placa de identifica√ß√£o quando poss√≠vel

        **Qualidade:**
        - üì± Qualidade m√©dia do celular j√° √© suficiente
        - üíæ Sistema aceita at√© 10MB por foto
        - üñºÔ∏è Formatos: JPG, JPEG, PNG
        - üîç Foque bem antes de tirar
        - ‚òÄÔ∏è Evite contraluz

        **O que Fotografar:**

        **Para Corros√£o:**
        - Vista geral mostrando extens√£o
        - Close-up da √°rea afetada
        - Detalhe da profundidade

        **Para Trincas/Danos:**
        - Vista geral da pe√ßa
        - Close-up da trinca/dano
        - R√©gua ao lado para dimens√£o

        **Para Vazamentos:**
        - Ponto de vazamento
        - √Årea molhada/manchada
        - Conex√£o/junta afetada

        **Para Sujeira/Obstru√ß√£o:**
        - Estado atual
        - Componente afetado
        - Compara√ß√£o com √°rea limpa (se poss√≠vel)

        **Para Incompatibilidade:**
        - Placa de identifica√ß√£o da c√¢mara
        - Marca√ß√£o da placa de orif√≠cio
        - Ambas juntas se poss√≠vel

        ---

        ### **Erros Comuns a Evitar:**

        ‚ùå **Foto muito escura**
        ‚Üí Use flash ou lanterna

        ‚ùå **Foto tremida/desfocada**
        ‚Üí Apoie o celular, respire fundo

        ‚ùå **Foto muito longe**
        ‚Üí Aproxime-se do problema

        ‚ùå **Foto sem contexto**
        ‚Üí Mostre onde fica o problema

        ‚ùå **Foto de √¢ngulo ruim**
        ‚Üí Posicione-se adequadamente

        ---

        ### **Armazenamento e Seguran√ßa:**

        **Sistema ISF IA:**
        - ‚úÖ Fotos salvas no Supabase
        - ‚úÖ Backup autom√°tico
        - ‚úÖ Vinculadas √† inspe√ß√£o
        - ‚úÖ Acesso controlado
        - ‚úÖ Mantidas permanentemente

        **Recomenda√ß√µes:**
        - üì± Tire backup local tamb√©m
        - üìÅ Organize por c√¢mara/data
        - üîí N√£o compartilhe publicamente
        - üìã Mantenha por 5+ anos
        """)

    with st.expander("üÜò O que fazer quando encontro um problema cr√≠tico?"):
        st.markdown("""
        ### **Defini√ß√£o de Problema CR√çTICO:**

        üö® **√â CR√çTICO quando:**
        - Estrutura com risco de colapso
        - Vazamento significativo incontrol√°vel
        - Sistema n√£o funciona (sem fluxo)
        - Placa de orif√≠cio completamente incompat√≠vel
        - Componente essencial totalmente danificado
        - Risco imediato √† seguran√ßa

        **EM RESUMO:** Se o sistema **N√ÉO protegeria** em caso de inc√™ndio ‚Üí √â CR√çTICO

        ---

        ### **A√á√ÉO IMEDIATA (Primeiros 30 minutos):**

        **1. INTERROMPA a inspe√ß√£o** üõë
        - N√£o continue com outras c√¢maras
        - Foque na situa√ß√£o cr√≠tica

        **2. DOCUMENTE o problema** üì∏
        - Tire m√∫ltiplas fotos
        - Anote detalhes
        - Registre no sistema (marque como NC)

        **3. AVISE imediatamente:** üìû
        - ‚úÖ Seu supervisor direto
        - ‚úÖ Respons√°vel pela seguran√ßa (SESMT)
        - ‚úÖ Gerente da √°rea protegida
        - ‚úÖ Corpo de Bombeiros (se legalmente exigido)

        **4. SINALIZE o equipamento** ‚ö†Ô∏è
        - Coloque placa: "EQUIPAMENTO COM DEFEITO"
        - Isole √°rea se necess√°rio
        - Impe√ßa uso/acionamento

        ---

        ### **CURTO PRAZO (Mesmo Dia):**

        **5. AVALIE alternativas tempor√°rias** üîÑ

        **Op√ß√µes poss√≠veis:**
        - Extintores port√°teis adicionais na √°rea
        - Brigada de inc√™ndio em alerta
        - Vigia de inc√™ndio (ronda constante)
        - Restri√ß√£o de atividades de risco
        - Isolamento de √°rea cr√≠tica

        **6. CONTATE empresa especializada** üîß
        - Empresa de manuten√ß√£o certificada
        - Solicite visita URGENTE
        - Explique a criticidade
        - Pe√ßa prazo de atendimento

        **7. NOTIFIQUE autoridades** üìã
        - Corpo de Bombeiros (se exigido por lei)
        - Informe situa√ß√£o e prazo de corre√ß√£o
        - Documente a notifica√ß√£o

        ---

        ### **M√âDIO PRAZO (At√© Corre√ß√£o):**

        **8. ACOMPANHE a corre√ß√£o** üëÅÔ∏è
        - Cobre prazos da empresa
        - Solicite cronograma detalhado
        - Exija uso de pe√ßas originais
        - Pe√ßa ART/TRT do servi√ßo

        **9. MANTENHA medidas tempor√°rias** ‚ö†Ô∏è
        - At√© sistema ser testado e aprovado
        - N√£o remova prote√ß√µes alternativas prematuramente

        **10. TESTE ap√≥s corre√ß√£o** ‚úÖ
        - Realize teste funcional completo
        - N√£o confie apenas no laudo da empresa
        - Documente que sistema voltou a funcionar

        ---

        ### **Exemplos de Problemas CR√çTICOS:**

        **Problema: C√¢mara trincada, vazando constantemente**

        **A√ß√µes:**
        1. ‚úÖ Foto detalhada da trinca
        2. ‚úÖ Avisar SESMT/supervisor
        3. ‚úÖ Placa "N√ÉO FUNCIONA"
        4. ‚úÖ 10 extintores port√°teis na √°rea
        5. ‚úÖ Contatar fabricante/manuten√ß√£o
        6. ‚úÖ Notificar Bombeiros
        7. ‚úÖ Prazo m√°ximo: 48h para solu√ß√£o

        ---

        **Problema: Placa de orif√≠cio 50% menor que deveria**

        **A√ß√µes:**
        1. ‚úÖ Foto da placa errada
        2. ‚úÖ Avisar ger√™ncia imediatamente
        3. ‚úÖ Solicitar substitui√ß√£o urgente
        4. ‚úÖ Placa correta: < 24h
        5. ‚úÖ Testar vaz√£o ap√≥s troca
        6. ‚úÖ Documentar corre√ß√£o

        ---

        **Problema: Selo de vidro completamente destru√≠do**

        **A√ß√µes:**
        1. ‚úÖ Foto dos cacos
        2. ‚úÖ Verificar se h√° reposi√ß√£o em estoque
        3. ‚úÖ Se n√£o houver: medidas tempor√°rias
        4. ‚úÖ Comprar selo original urgente
        5. ‚úÖ Instala√ß√£o por t√©cnico habilitado
        6. ‚úÖ Teste completo ap√≥s instala√ß√£o

        ---

        ### **Responsabilidades Legais:**

        ‚öñÔ∏è **IMPORTANTE:**
        - Ignorar problema cr√≠tico = **Neglig√™ncia**
        - N√£o comunicar = **Omiss√£o**
        - N√£o corrigir rapidamente = **Imprud√™ncia**
        - Sistema inoperante em inc√™ndio = **Responsabiliza√ß√£o**

        **Documentar TUDO:**
        - Data/hora da descoberta
        - Quem foi avisado e quando
        - Medidas tomadas
        - Prazos de corre√ß√£o
        - Comprovantes de notifica√ß√µes

        **Esta documenta√ß√£o pode te proteger legalmente!**

        ---

        ### **Checklist de A√ß√£o em Emerg√™ncia:**
    ‚òê Problema identificado e documentado
    ‚òê Fotos tiradas (m√∫ltiplos √¢ngulos)
    ‚òê Supervisor avisado
    ‚òê SESMT avisado
    ‚òê Gerente da √°rea avisado
    ‚òê Equipamento sinalizado
    ‚òê Medidas tempor√°rias implementadas
    ‚òê Empresa de manuten√ß√£o contatada
    ‚òê Prazo de corre√ß√£o definido
    ‚òê Bombeiros notificados (se exigido)
    ‚òê Corre√ß√£o acompanhada
    ‚òê Teste realizado ap√≥s corre√ß√£o
    ‚òê Sistema aprovado e liberado
    ‚òê Documenta√ß√£o completa arquivada

        **üí° Lembre-se:**
        C√¢mara de espuma cr√≠tica inoperante =
        **RISCO DE VIDA** + **RISCO PATRIMONIAL** + **RESPONSABILIDADE LEGAL**

        **N√ÉO HESITE EM INTERDITAR E TOMAR MEDIDAS DR√ÅSTICAS!**
        """)

    st.markdown("---")

    # Relat√≥rio consolidado
    st.subheader("üìä Gerando Relat√≥rio Consolidado")

    with st.expander("üìÑ Como Usar o Relat√≥rio PDF"):
        st.markdown("""
        ### **O que √© o Relat√≥rio Consolidado?**

        √â um documento PDF profissional que **consolida TODAS as c√¢maras**
        inspecionadas, com formato pronto para impress√£o e apresenta√ß√£o em auditorias.

        ---

        ### **O que o Relat√≥rio Inclui:**

        **1. Resumo Geral (Primeira P√°gina):**
        - üìä Total de c√¢maras no sistema
        - ‚úÖ Quantidade aprovadas
        - ‚ùå Quantidade com pend√™ncias
        - üìà Estat√≠sticas gerais

        **2. Para Cada C√¢mara:**

        **Cabe√ßalho Individual:**
        - üè∑Ô∏è ID da c√¢mara
        - üìç Localiza√ß√£o
        - üîß Modelo e tamanho
        - üè≠ Marca
        - üìÖ Data da √∫ltima inspe√ß√£o
        - üìÖ Pr√≥xima inspe√ß√£o prevista
        - ‚úÖ/‚ùå Status geral (colorido)

        **Dados T√©cnicos:**
        - Tipo de inspe√ß√£o (Visual/Funcional)
        - Inspetor respons√°vel
        - Data de realiza√ß√£o

        **Checklist Completo:**
        - ‚úì Todos os itens verificados
        - ‚úì Resultado de cada item
        - ‚úì Identifica√ß√£o visual de NCs
        - ‚úì Tabela formatada e leg√≠vel

        **Plano de A√ß√£o:**
        - üìã A√ß√µes corretivas geradas automaticamente
        - üéØ Espec√≠ficas para cada problema
        - üìù Orienta√ß√µes t√©cnicas

        **Evid√™ncias:**
        - üì∏ Link para fotos de n√£o conformidades
        - üîó Acesso direto ao Supabase

        ---

        ### **Como Gerar o Relat√≥rio:**

        **Passo 1:** V√° para aba **"üìä Relat√≥rio Consolidado"**

        **Passo 2:** Revise as estat√≠sticas mostradas na tela
        - Total de c√¢maras
        - Total de inspe√ß√µes
        - Aprovadas na √∫ltima inspe√ß√£o

        **Passo 3:** Clique em **"üìÑ Gerar Relat√≥rio PDF Consolidado"**

        **Passo 4:** Aguarde processamento (10-30 segundos)
        - Sistema busca todas as inspe√ß√µes
        - Consolida dados
        - Gera PDF formatado

        **Passo 5:** Baixe o arquivo gerado
        - Nome autom√°tico: `Relatorio_Camaras_Espuma_YYYYMMDD_HHMM.pdf`
        - Salve em local seguro
        - Fa√ßa backup

        ---

        ### **Para Que Usar o Relat√≥rio:**

        **‚úÖ Auditorias Internas:**
        - Apresenta√ß√£o para ger√™ncia
        - Reuni√µes de seguran√ßa
        - An√°lise de conformidade

        **‚úÖ Auditorias Externas:**
        - Fiscaliza√ß√£o do Corpo de Bombeiros
        - Auditorias de certifica√ß√£o (ISO, etc.)
        - Inspe√ß√µes de seguran√ßa
        - Per√≠cias t√©cnicas

        **‚úÖ Gest√£o:**
        - Planejamento de manuten√ß√µes
        - Or√ßamento de corre√ß√µes
        - Hist√≥rico de conformidade
        - Tomada de decis√£o

        **‚úÖ Documenta√ß√£o Legal:**
        - Comprova√ß√£o de inspe√ß√µes
        - Defesa em processos
        - Renova√ß√£o de AVCB/CLCB
        - Atendimento a normas

        ---

        ### **Dicas para Apresenta√ß√£o:**

        **Para Auditorias:**
        - üìÑ Imprima frente e verso
        - üìé Use pasta ou espiral
        - üìã Inclua capa com logo da empresa
        - ‚úçÔ∏è Espa√ßo para assinatura e carimbo

        **Para Arquivo Digital:**
        - üíæ Salve em pasta organizada
        - üìÅ Estrutura: `Relatorios/Camaras_Espuma/2025/`
        - ‚òÅÔ∏è Backup na nuvem
        - üîí Controle de acesso

        **Para Apresenta√ß√µes:**
        - üìä Destaque resumo geral
        - üéØ Foque em n√£o conformidades
        - üìà Mostre evolu√ß√£o ao longo do tempo
        - üí° Apresente planos de a√ß√£o

        ---

        ### **Frequ√™ncia Recomendada:**

        **Gere relat√≥rio:**
        - üìÖ **Mensalmente:** Para acompanhamento interno
        - üìÖ **Semestralmente:** Para auditorias regulares
        - üìÖ **Anualmente:** Para renova√ß√£o de AVCB
        - üö® **Sob demanda:** Para fiscaliza√ß√µes

        ---

        ### **Personaliza√ß√µes Futuras:**

        üí° **Em breve no sistema:**
        - Filtro por per√≠odo
        - Filtro por localiza√ß√£o
        - Comparativo entre per√≠odos
        - Gr√°ficos de tend√™ncias
        - Exporta√ß√£o para Excel

        Por enquanto, o relat√≥rio inclui **todas as c√¢maras**
        com suas **√∫ltimas inspe√ß√µes**.
        """)

    st.markdown("---")

    # Call-to-action
    st.success("""
    ### üöÄ Pronto para Come√ßar?

    **Siga este checklist r√°pido:**

    ‚úÖ **J√° tem c√¢maras cadastradas?**
    ‚Üí V√° para aba **"üìã Realizar Inspe√ß√£o"**

    ‚ùå **Ainda n√£o tem c√¢maras cadastradas?**
    ‚Üí Comece pela aba **"‚úçÔ∏è Cadastro R√°pido"** para adicionar ao invent√°rio

    ‚ö†Ô∏è **Tamanho espec√≠fico n√£o est√° cadastrado?**
    ‚Üí Atualize o cadastro com **Cadastro Completo** antes de inspecionar

    üìö **D√∫vidas sobre algum item do checklist?**
    ‚Üí Revise a se√ß√£o **"Entendendo os Tipos de C√¢maras"** acima

    ---

    **Lembre-se:**
    - Inspe√ß√µes **SEMESTRAIS** s√£o obrigat√≥rias
    - Testes **FUNCIONAIS ANUAIS** s√£o cr√≠ticos
    - **Placa de orif√≠cio** incompat√≠vel = Sistema n√£o funciona adequadamente

    Este sistema facilita a conformidade e mant√©m sua documenta√ß√£o sempre em dia! ‚ö°
    """)

    # Footer informativo
    st.markdown("---")
    st.caption("""
    üìå **Normas Aplic√°veis:**
    - NFPA 11 (Low, Medium, and High-Expansion Foam)
    - NFPA 25 (Inspection, Testing, and Maintenance)
    - NBR 15511 (Sistemas de Espuma)
    - IT 23 (Chuveiros Autom√°ticos - SP)

    üîÑ **√öltima Atualiza√ß√£o das Instru√ß√µes:** Janeiro/2025
    üìñ **Vers√£o do Guia:** 1.0
    """)


def instru_mangueiras():
    """Instru√ß√µes para Mangueiras e Abrigos"""
    st.header("üìñ Guia de Uso - Sistema de Mangueiras e Abrigos de Inc√™ndio")

    # Alerta de prioriza√ß√£o
    st.success(
        "‚ö° **Recomenda√ß√£o:** Para cadastro de m√∫ltiplas mangueiras de uma vez, "
        "use o **Processamento por IA com PDF**! Para cadastros individuais, use o **Cadastro Manual**."
    )

    st.markdown("---")

    # Compara√ß√£o de m√©todos - MANGUEIRAS
    st.subheader("üéØ Gest√£o de Mangueiras - Escolha o Melhor M√©todo")

    col1, col2 = st.columns(2)

    with col1:
        st.markdown("""
        ### ü§ñ Processamento por IA
        **üìÑ PARA M√öLTIPLAS MANGUEIRAS**

        **Tempo:** ~2-3 minutos (processo completo)

        **Ideal para:**
        - üìã Certificados de teste hidrost√°tico
        - üè¢ Relat√≥rios de empresas terceirizadas
        - üìä Processar 10, 20, 50+ mangueiras de uma vez
        - üìÑ Manter PDF anexado ao registro

        **Como funciona:**
        1. Fa√ßa upload do certificado PDF
        2. IA extrai todos os dados automaticamente
        3. Revise a tabela com todas as mangueiras
        4. Confirme e salve tudo de uma vez
        5. PDF fica anexado aos registros

        **Vantagens:**
        - ü§ñ IA processa tudo sozinha
        - ‚ö° M√∫ltiplas mangueiras em segundos
        - üìÑ Certificado anexado
        - üìÖ Calcula pr√≥ximo teste automaticamente
        - üéØ Identifica aprovadas/reprovadas/condenadas

        **Requer:** Plano Premium IA
        """)

    with col2:
        st.markdown("""
        ### ‚úçÔ∏è Cadastro Manual
        **üÜï PARA MANGUEIRAS INDIVIDUAIS**

        **Tempo:** ~1-2 minutos por mangueira

        **Ideal para:**
        - üÜï Cadastrar mangueira nova individual
        - üîß Mangueiras de reposi√ß√£o
        - ‚úèÔ∏è Corre√ß√µes pontuais
        - üìù Quando n√£o tem certificado PDF

        **Como funciona:**
        1. Preencha os dados b√°sicos
        2. Selecione di√¢metro, tipo e comprimento
        3. Informe ano de fabrica√ß√£o
        4. Opcionalmente, empresa fornecedora
        5. Salve - Pronto! ‚úÖ

        **Vantagens:**
        - üöÄ R√°pido para 1 mangueira
        - üìù Controle total dos dados
        - üÜï N√£o precisa de certificado
        - ‚öôÔ∏è Campos pr√©-definidos facilitam

        **Dispon√≠vel em:** Todos os planos Pro e Premium IA
        """)

    st.markdown("---")

    # Compara√ß√£o de m√©todos - ABRIGOS
    st.subheader("üßØ Gest√£o de Abrigos - Escolha o Melhor M√©todo")

    col1, col2, col3 = st.columns(3)

    with col1:
        st.markdown("""
        ### ü§ñ Invent√°rio por IA
        **üìÑ PARA M√öLTIPLOS ABRIGOS**

        **Tempo:** ~2-3 minutos (lote completo)

        **Ideal para:**
        - üìã Invent√°rios completos em PDF
        - üè¢ Levantamentos de empresas
        - üìä Cadastrar 5, 10, 20+ abrigos
        - üóÇÔ∏è Primeira implanta√ß√£o

        **Como funciona:**
        1. Upload do invent√°rio PDF
        2. IA extrai todos os abrigos
        3. Revise ID, local e itens
        4. Salve tudo de uma vez

        **Vantagens:**
        - ü§ñ IA identifica itens automaticamente
        - ‚ö° M√∫ltiplos abrigos em minutos
        - üìä Mant√©m estrutura organizada

        **Requer:** Plano Premium IA
        """)

    with col2:
        st.markdown("""
        ### ‚ûï Cadastro Manual
        **üÜï PARA ABRIGO INDIVIDUAL**

        **Tempo:** ~2-4 minutos por abrigo

        **Ideal para:**
        - üÜï Abrigo novo individual
        - üìù N√£o tem invent√°rio PDF
        - ‚úèÔ∏è Corre√ß√µes de dados
        - üîß Atualiza√ß√µes pontuais

        **Como funciona:**
        1. Informe ID e localiza√ß√£o
        2. Selecione itens padr√£o
        3. Adicione itens personalizados
        4. Defina quantidades
        5. Salve o abrigo

        **Vantagens:**
        - üìã Lista de itens padr√£o
        - ‚ûï Adicione itens customizados
        - üéØ Controle total do invent√°rio

        **Dispon√≠vel em:** Todos os planos
        """)

    with col3:
        st.markdown("""
        ### üîç Inspe√ß√£o de Abrigo
        **üìÖ USO PERI√ìDICO**

        **Tempo:** ~3-5 minutos por abrigo

        **Ideal para:**
        - üìÖ Inspe√ß√µes mensais obrigat√≥rias
        - ‚úÖ Verifica√ß√£o de conformidade
        - üîß Identificar itens faltantes
        - üìä Manter hist√≥rico

        **Como funciona:**
        1. Selecione o abrigo
        2. Checklist item por item
        3. Marque OK/Avariado/Faltando
        4. Verifique condi√ß√µes gerais
        5. Salve a inspe√ß√£o

        **Vantagens:**
        - üìã Checklist guiado
        - üéØ Baseado no invent√°rio real
        - üîî Identifica pend√™ncias
        - üìä Hist√≥rico rastre√°vel
        """)

    st.markdown("---")

    # Fluxo de trabalho recomendado
    st.subheader("üéØ Fluxo de Trabalho Recomendado")

    st.info("""
    **Para M√°xima Efici√™ncia, Siga Esta Ordem:**

    ### üîß MANGUEIRAS:

    1Ô∏è‚É£ **Recebeu Certificado de TH com M√∫ltiplas Mangueiras?**
    ‚Üí Use **"Inspe√ß√£o de Mangueiras com IA"** (IA processa tudo!)

    2Ô∏è‚É£ **Comprou 1 ou 2 Mangueiras Novas?**
    ‚Üí Use **"Cadastro Manual de Mangueiras"** (mais r√°pido para poucas)

    3Ô∏è‚É£ **Primeira Implanta√ß√£o do Sistema?**
    ‚Üí Use **Cadastro Manual** uma a uma OU pe√ßa invent√°rio em PDF para IA processar

    ---

    ### üßØ ABRIGOS:

    1Ô∏è‚É£ **Tem Invent√°rio Completo em PDF?**
    ‚Üí Use **"Cadastro de Abrigos com IA"** (m√∫ltiplos de uma vez!)

    2Ô∏è‚É£ **Cadastrar 1 Abrigo Novo?**
    ‚Üí Use **"Cadastro Manual"** no expans√≠vel da aba de inspe√ß√£o

    3Ô∏è‚É£ **Fazer Inspe√ß√£o Mensal?**
    ‚Üí Use **"Inspe√ß√£o de Abrigos"** (checklist guiado!)
    """)

    st.markdown("---")

    # Guia detalhado - MANGUEIRAS
    st.subheader("üíß Guia Completo: Gest√£o de Mangueiras")

    with st.expander("üìã Tipos de Teste e Validade", expanded=True):
        st.markdown("""
        ### üî¨ Teste Hidrost√°tico de Mangueiras

        **O que √©?**
        - Teste obrigat√≥rio que verifica a integridade da mangueira
        - Mangueira √© submetida a alta press√£o de √°gua
        - Identifica vazamentos, pontos fracos e desgaste

        ---

        ### ‚è∞ Frequ√™ncia Obrigat√≥ria

        **Norma NBR 12779:**
        - ‚úÖ **Teste a cada 12 meses** (anual obrigat√≥rio)
        - ‚ö†Ô∏è Sistema calcula automaticamente o pr√≥ximo vencimento
        - üö® Mangueira com teste vencido n√£o pode ser usada

        **Quando fazer teste extraordin√°rio:**
        - Ap√≥s qualquer reparo ou recondicionamento
        - Ap√≥s exposi√ß√£o a produtos qu√≠micos
        - Se houver suspeita de dano interno
        - Ap√≥s longos per√≠odos sem uso (>2 anos)

        ---

        ### üéØ Resultados Poss√≠veis

        **‚úÖ APROVADA:**
        - Suportou a press√£o de teste sem vazamentos
        - Est√° apta para uso por mais 12 meses
        - Sistema agenda pr√≥ximo teste automaticamente

        **‚ö†Ô∏è REPROVADA:**
        - Apresentou vazamento ou falha no teste
        - **N√ÉO pode ser usada** at√© reparo
        - Deve ser reparada e testada novamente
        - Se n√£o for poss√≠vel reparar ‚Üí CONDENAR

        **üóëÔ∏è CONDENADA:**
        - Falha estrutural irrepar√°vel
        - Deve ser **descartada imediatamente**
        - Substituir por mangueira nova
        - Sistema n√£o agenda pr√≥ximo teste (item baixado)

        ---

        ### üìä Press√µes de Teste por Tipo

        | Tipo | Press√£o de Trabalho | Press√£o de Teste |
        |------|---------------------|------------------|
        | Tipo 1 | 980 kPa (10 kgf/cm¬≤) | 1.960 kPa (20 kgf/cm¬≤) |
        | Tipo 2 | 1.370 kPa (14 kgf/cm¬≤) | 2.740 kPa (28 kgf/cm¬≤) |
        | Tipo 3 | 1.520 kPa (15,5 kgf/cm¬≤) | 3.040 kPa (31 kgf/cm¬≤) |
        | Tipo 4 | 1.960 kPa (20 kgf/cm¬≤) | 3.920 kPa (40 kgf/cm¬≤) |
        | Tipo 5 | 2.740 kPa (28 kgf/cm¬≤) | 5.480 kPa (56 kgf/cm¬≤) |
        """)

    with st.expander("ü§ñ Como Usar o Processamento por IA"):
        st.markdown("""
        ### üìÑ Passo a Passo: Processamento de Certificado PDF

        #### **Passo 1: Prepare o Certificado** üìã

        **Formatos aceitos:**
        - ‚úÖ PDF de empresas certificadas de teste hidrost√°tico
        - ‚úÖ Certificados padr√£o do mercado
        - ‚úÖ Relat√≥rios t√©cnicos com dados estruturados

        **O certificado deve conter:**
        - ID/n√∫mero de cada mangueira
        - Marca e especifica√ß√µes (di√¢metro, tipo, comprimento)
        - Data do teste
        - Resultado (Aprovado/Reprovado/Condenado)
        - Empresa executante e respons√°vel t√©cnico

        ---

        #### **Passo 2: Fa√ßa o Upload** üì§

        1. V√° para aba **"Inspe√ß√£o de Mangueiras com IA"**
        2. Clique em **"Choose file"** ou arraste o PDF
        3. Aguarde o upload completar
        4. Clique em **"üîé Analisar Certificado com IA"**

        ---

        #### **Passo 3: Aguarde o Processamento** ü§ñ

        **A IA far√° automaticamente:**
        - üìñ Leitura completa do certificado
        - üîç Identifica√ß√£o de todas as mangueiras
        - üìä Extra√ß√£o dos dados t√©cnicos
        - üìÖ C√°lculo da pr√≥xima data de teste
        - ‚úÖ Classifica√ß√£o de resultado

        **Tempo m√©dio:** 20-40 segundos

        üí° **Dica:** Quanto melhor a qualidade do PDF, melhor a precis√£o!

        ---

        #### **Passo 4: Revise os Dados Extra√≠dos** üîç

        Sistema mostrar√° uma **tabela** com todos os dados:

        | Campo | O que verificar |
        |-------|----------------|
        | **ID Mangueira** | ID correto e √∫nico |
        | **Marca** | Fabricante correto |
        | **Di√¢metro** | Em polegadas (1, 1¬Ω, 2, 2¬Ω, 3) |
        | **Tipo** | Tipo correto (1 a 5) |
        | **Comprimento** | Em metros (15, 20, 25, 30) |
        | **Ano Fabrica√ß√£o** | Ano realista |
        | **Data Inspe√ß√£o** | Data do teste hidrost√°tico |
        | **Pr√≥ximo Teste** | Deve ser +12 meses (se aprovada) |
        | **Resultado** | Aprovado/Reprovado/Condenado |
        | **Empresa** | Nome da empresa certificadora |
        | **Respons√°vel** | Nome do respons√°vel t√©cnico |

        **‚ö†Ô∏è Se houver erro:**
        - Voc√™ pode editar depois via Dashboard
        - Ou processar novamente com PDF melhor qualidade

        ---

        #### **Passo 5: Confirme e Salve** üíæ

        1. Revise todos os dados na tabela
        2. Clique em **"üíæ Confirmar e Salvar Registros"**
        3. Aguarde o salvamento em lote
        4. üéâ Pronto! Todas as mangueiras salvas de uma vez!

        **O sistema automaticamente:**
        - ‚úÖ Salva todas as mangueiras na planilha
        - üìÑ Anexa o PDF do certificado ao registro
        - üìÖ Agenda pr√≥ximos testes (se aprovadas)
        - üö® Marca mangueiras condenadas como inativas
        - üìä Atualiza o Dashboard
        - üîî Gera alertas de vencimento

        ---

        #### **üìä Exemplo Pr√°tico**

        **Certificado com 25 mangueiras:**
        - ‚è±Ô∏è Processamento por IA: ~3 minutos (tudo)
        - ‚è±Ô∏è Cadastro manual: ~50 minutos (2min √ó 25)

        **üí∞ Economia de tempo: ~94%!**
        """)

    with st.expander("‚úçÔ∏è Como Usar o Cadastro Manual de Mangueiras"):
        st.markdown("""
        ### üìù Passo a Passo: Cadastro Manual

        #### **Quando usar o cadastro manual?**

        ‚úÖ **Use quando:**
        - Comprou 1 ou 2 mangueiras novas
        - N√£o tem certificado de teste ainda
        - Precisa fazer cadastro inicial r√°pido
        - Quer corrigir dados de uma mangueira espec√≠fica

        ‚ùå **N√ÉO use quando:**
        - Tem certificado PDF com 5+ mangueiras (use IA!)
        - Precisa cadastrar invent√°rio completo (use IA!)

        ---

        #### **Passo 1: Acesse o Formul√°rio** üìã

        1. V√° para aba **"Cadastro Manual de Mangueiras"**
        2. Formul√°rio j√° estar√° pronto para preenchimento

        ---

        #### **Passo 2: Preencha os Dados Obrigat√≥rios** ‚úèÔ∏è

        **üè∑Ô∏è ID da Mangueira (OBRIGAT√ìRIO):**
        - Identifica√ß√£o √∫nica da mangueira
        - Exemplos: MG-001, MANG-A-15, H2-025
        - **Importante:** N√£o pode haver ID duplicado!

        **üìù Marca/Fabricante:**
        - Nome do fabricante da mangueira
        - Exemplos: Mangotex, Boa Vista, Taurus

        **üìè Di√¢metro (polegadas):**
        - Selecione da lista: 1, 1¬Ω, 2, 2¬Ω, 3
        - Mais comum: **1¬Ω** (residencial/comercial)
        - Industrial: **2¬Ω** ou **3**

        **üî¢ Tipo:**
        - Selecione de 1 a 5 (quanto maior, mais resistente)
        - Tipo 1: Uso leve
        - Tipo 2-3: Uso m√©dio (mais comum)
        - Tipo 4-5: Uso pesado/industrial

        **üìê Comprimento (metros):**
        - Selecione: 15, 20, 25, 30 metros
        - Mais comum: **15m** ou **30m**

        **üìÖ Ano de Fabrica√ß√£o:**
        - Ano em que a mangueira foi fabricada
        - Sistema valida: entre 30 anos atr√°s e ano atual
        - **Importante:** Mangueiras >10 anos requerem aten√ß√£o especial

        ---

        #### **Passo 3: Dados Opcionais** ‚ûï

        **üè¢ Empresa Fornecedora (Opcional):**
        - Nome da empresa que forneceu a mangueira
        - √ötil para rastreabilidade e garantia

        ---

        #### **Passo 4: Cadastre!** üöÄ

        1. Revise todos os dados preenchidos
        2. Clique em **"Cadastrar Nova Mangueira"**
        3. Aguarde a confirma√ß√£o
        4. ‚úÖ Mangueira cadastrada com sucesso!

        **O que acontece ap√≥s cadastrar:**
        - Mangueira aparece no Dashboard
        - Status inicial: "Pendente" (sem teste ainda)
        - Sistema aguarda primeiro teste hidrost√°tico
        - Voc√™ pode cadastrar outra mangueira (formul√°rio limpa automaticamente)

        ---

        #### **‚ö†Ô∏è Erros Comuns e Solu√ß√µes**

        **"ID da Mangueira j√° existe"**
        - ‚úÖ Escolha outro ID √∫nico
        - ‚úÖ Verifique se n√£o cadastrou antes
        - ‚úÖ Use padr√£o: MG-001, MG-002, etc.

        **"Dados n√£o salvaram"**
        - ‚úÖ Verifique conex√£o com internet
        - ‚úÖ Confirme que preencheu ID (obrigat√≥rio)
        - ‚úÖ Tente novamente ap√≥s alguns segundos

        ---

        #### **üí° Dicas para Cadastro Eficiente**

        **Crie um padr√£o de ID:**    MG-001, MG-002, MG-003...
    ou
    MANG-15M-001, MANG-15M-002... (inclui comprimento)
    ou
    H2-A-001, H2-A-002... (H2 = 2¬Ω", A = √Årea A)

        **Organize por setor/√°rea:**
        - Use prefixos: ADM-001, PROD-001, EST-001
        - Facilita localiza√ß√£o f√≠sica
        - Ajuda em inspe√ß√µes por √°rea

        **Mantenha planilha auxiliar:**
        - Excel com IDs, locais e datas de compra
        - Ajuda a n√£o duplicar IDs
        - Facilita planejamento de testes
        """)

    st.markdown("---")

    # Guia detalhado - ABRIGOS
    st.subheader("üßØ Guia Completo: Gest√£o de Abrigos de Emerg√™ncia")

    with st.expander("üìã O que s√£o Abrigos e Por que Inspecionar?", expanded=True):
        st.markdown("""
        ### üßØ O que √© um Abrigo de Emerg√™ncia?

        **Defini√ß√£o:**
        - Caixa ou arm√°rio instalado na parede
        - Cont√©m equipamentos de combate a inc√™ndio
        - Geralmente pintado de vermelho
        - Identificado com placa/sinaliza√ß√£o

        **Componentes t√≠picos:**
        - üíß Mangueiras de inc√™ndio (1¬Ω" ou 2¬Ω")
        - üöø Esguichos regul√°veis
        - üîß Chaves de mangueira e hidrante
        - üîå Adaptadores e redutores
        - üì¶ Derivantes (divisores de linha)

        ---

        ### ‚öñÔ∏è Por que Inspecionar Regularmente?

        **Requisitos legais:**
        - ‚úÖ NBR 13714: Inspe√ß√£o **mensal** obrigat√≥ria
        - ‚úÖ NR-23: Manuten√ß√£o dos equipamentos de combate
        - ‚úÖ C√≥digo de Inc√™ndio estadual

        **Riscos de n√£o inspecionar:**
        - üö® Equipamento faltante na hora da emerg√™ncia
        - üî¥ Mangueiras danificadas ou ressecadas
        - ‚ö†Ô∏è Acess√≥rios incompat√≠veis ou errados
        - üìã Multas em fiscaliza√ß√£o do Corpo de Bombeiros
        - üíº Responsabiliza√ß√£o civil e criminal

        **Benef√≠cios da inspe√ß√£o:**
        - ‚úÖ Conformidade legal garantida
        - üîí Seguran√ßa dos ocupantes
        - üìä Rastreabilidade completa
        - üîß Identifica√ß√£o precoce de problemas
        - üí∞ Economia com reparos preventivos

        ---

        ### üìÖ Frequ√™ncia de Inspe√ß√£o

        **Mensal (Obrigat√≥rio):**
        - Verifica√ß√£o visual de todos os itens
        - Confer√™ncia de quantidades
        - Estado de conserva√ß√£o
        - Lacre de seguran√ßa
        - Sinaliza√ß√£o

        **Extraordin√°ria (Quando Necess√°rio):**
        - Ap√≥s uso do abrigo em emerg√™ncia
        - Ap√≥s manuten√ß√£o ou substitui√ß√£o de itens
        - Ap√≥s identifica√ß√£o de viola√ß√£o
        - Antes de auditorias/fiscaliza√ß√µes
        """)

    with st.expander("ü§ñ Como Usar o Cadastro de Abrigos por IA"):
        st.markdown("""
        ### üìÑ Passo a Passo: Cadastro em Lote com IA

        #### **Passo 1: Prepare o Invent√°rio PDF** üìã

        **Formato ideal do documento:**
        - ‚úÖ Invent√°rio completo em PDF
        - ‚úÖ Lista de abrigos com IDs
        - ‚úÖ Localiza√ß√£o de cada abrigo
        - ‚úÖ Itens e quantidades por abrigo

        **Estrutura recomendada do PDF:**
    ABRIGO: ABR-01
    Local: Corredor A - T√©rreo
    Itens:
    - Mangueira 1¬Ω": 2 unidades
    - Esguicho 1¬Ω": 1 unidade
    - Chave de mangueira: 1 unidade

    ABRIGO: ABR-02
    Local: Escada B - 1¬∫ Andar
    Itens:
    - Mangueira 2¬Ω": 1 unidade
    ...

        ---

        #### **Passo 2: Fa√ßa o Upload** üì§

        1. V√° para aba **"Cadastro de Abrigos com IA"**
        2. Clique em **"Choose file"** ou arraste o PDF
        3. Aguarde upload completar
        4. Clique em **"üîé Analisar Invent√°rio com IA"**

        ---

        #### **Passo 3: IA Processa o Documento** ü§ñ

        **A IA extrair√° automaticamente:**
        - üè∑Ô∏è ID de cada abrigo
        - üìç Localiza√ß√£o descrita
        - üì¶ Lista completa de itens
        - üî¢ Quantidade de cada item
        - üè¢ Cliente/Unidade (se mencionado)

        **Tempo:** 30-60 segundos

        ---

        #### **Passo 4: Revise os Dados** üîç

        Sistema mostra **expansores** com cada abrigo:
    ‚ñº ABRIGO ID: ABR-01 | Cliente: Empresa X
      Local: Corredor A - T√©rreo
      Itens:
      {
        "Mangueira 1¬Ω\"": 2,
        "Esguicho 1¬Ω\"": 1,
        "Chave de mangueira": 1
      }

        **Clique em cada expansor** para ver detalhes completos

        **‚ö†Ô∏è Se algo estiver errado:**
        - Voc√™ pode editar depois via Dashboard
        - Ou cadastrar manualmente apenas os abrigos com erro

        ---

        #### **Passo 5: Confirme e Salve Tudo** üíæ

        1. Revise todos os abrigos
        2. Clique em **"üíæ Confirmar e Salvar Abrigos"**
        3. Sistema salva **todos de uma vez**
        4. üéâ Pronto! Invent√°rio completo cadastrado!

        **O que acontece ap√≥s salvar:**
        - ‚úÖ Todos os abrigos salvos na planilha
        - üìä Aparecem no Dashboard
        - üîç Prontos para inspe√ß√£o
        - üìã Checklist gerado automaticamente baseado no invent√°rio

        ---

        #### **üí° Dicas para IA processar melhor:**

        **‚úÖ FA√áA:**
        - Use PDFs com texto (n√£o imagens escaneadas)
        - Mantenha estrutura clara (ID ‚Üí Local ‚Üí Itens)
        - Liste itens em bullets ou numerados
        - Use nomes claros (ex: "Mangueira 1¬Ω\"" ao inv√©s de "Mang.")

        **‚ùå EVITE:**
        - PDFs muito complexos ou desorganizados
        - Imagens escaneadas de baixa qualidade
        - Documentos sem estrutura clara
        - M√∫ltiplos formatos misturados
        """)

    with st.expander("‚ûï Como Usar o Cadastro Manual de Abrigos"):
        st.markdown("""
        ### üìù Passo a Passo: Cadastro Individual

        #### **Quando usar cadastro manual?**

        ‚úÖ **Use quando:**
        - Instalou 1 abrigo novo
        - N√£o tem invent√°rio em PDF
        - Precisa fazer cadastro r√°pido
        - Quer controlar item por item

        ---

        #### **Passo 1: Acesse o Formul√°rio** üìã

        1. V√° para aba **"Inspe√ß√£o de Abrigos"**
        2. No topo, clique em **"‚ûï Cadastrar Novo Abrigo Manualmente"**
        3. Expansor abrir√° com o formul√°rio

        ---

        #### **Passo 2: Dados B√°sicos** ‚úèÔ∏è

        **üè∑Ô∏è ID do Abrigo (OBRIGAT√ìRIO):**
        - Identifica√ß√£o √∫nica do abrigo
        - Exemplos: ABR-01, ABRIGO-A-1, CECI-02
        - **Importante:** N√£o pode duplicar ID!

        **üè¢ Cliente/Unidade:**
        - Nome da empresa/unidade
        - Campo preenchido automaticamente (se houver)
        - Pode editar se necess√°rio

        **üìç Localiza√ß√£o (OBRIGAT√ìRIO):**
        - Descri√ß√£o detalhada do local
        - Exemplos:
          - "Corredor A - T√©rreo - Pr√≥ximo √† recep√ß√£o"
          - "Escada B - 2¬∫ Andar - Sa√≠da de emerg√™ncia"
          - "Garagem - Subsolo - Pilar 15"

        **üí° Dica:** Quanto mais espec√≠fico, melhor para localizar!

        ---

        #### **Passo 3: Invent√°rio de Itens** üì¶

        **Se√ß√£o 1: Itens Padr√£o**

        Sistema mostra lista de itens comuns:
        - Mangueira de 1¬Ω"
        - Mangueira de 2¬Ω"
        - Esguicho de 1¬Ω"
        - Esguicho de 2¬Ω"
        - Chave de Mangueira
        - Chave de Hidrante
        - Chave Storz
        - Derivante/Divisor
        - Redutor
        - Adaptador

        **Para cada item:**
        1. Veja o nome do item
        2. Digite a **quantidade** (0 se n√£o tiver)
        3. Apenas itens com quantidade > 0 ser√£o salvos

        **Se√ß√£o 2: Item Personalizado**

        Se tiver item n√£o listado:
        1. Digite o **nome do item** (ex: "Mangueira de 3 polegadas")
        2. Digite a **quantidade**
        3. Sistema incluir√° no invent√°rio

        **üí° Dica:** Pode adicionar m√∫ltiplos itens personalizados salvando e cadastrando novamente!

        ---

        #### **Passo 4: Cadastre o Abrigo** üöÄ

        1. Revise todos os dados
        2. Verifique se marcou pelo menos 1 item com quantidade > 0
        3. Clique em **"Cadastrar Novo Abrigo"**
        4. Aguarde confirma√ß√£o
        5. ‚úÖ Abrigo cadastrado com sucesso!

        **O que acontece ap√≥s cadastrar:**
        - Abrigo aparece na lista de sele√ß√£o
        - Pronto para ser inspecionado
        - Checklist gerado automaticamente
        - Invent√°rio salvo como JSON

        ---

        #### **‚ö†Ô∏è Valida√ß√µes do Sistema**

        Sistema valida automaticamente:
        - ‚úÖ ID √© obrigat√≥rio e √∫nico
        - ‚úÖ Localiza√ß√£o √© obrigat√≥ria
        - ‚úÖ Pelo menos 1 item com quantidade > 0

        **Mensagens de erro comuns:**

        **"ID do Abrigo √© obrigat√≥rio"**
        ‚Üí Preencha o campo ID

        **"Localiza√ß√£o √© obrigat√≥ria"**
        ‚Üí Descreva onde o abrigo est√° instalado

        **"√â necess√°rio adicionar pelo menos um item"**
        ‚Üí Marque quantidade > 0 em algum item
        """)

    with st.expander("üîç Como Realizar Inspe√ß√£o de Abrigos"):
        st.markdown("""
        ### üìã Passo a Passo: Inspe√ß√£o Mensal

        #### **Prepara√ß√£o para Inspe√ß√£o** üß∞

        **Antes de come√ßar:**
        - üì± Celular/tablet com acesso ao sistema
        - üî¶ Lanterna (se necess√°rio)
        - üìã Checklist mental dos itens
        - üîë Chave do abrigo (se for trancado)

        ---

        #### **Passo 1: Selecione o Abrigo** üîç

        1. V√° para aba **"Inspe√ß√£o de Abrigos"**
        2. Role at√© **"Inspe√ß√£o de Abrigo Existente"**
        3. No dropdown, selecione o abrigo
        4. Sistema carregar√° o invent√°rio cadastrado

        ---

        #### **Passo 2: Inspecione Item por Item** üì¶

        **Para cada item do invent√°rio:**

        Sistema mostra:
        - üì¶ **Nome do item**
        - üî¢ **Quantidade prevista** (cadastrada)

        Voc√™ deve marcar:

        **Status (escolha um):**
        - ‚úÖ **OK** - Item presente, em bom estado, quantidade correta
        - ‚ö†Ô∏è **Avariado** - Item presente, mas danificado/desgastado
        - ‚ùå **Faltando** - Item ausente ou quantidade menor que prevista

        **Observa√ß√£o (opcional mas recomendada):**
        - Descreva o problema se status ‚â† OK
        - Exemplos:
          - "Mangueira com ressecamento vis√≠vel"
          - "Falta 1 esguicho (previsto 2, encontrado 1)"
          - "Chave de mangueira enferrujada"

        ---

        #### **Passo 3: Condi√ß√µes Gerais** üîç

        Ap√≥s verificar todos os itens, inspecione:

        **üîí Lacre de seguran√ßa intacto?**
        - Sim ‚Üí Abrigo n√£o foi violado
        - N√£o ‚Üí Lacre rompido, danificado ou ausente

        **ü™ß Sinaliza√ß√£o vis√≠vel e correta?**
        - Sim ‚Üí Placa presente, leg√≠vel e bem posicionada
        - N√£o ‚Üí Placa ausente, ileg√≠vel ou escondida

        **üö™ Acesso desobstru√≠do?**
        - Sim ‚Üí Nada bloqueando o abrigo
        - N√£o ‚Üí Objetos, m√≥veis ou entulho na frente

        ---

        #### **Passo 4: Salve a Inspe√ß√£o** üíæ

        1. Revise todas as respostas
        2. Clique em **"‚úÖ Salvar Inspe√ß√£o"**
        3. Sistema calcula status geral automaticamente:
           - üü¢ **Aprovado** - Tudo OK
           - üî¥ **Reprovado com Pend√™ncias** - Algum item n√£o conforme

        4. üéâ Inspe√ß√£o salva com sucesso!

        ---

        #### **ü§ñ O que o Sistema Faz Automaticamente**

        **Ap√≥s salvar:**
        - ‚úÖ Registra inspe√ß√£o no hist√≥rico
        - üìÖ Agenda pr√≥xima inspe√ß√£o (30 dias)
        - üö® Gera alerta se houver pend√™ncias
        - üìä Atualiza Dashboard
        - üîî Notifica sobre itens faltantes/avariados

        **Se aprovado (tudo OK):**
        - üéà Bal√µes de comemora√ß√£o!
        - Status verde no Dashboard

        **Se reprovado (pend√™ncias):**
        - üìã Gera plano de a√ß√£o automaticamente
        - Sugere corre√ß√µes
        - Prioriza itens cr√≠ticos

        ---

        #### **üí° Dicas para Inspe√ß√£o Eficiente**

        **Organize por √°rea:**
        - Inspecione todos os abrigos de uma √°rea de uma vez
        - Crie rota l√≥gica para economizar tempo

        **Padronize o dia:**
        - Fa√ßa sempre no mesmo dia do m√™s (ex: todo dia 1¬∫)
        - Cria rotina e n√£o esquece

        **Tire fotos (opcional mas bom):**
        - Foto do abrigo fechado
        - Foto do abrigo aberto mostrando itens
        - Foto de n√£o conformidades
        - Anexe no sistema ou guarde para auditoria

        **Aja imediatamente em problemas cr√≠ticos:**
        - Item faltante essencial ‚Üí Repor HOJE
        - Lacre violado ‚Üí Investigar HOJE
        - Acesso bloqueado ‚Üí Liberar AGORA
        """)

    st.markdown("---")

    # Perguntas frequentes
    st.subheader("‚ùì Perguntas Frequentes")

    with st.expander("üíß Posso usar a mesma mangueira por quantos anos?"):
        st.markdown("""
        **N√£o h√° prazo de validade fixo para mangueiras**, mas:

        ### üìã Crit√©rios de Substitui√ß√£o

        **Substitua quando:**
        - ‚ùå **Reprovada no teste hidrost√°tico** 2x seguidas
        - üóëÔ∏è **Condenada** em teste (vazamento irrepar√°vel)
        - üë¥ **Idade > 10 anos** (mesmo aprovada, considere substituir)
        - üëÅÔ∏è **Desgaste vis√≠vel** (ressecamento, rachaduras, deforma√ß√µes)
        - üîß **Custo de reparo > 70%** do valor de nova

        ### ‚è∞ Vida √ötil Esperada

        **Com manuten√ß√£o adequada:**
        - üü¢ **Uso interno protegido:** 8-12 anos
        - üü° **Uso externo coberto:** 5-8 anos
        - üî¥ **Uso externo exposto:** 3-5 anos

        **Fatores que reduzem vida √∫til:**
        - ‚òÄÔ∏è Exposi√ß√£o direta ao sol
        - üå°Ô∏è Temperaturas extremas
        - üß™ Contato com produtos qu√≠micos
        - üöó Tr√°fego de ve√≠culos sobre a mangueira
        - üì¶ Armazenamento inadequado

        ### üí° Dica de Ouro

        **N√£o espere falhar no teste!**
        - Inspecione visualmente a cada 3 meses
        - Substitua preventivamente se >8 anos
        - Melhor gastar R$ 200-400 em mangueira nova
        - Do que R$ 5.000+ em teste + perda de tempo
        """)

    with st.expander("ü§ñ A IA sempre extrai os dados corretamente?"):
        st.markdown("""
        ### üéØ Taxa de Acerto da IA

        **Em documentos bem estruturados:**
        - ‚úÖ **95-98%** de precis√£o
        - ‚úÖ Raramente erra dados cr√≠ticos (ID, resultado)
        - ‚úÖ Pode confundir campos menos importantes

        **Em documentos problem√°ticos:**
        - ‚ö†Ô∏è **70-85%** de precis√£o
        - ‚ö†Ô∏è Pode errar quantidades ou datas
        - ‚ö†Ô∏è Pode misturar dados entre equipamentos

        ---

        ### üîç Como Garantir Melhor Precis√£o

        **‚úÖ FA√áA:**
        1. Use PDFs nativos (gerados digitalmente)
        2. Mantenha estrutura clara e organizada
        3. **SEMPRE revise os dados** antes de salvar
        4. Corrija erros manualmente na tabela de revis√£o

        **‚ùå EVITE:**
        1. PDFs escaneados de baixa qualidade
        2. Documentos manuscritos ou rascunhos
        3. Certificados muito antigos ou fora de padr√£o
        4. Salvar sem revisar (confian√ßa cega na IA)

        ---

        ### ‚ö†Ô∏è Importante: Sempre Revise!

        **A IA √© uma FERRAMENTA de AUX√çLIO, n√£o substitui revis√£o humana.**

        **Passo cr√≠tico:**
        1. IA extrai os dados (economiza 90% do tempo)
        2. **VOC√ä revisa** a tabela (gasta 10% do tempo)
        3. Corrige erros se necess√°rio
        4. **S√≥ ent√£o salva**

        **üí° Mesmo com 5% de erro, voc√™ economiza 85% do tempo!**
        """)

    with st.expander("üßØ Quantos abrigos preciso ter no meu pr√©dio?"):
        st.markdown("""
        ### üìè C√°lculo de Quantidade de Abrigos

        **Regra geral (NBR 13714):**
    Quantidade de Abrigos = √Årea Total / Raio de Alcance¬≤

        **Raio de alcance depende da classe de risco:**
        - üü¢ **Risco Leve:** Raio de 30m ‚Üí 1 abrigo a cada ~2.800m¬≤
        - üü° **Risco M√©dio:** Raio de 25m ‚Üí 1 abrigo a cada ~1.960m¬≤
        - üî¥ **Risco Alto:** Raio de 20m ‚Üí 1 abrigo a cada ~1.250m¬≤

        ---

        ### üè¢ Exemplos Pr√°ticos

        **Pr√©dio Comercial (Risco Leve):**
        - 5.000m¬≤ de √°rea
        - Raio: 30m
        - **M√≠nimo:** 2 abrigos
        - **Recomendado:** 3 abrigos (1 por andar se tiver 3+ andares)

        **Ind√∫stria (Risco M√©dio):**
        - 8.000m¬≤ de galp√£o
        - Raio: 25m
        - **M√≠nimo:** 5 abrigos
        - **Recomendado:** 6-8 abrigos estrategicamente posicionados

        **Dep√≥sito Qu√≠mico (Risco Alto):**
        - 3.000m¬≤
        - Raio: 20m
        - **M√≠nimo:** 3 abrigos
        - **Recomendado:** 4-5 abrigos + extintores adicionais

        ---

        ### üìç Posicionamento Estrat√©gico

        **Locais obrigat√≥rios:**
        - ‚úÖ Pr√≥ximo a **sa√≠das de emerg√™ncia**
        - ‚úÖ Em **rotas de fuga**
        - ‚úÖ Pr√≥ximo a **escadas** (em pr√©dios)
        - ‚úÖ Em **corredores principais**
        - ‚úÖ √Åreas de **maior circula√ß√£o**

        **Evite:**
        - ‚ùå Cantos escondidos
        - ‚ùå Atr√°s de portas
        - ‚ùå √Åreas com obstru√ß√£o frequente
        - ‚ùå Locais de dif√≠cil acesso

        ---

        ### üí° Consultoria Profissional

        **Recomendamos:**
        - Consultar **Projeto de Preven√ß√£o contra Inc√™ndio (PPCI)**
        - Contratar **engenheiro de seguran√ßa** para c√°lculo preciso
        - Seguir **exig√™ncias do Corpo de Bombeiros** da sua regi√£o

        **Cada estado/munic√≠pio pode ter regras espec√≠ficas!**
        """)

    with st.expander("üìä Como fa√ßo backup dos meus dados?"):
        st.markdown("""
        ### ‚òÅÔ∏è Backup Autom√°tico

        **Seus dados est√£o seguros!**

        **Sistema faz backup automaticamente:**
        - ‚úÖ Supabase ‚Üí Backup autom√°tico
        - ‚úÖ Versionamento autom√°tico (√∫ltimas 30 vers√µes)
        - ‚úÖ Supabase ‚Üí Certificados e PDFs salvos
        - ‚úÖ Redund√¢ncia em m√∫ltiplos data centers

        ---

        ### üíæ Como Fazer Backup Manual (Recomendado Mensal)

        **Op√ß√£o 1: Exportar Planilha**
        1. Acesse sua planilha no Google Sheets
        2. Menu: **Arquivo ‚Üí Fazer download ‚Üí Excel (.xlsx)**
        3. Salve em local seguro (computador + nuvem)

        **Op√ß√£o 2: Gerar Relat√≥rios PDF**
        1. Use o sistema para gerar relat√≥rios mensais
        2. Salve os PDFs em pasta organizada
        3. Estrutura sugerida:
    Backup_ISF_IA/
    ‚îú‚îÄ‚îÄ 2024/
    ‚îÇ   ‚îú‚îÄ‚îÄ 01_Janeiro/
    ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Relatorio_Mangueiras_Jan2024.pdf
    ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Relatorio_Abrigos_Jan2024.pdf
    ‚îÇ   ‚îú‚îÄ‚îÄ 02_Fevereiro/
    ‚îÇ   ...

        **Op√ß√£o 3: C√≥pia da Planilha**
        1. Acesse sua planilha no Google Sheets
        2. Menu: **Arquivo ‚Üí Fazer uma c√≥pia**
        3. Nomeie: "BACKUP_2024_12_31_Mangueiras"
        4. Guarde em pasta separada no Drive

        ---

        ### üîí Seguran√ßa dos Dados

        **Prote√ß√µes do sistema:**
        - üîê Acesso via login Google (seguro)
        - üë• Cada usu√°rio v√™ apenas seus dados
        - üìù Log de auditoria de todas as a√ß√µes
        - üö´ Imposs√≠vel deletar dados acidentalmente
        - ‚ôªÔ∏è Hist√≥rico preservado permanentemente

        **Conformidade:**
        - ‚úÖ LGPD (Lei Geral de Prote√ß√£o de Dados)
        - ‚úÖ Dados armazenados no Brasil (Google Cloud BR)
        - ‚úÖ Criptografia em tr√¢nsito e em repouso
        """)

    st.markdown("---")

    # Call-to-action
    st.success("""
    ### üöÄ Pronto para Come√ßar?

    **Escolha sua situa√ß√£o:**

    #### üíß Para MANGUEIRAS:

    ‚úÖ **Tenho certificado PDF com v√°rias mangueiras**
    ‚Üí V√° para **"Inspe√ß√£o de Mangueiras com IA"** e deixe a IA fazer o trabalho!

    ‚úÖ **Preciso cadastrar 1 ou 2 mangueiras**
    ‚Üí Use **"Cadastro Manual de Mangueiras"** - r√°pido e f√°cil!

    ---

    #### üßØ Para ABRIGOS:

    ‚úÖ **Tenho invent√°rio completo em PDF**
    ‚Üí Use **"Cadastro de Abrigos com IA"** e processe tudo de uma vez!

    ‚úÖ **Preciso cadastrar 1 abrigo**
    ‚Üí V√° para **"Inspe√ß√£o de Abrigos"** ‚Üí Expans√≠vel de cadastro manual

    ‚úÖ **J√° tenho abrigos cadastrados e quero inspecionar**
    ‚Üí Use **"Inspe√ß√£o de Abrigos"** com checklist guiado!

    ---

    **üí° Lembre-se:**
    - Mangueiras: Teste hidrost√°tico **ANUAL** obrigat√≥rio
    - Abrigos: Inspe√ß√£o **MENSAL** obrigat√≥ria

    O sistema automatiza tudo e mant√©m voc√™ sempre em conformidade! ‚ö°
    """)

    # Footer informativo
    st.markdown("---")
    st.caption("""
    üìå **Normas Aplic√°veis:**
    - NBR 12779 (Mangueiras de inc√™ndio)
    - NBR 13714 (Sistemas de hidrantes e mangotinhos)
    - NR-23 (Prote√ß√£o contra inc√™ndios)

    üîÑ **√öltima Atualiza√ß√£o das Instru√ß√µes:** Dezembro/2024
    üìñ **Vers√£o do Guia:** 1.0
    """)


def instru_dash():
    """Instru√ß√µes para o Dashboard"""
    st.header("üìò Guia Completo da Dashboard")
    st.markdown("""
    <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); 
                padding: 25px; border-radius: 10px; color: white; margin-bottom: 20px;">
        <h2 style="margin: 0; color: white;">üéØ Bem-vindo ao Centro de Controle</h2>
        <p style="margin: 10px 0 0 0; font-size: 1.1em;">
            Esta dashboard √© o seu painel central para monitorar, gerenciar e manter todos os 
            equipamentos de emerg√™ncia em conformidade. Aqui voc√™ tem vis√£o completa e controle total!
        </p>
    </div>
    """, unsafe_allow_html=True)

    # ===================================================================
    # SE√á√ÉO 1: VIS√ÉO GERAL
    # ===================================================================
    st.markdown("---")
    st.subheader("üìä O que √© a Dashboard?")

    col1, col2 = st.columns(2)

    with col1:
        st.markdown("""
        ### üéØ Prop√≥sito Principal
        
        A dashboard **consolida automaticamente** todos os dados de inspe√ß√µes e testes, 
        apresentando uma vis√£o unificada do status atual de cada equipamento.
        
        **Benef√≠cios:**
        - ‚úÖ **Vis√£o 360¬∞** de todos os equipamentos
        - ‚è∞ **Alertas autom√°ticos** de vencimentos
        - üìä **M√©tricas em tempo real** de conformidade
        - üö® **Identifica√ß√£o imediata** de problemas
        - üìÑ **Gera√ß√£o r√°pida** de relat√≥rios
        """)

    with col2:
        st.markdown("""
        ### üìã Equipamentos Monitorados
        
        A dashboard rastreia **9 categorias** de equipamentos:
        
        1. üî• **Extintores** - Inspe√ß√µes e manuten√ß√µes N1/N2/N3
        2. üíß **Mangueiras** - Testes hidrost√°ticos
        3. üßØ **Abrigos** - Status de invent√°rio
        4. üí® **SCBA** - Testes Posi3 e inspe√ß√µes visuais
        5. üöø **Chuveiros/Lava-Olhos** - Inspe√ß√µes mensais
        6. ‚òÅÔ∏è **C√¢maras de Espuma** - Inspe√ß√µes peri√≥dicas
        7. üí® **Multig√°s** - Calibra√ß√µes e bump tests
        8. üîî **Alarmes** - Inspe√ß√µes de sistemas
        9. üåä **Canh√µes Monitores** - Inspe√ß√µes visuais e funcionais
        """)

    # ===================================================================
    # SE√á√ÉO 2: ENTENDENDO OS STATUS
    # ===================================================================
    st.markdown("---")
    st.subheader("üü¢üü†üî¥üîµ Decifrando os Indicadores de Status")

    st.info("**IMPORTANTE:** Os status s√£o calculados automaticamente pelo sistema com base nas datas e resultados das inspe√ß√µes mais recentes.")

    # Cards visuais para cada status
    col1, col2, col3, col4 = st.columns(4)

    with col1:
        st.markdown("""
        <div style="background-color: #d4edda; border-left: 5px solid #28a745; 
                    padding: 15px; border-radius: 5px; height: 100%;">
            <h3 style="color: #155724; margin-top: 0;">üü¢ OK</h3>
            <p style="color: #155724; margin-bottom: 0;">
                <strong>Significado:</strong> Equipamento em dia e conforme.<br><br>
                <strong>A√ß√£o:</strong> Nenhuma a√ß√£o necess√°ria. Continue o monitoramento regular.
            </p>
        </div>
        """, unsafe_allow_html=True)

    with col2:
        st.markdown("""
        <div style="background-color: #fff3cd; border-left: 5px solid #ffc107; 
                    padding: 15px; border-radius: 5px; height: 100%;">
            <h3 style="color: #856404; margin-top: 0;">üü† PEND√äNCIAS</h3>
            <p style="color: #856404; margin-bottom: 0;">
                <strong>Significado:</strong> Equipamento reprovado em inspe√ß√£o.<br><br>
                <strong>A√ß√£o:</strong> <strong style="color: #d39e00;">URGENTE</strong> - 
                Registre a√ß√£o corretiva ou substitua o equipamento.
            </p>
        </div>
        """, unsafe_allow_html=True)

    with col3:
        st.markdown("""
        <div style="background-color: #f8d7da; border-left: 5px solid #dc3545; 
                    padding: 15px; border-radius: 5px; height: 100%;">
            <h3 style="color: #721c24; margin-top: 0;">üî¥ VENCIDO</h3>
            <p style="color: #721c24; margin-bottom: 0;">
                <strong>Significado:</strong> Prazo de inspe√ß√£o/manuten√ß√£o expirado.<br><br>
                <strong>A√ß√£o:</strong> <strong style="color: #c82333;">CR√çTICO</strong> - 
                Realize inspe√ß√£o/manuten√ß√£o imediatamente.
            </p>
        </div>
        """, unsafe_allow_html=True)

    with col4:
        st.markdown("""
        <div style="background-color: #d1ecf1; border-left: 5px solid #17a2b8; 
                    padding: 15px; border-radius: 5px; height: 100%;">
            <h3 style="color: #0c5460; margin-top: 0;">üîµ PENDENTE</h3>
            <p style="color: #0c5460; margin-bottom: 0;">
                <strong>Significado:</strong> Nenhuma inspe√ß√£o registrada ainda.<br><br>
                <strong>A√ß√£o:</strong> Programe e realize primeira inspe√ß√£o do equipamento.
            </p>
        </div>
        """, unsafe_allow_html=True)

    # ===================================================================
    # SE√á√ÉO 3: NAVEGA√á√ÉO E USO
    # ===================================================================
    st.markdown("---")
    st.subheader("üß≠ Como Navegar pela Dashboard")

    with st.expander("üìå Passo 1: Escolha a Aba do Equipamento", expanded=True):
        st.markdown("""
        **No topo da p√°gina, voc√™ ver√° 10 abas:**
        
        üìò Como Usar | üî• Extintores | üíß Mangueiras | üßØ Abrigos | üí® C. Aut√¥nomo | 
        üöø Chuveiros/Lava-Olhos | ‚òÅÔ∏è C√¢maras de Espuma | üí® Multig√°s | üîî Alarmes | üåä Canh√µes Monitores
        
        **Dica:** Clique na aba correspondente ao tipo de equipamento que deseja monitorar.
        
        ---
        
        **üìä Cada aba mostra:**
        1. **M√©tricas Resumidas** - Totais e contadores por status (topo da aba)
        2. **Filtros** - Para refinar a visualiza√ß√£o
        3. **Lista de Equipamentos** - Com expansores para ver detalhes
        4. **A√ß√µes R√°pidas** - Bot√µes para registrar corre√ß√µes ou gerar relat√≥rios
        """)

    with st.expander("üîç Passo 2: Use os Filtros e M√©tricas"):
        st.markdown("""
        ### üìä Entendendo as M√©tricas do Topo
        
        Todas as abas mostram **4 m√©tricas principais** no topo:
        
        | M√©trica | Significado | Para que serve |
        |---------|-------------|----------------|
        | **‚úÖ Total Ativo** | N√∫mero total de equipamentos monitorados | Vis√£o geral do invent√°rio |
        | **üü¢ OK** | Equipamentos em dia | Ver quantos est√£o conformes |
        | **üî¥ VENCIDO** | Equipamentos com prazo expirado | Identificar prioridades cr√≠ticas |
        | **üü† N√ÉO CONFORME** | Equipamentos reprovados | Ver itens que precisam de a√ß√£o |
        
        ---
        
        ### üéöÔ∏è Usando os Filtros
        
        **Logo abaixo das m√©tricas, voc√™ encontra filtros:**
        
        Filtrar por Status:  [üü¢ OK] [üî¥ VENCIDO] [üü† N√ÉO CONFORME] [üîµ PENDENTE]
        
        **Como usar:**
        1. Por padr√£o, **todos os status** est√£o selecionados
        2. Clique para **desmarcar** os status que n√£o quer ver
        3. A lista abaixo atualiza automaticamente
        
        **üí° Casos de uso comuns:**
        - Ver **apenas vencidos** ‚Üí Desmarque üü¢, üü† e üîµ
        - Ver **apenas problemas** ‚Üí Deixe apenas üî¥ e üü†
        - Ver **tudo que precisa aten√ß√£o** ‚Üí Desmarque apenas üü¢
        """)

    with st.expander("üìÇ Passo 3: Explore os Detalhes de Cada Equipamento"):
        st.markdown("""
        ### üîΩ Expansores Interativos
        
        Cada equipamento aparece como uma **linha expans√≠vel**:
        
        üü† ID: EXT-001 | Tipo: ABC | Status: N√ÉO CONFORME | Local: ‚úÖ Corredor A
        
        **Clique na linha** para expandir e ver:
        
        ---
        
        #### üìã O que aparece ao expandir:
        
        1. **Plano de A√ß√£o Sugerido**
           - Sistema gera automaticamente recomenda√ß√µes
           - Baseado no problema identificado
           - Exemplo: *"Equipamento reprovado. Realizar manuten√ß√£o N2 ou substituir."*
        
        2. **Pr√≥ximos Vencimentos**
           - Datas calculadas automaticamente
           - Divididas por tipo de servi√ßo
           - Exemplo: Inspe√ß√£o (01/12/2025), Manuten√ß√£o N2 (15/01/2026)
        
        3. **Informa√ß√µes T√©cnicas**
           - Selo INMETRO, marca, capacidade
           - √öltima inspe√ß√£o realizada
           - Hist√≥rico de a√ß√µes corretivas
        
        4. **Bot√£o de A√ß√£o** (se necess√°rio)
           - Aparece automaticamente para status üî¥ ou üü†
           - Permite registrar corre√ß√£o direto da dashboard
        
        5. **Fotos e Evid√™ncias** (quando dispon√≠vel)
           - Fotos de n√£o conformidades
           - Certificados de testes
           - Evid√™ncias de a√ß√µes realizadas
        """)

    with st.expander("‚úçÔ∏è Passo 4: Registre A√ß√µes Corretivas"):
        st.markdown("""
        ### üõ†Ô∏è Quando Registrar uma A√ß√£o?
        
        **Registre sempre que:**
        - ‚úÖ Corrigiu um problema identificado
        - üîÑ Substituiu um equipamento
        - üóëÔ∏è Deu baixa em equipamento condenado
        - üîß Realizou manuten√ß√£o n√£o programada
        
        ---
        
        ### üìù Como Registrar?
        
        **1. Localize o equipamento com problema na dashboard**
        - Ele ter√° status üî¥ ou üü†
        
        **2. Expanda os detalhes clicando na linha**
        
        **3. Clique no bot√£o `‚úçÔ∏è Registrar A√ß√£o Corretiva`**
        
        **4. Preencha o formul√°rio que aparece:**
        
        #### Para **A√ß√£o Corretiva**:
        - Descri√ß√£o detalhada da corre√ß√£o realizada
        - Respons√°vel pela a√ß√£o
        - Foto de evid√™ncia (opcional, mas recomendado)
        
        #### Para **Substitui√ß√£o**:
        - Descri√ß√£o da substitui√ß√£o
        - **ID do equipamento substituto** (obrigat√≥rio)
        - Respons√°vel e foto
        
        #### Para **Baixa Definitiva**:
        - Motivo da condena√ß√£o (lista pr√©-definida)
        - **ID do equipamento substituto** (obrigat√≥rio)
        - **Foto de evid√™ncia** (obrigat√≥ria)
        - Observa√ß√µes adicionais
        - Confirma√ß√µes de seguran√ßa
        
        **5. Clique em `üíæ Salvar A√ß√£o`**
        
        ---
        
        ### ‚ú® O que acontece ap√≥s salvar?
        
        **Automaticamente:**
        1. ‚úÖ Sistema registra a a√ß√£o no log de auditoria
        2. üì∏ Foto √© enviada para o Supabase (se fornecida)
        3. üü¢ Status do equipamento muda para "OK"
        4. üìÖ Nova inspe√ß√£o "aprovada" √© registrada
        5. üîÑ Dashboard atualiza imediatamente
        6. üìã A√ß√£o fica documentada no hist√≥rico
        
        **Importante:** A a√ß√£o fica **permanentemente registrada** para auditorias!
        """)

    # ===================================================================
    # SE√á√ÉO 4: RELAT√ìRIOS
    # ===================================================================
    st.markdown("---")
    st.subheader("üìÑ Gerando Relat√≥rios da Dashboard")

    with st.expander("üìã Tipos de Relat√≥rios Dispon√≠veis", expanded=True):
        st.markdown("""
        Cada aba possui op√ß√µes de relat√≥rios espec√≠ficas:
        
        ### üî• Extintores
        - **Relat√≥rio Mensal Completo** (aba expans√≠vel no topo)
        - Inclui todos os extintores inspecionados no m√™s
        - Formato para impress√£o oficial
        
        ### üßØ Abrigos
        - **Relat√≥rio de Status em PDF**
        - Status consolidado de todos os abrigos
        - Detalhes de invent√°rio e inspe√ß√µes
        
        ### üîî Alarmes
        - **Relat√≥rio Mensal** ou **Semestral**
        - Selecione o per√≠odo desejado
        - Inclui todas as inspe√ß√µes do per√≠odo
        
        ### üí® Multig√°s
        - Relat√≥rios de calibra√ß√£o dispon√≠veis na aba de inspe√ß√£o
        
        ### üåä Canh√µes Monitores
        - Relat√≥rio consolidado de inspe√ß√µes
        - Informa√ß√µes t√©cnicas e status atual
        
        ---
        
        ### üìù Como Gerar um Relat√≥rio:
        
        1. **V√° at√© a aba do equipamento** desejado
        2. **Procure a se√ß√£o de relat√≥rios** (geralmente no topo, dentro de um expander)
        3. **Selecione o per√≠odo** (m√™s/ano ou semestre)
        4. **Clique em "Gerar Relat√≥rio"**
        5. **Aguarde** - uma nova janela abrir√° automaticamente
        6. **Imprima ou salve** como PDF usando Ctrl+P
        
        ---
        
        ### üí° Dicas para Relat√≥rios:
        
        - ‚úÖ Relat√≥rios s√£o gerados **em tempo real** com dados atualizados
        - üìÖ Voc√™ pode gerar relat√≥rios de **per√≠odos passados**
        - üñ®Ô∏è Use a op√ß√£o "Salvar como PDF" do navegador ao inv√©s de imprimir
        - üìä Relat√≥rios incluem **gr√°ficos e m√©tricas** automaticamente
        - üîí Dados dos relat√≥rios s√£o **confi√°veis para auditorias**
        """)

    # ===================================================================
    # SE√á√ÉO 5: RECURSOS ESPECIAIS POR EQUIPAMENTO
    # ===================================================================
    st.markdown("---")
    st.subheader("‚öôÔ∏è Recursos Especiais de Cada Aba")

    col1, col2 = st.columns(2)

    with col1:
        with st.expander("üî• Recursos dos Extintores"):
            st.markdown("""
            **Funcionalidades Exclusivas:**
            
            - üìç **Mapa de Localiza√ß√£o**
              - Mostra local f√≠sico de cada extintor
              - Integra√ß√£o com coordenadas GPS
            
            - üîÑ **Regulariza√ß√£o em Massa** (Admin)
              - Regulariza TODOS os vencidos de uma vez
              - √ötil ap√≥s auditorias
            
            - üìÖ **C√°lculo Autom√°tico de Datas**
              - Sistema calcula N1 (1 m√™s), N2 (1 ano), N3 (5 anos)
              - Baseado na √∫ltima manuten√ß√£o
            
            - üóëÔ∏è **Baixa Definitiva**
              - Remove equipamento condenado
              - Registra substituto obrigat√≥rio
              - Mant√©m hist√≥rico completo
            """)

        with st.expander("üíß Recursos das Mangueiras"):
            st.markdown("""
            **Funcionalidades Exclusivas:**
            
            - üî¥ **Detec√ß√£o de Reprova√ß√£o**
              - Identifica automaticamente mangueiras condenadas
              - Status baseado em palavras-chave no resultado
            
            - üóëÔ∏è **Sistema de Baixa**
              - Registra baixa com substituta
              - Remove do invent√°rio ativo
              - Mant√©m log de disposi√ß√£o
            
            - üìÑ **Links para Certificados**
              - Acesso direto aos PDFs de teste
              - Armazenados no Supabase
            """)

        with st.expander("üßØ Recursos dos Abrigos"):
            st.markdown("""
            **Funcionalidades Exclusivas:**
            
            - üì¶ **Gest√£o de Invent√°rio**
              - Checklist personalizado por abrigo
              - Rastreia cada item individualmente
            
            - üìÑ **Relat√≥rio Visual**
              - Status consolidado de todos os abrigos
              - Formato para impress√£o oficial
            
            - üîç **Detalhes de Inspe√ß√£o**
              - Mostra item por item inspecionado
              - Status individual de cada componente
            """)

        with st.expander("üí® Recursos do SCBA"):
            st.markdown("""
            **Funcionalidades Exclusivas:**
            
            - üß™ **Testes Posi3 USB**
              - Importa dados de testes funcionais
              - Valida vazamentos e alarmes
            
            - üëÅÔ∏è **Inspe√ß√µes Visuais**
              - Checklist separado para cilindro e m√°scara
              - Status individual de componentes
            
            - üí® **Qualidade do Ar**
              - Rastreia validade de laudos
              - Alerta sobre vencimentos
            """)

        with st.expander("üåä Recursos dos Canh√µes Monitores"):
            st.markdown("""
            **Funcionalidades Exclusivas:**
            
            - üí¶ **Tipos de Inspe√ß√µes**
              - Visual trimestral
              - Funcional anual com teste de √°gua
              
            - üìã **Checklist Espec√≠fico para Modelo**
              - Valida√ß√£o de componentes espec√≠ficos
              - Verifica√ß√£o de placa de orif√≠cio
              
            - üìÖ **C√°lculo Autom√°tico de Prazos**
              - Pr√≥xima inspe√ß√£o visual (3 meses)
              - Pr√≥ximo teste funcional (12 meses)
              
            - üì∑ **Evid√™ncias Fotogr√°ficas**
              - Fotos de problemas identificados
              - Registro dos testes funcionais realizados
            """)

    with col2:
        with st.expander("üöø Recursos dos Chuveiros/Lava-Olhos"):
            st.markdown("""
            **Funcionalidades Exclusivas:**
            
            - ‚úÖ **Checklist NBR 16071**
              - Checklist completo por categoria
              - Condi√ß√µes f√≠sicas, hidr√°ulicas, funcionalidade
            
            - üì∏ **Fotos Obrigat√≥rias**
              - Exige foto para n√£o conformidades
              - Evid√™ncia visual de problemas
            
            - üîÑ **Regulariza√ß√£o Autom√°tica**
              - Ao resolver problema, sistema aprova automaticamente
              - Gera nova inspe√ß√£o conforme
            """)

        with st.expander("‚òÅÔ∏è Recursos das C√¢maras de Espuma"):
            st.markdown("""
            **Funcionalidades Exclusivas:**
            
            - üìç **Agrupamento por Local**
              - Dashboard agrupa por localiza√ß√£o
              - Facilita inspe√ß√µes em √°rea
            
            - üîç **Tipos de Inspe√ß√£o**
              - Visual mensal
              - Funcional trimestral
              - Completa anual
            
            - üìä **Status Consolidado**
              - V√™ todas de um local de uma vez
              - Identifica problemas por √°rea
            """)

        with st.expander("üí® Recursos do Multig√°s"):
            st.markdown("""
            **Funcionalidades Exclusivas:**
            
            - üìÖ **Duplo Monitoramento**
              - Calibra√ß√£o anual (obrigat√≥ria)
              - Bump tests peri√≥dicos (recomendados)
            
            - üî¥ **Alertas Espec√≠ficos**
              - Calibra√ß√£o vencida
              - √öltimo bump test reprovado
              - Nunca testado
            
            - üìú **Certificados de Calibra√ß√£o**
              - Link direto para certificado
              - Rastreamento de validade
            """)

        with st.expander("üîî Recursos dos Alarmes"):
            st.markdown("""
            **Funcionalidades Exclusivas:**
            
            - üìÖ **Relat√≥rios Flex√≠veis**
              - Mensal ou semestral
              - Sele√ß√£o de per√≠odo customizada
            
            - üîç **Checklist Completo**
              - Central, baterias, sensores, sirenes
              - Teste funcional completo
            
            - üìä **Dashboard Consolidado**
              - Status geral de todos os sistemas
              - Identifica falhas cr√≠ticas
            """)

    # ===================================================================
    # SE√á√ÉO 6: DICAS E BOAS PR√ÅTICAS
    # ===================================================================
    st.markdown("---")
    st.subheader("üí° Dicas e Boas Pr√°ticas")

    with st.expander("‚ö° Para Usar a Dashboard com M√°xima Efici√™ncia"):
        st.markdown("""
        ### üéØ Rotina Di√°ria Recomendada
        
        **1. In√≠cio do Dia (5 minutos)**
        - ‚úÖ Acesse a dashboard
        - üî¥ Filtre por "VENCIDO" em todas as abas
        - üìã Fa√ßa lista de prioridades do dia
        
        **2. Ao Longo do Dia**
        - ‚úçÔ∏è Registre a√ß√µes corretivas conforme resolve problemas
        - üì∏ Tire fotos de evid√™ncia
        - üîÑ Verifique se status atualizou
        
        **3. Final do Dia (5 minutos)**
        - ‚úÖ Revise o que foi resolvido
        - üìä Veja m√©tricas atualizadas
        - üìÖ Planeje o pr√≥ximo dia
        
        ---
        
        ### üóìÔ∏è Rotina Semanal
        
        **Segunda-feira:**
        - üü† Priorize equipamentos com "PEND√äNCIAS"
        - üìã Planeje a√ß√µes corretivas da semana
        
        **Meio da Semana:**
        - üîç Revise equipamentos pr√≥ximos do vencimento
        - üìÖ Agende inspe√ß√µes/manuten√ß√µes futuras
        
        **Sexta-feira:**
        - üìä Gere relat√≥rios semanais
        - ‚úÖ Confirme que tudo cr√≠tico foi resolvido
        
        ---
        
        ### üìÖ Rotina Mensal
        
        **Primeira semana:**
        - üìÑ Gere relat√≥rios do m√™s anterior
        - üìä Apresente m√©tricas para gest√£o
        - üéØ Defina metas do m√™s
        
        **Durante o m√™s:**
        - üîç Monitore tend√™ncias de conformidade
        - üìà Compare com m√™s anterior
        
        **√öltima semana:**
        - ‚úÖ Regularize tudo que for poss√≠vel
        - üìã Prepare relat√≥rio do m√™s
        
        ---
        
        ### üö´ Erros Comuns a Evitar
        
        **‚ùå N√ÉO FA√áA:**
        - Deixar equipamentos üî¥ VENCIDOS por muito tempo
        - Ignorar status üü† COM PEND√äNCIAS
        - Registrar a√ß√µes sem descri√ß√£o detalhada
        - Esquecer de tirar fotos de evid√™ncia
        - N√£o documentar substitui√ß√µes
        
        **‚úÖ FA√áA SEMPRE:**
        - Verificar dashboard diariamente
        - Registrar TODA a√ß√£o corretiva realizada
        - Tirar fotos de evid√™ncia
        - Documentar motivos de baixa
        - Manter dados atualizados
        """)

    with st.expander("üîí Garantindo Conformidade em Auditorias"):
        st.markdown("""
        ### üìã Prepara√ß√£o para Auditoria
        
        **1 semana antes:**
        - ‚úÖ Regularize TODOS os equipamentos vencidos
        - üü¢ Garanta que maioria est√° "OK"
        - üìÑ Gere todos os relat√≥rios mensais
        - üóÇÔ∏è Organize documenta√ß√£o
        
        **Durante a auditoria:**
        - üìä Use a dashboard para mostrar status em tempo real
        - üìÑ Imprima relat√≥rios direto do sistema
        - üì∏ Mostre fotos de evid√™ncias
        - üìã Apresente hist√≥rico de a√ß√µes corretivas
        
        ---
        
        ### üìä Indicadores para Mostrar ao Auditor
        
        **M√©tricas Positivas:**
        - üü¢ % de equipamentos OK
        - ‚úÖ Total de a√ß√µes corretivas realizadas
        - üìà Tend√™ncia de melhoria ao longo dos meses
        - üìÖ Cumprimento de prazos
        
        **Se Houver Problemas:**
        - üìã Mostre que est√£o **documentados**
        - üóìÔ∏è Apresente **plano de a√ß√£o** com prazos
        - üì∏ Exiba **evid√™ncias** de corre√ß√µes em andamento
        - üíº Demonstre **comprometimento** da gest√£o
        
        ---
        
        ### üéØ Dicas de Ouro para Auditorias
        
        1. **Transpar√™ncia Total**
           - Mostre tudo, inclusive problemas
           - Demonstre que problemas est√£o sob controle
        
        2. **Rastreabilidade Completa**
           - Cada a√ß√£o tem respons√°vel
           - Cada problema tem hist√≥rico
           - Cada corre√ß√£o tem evid√™ncia
        
        3. **Conformidade Documentada**
           - Relat√≥rios mensais completos
           - Fotos de todas as n√£o conformidades
           - Registros de todas as a√ß√µes
        
        4. **Melhoria Cont√≠nua**
           - Mostre evolu√ß√£o ao longo do tempo
           - Demonstre redu√ß√£o de problemas
           - Apresente a√ß√µes preventivas
        """)

    # ===================================================================
    # SE√á√ÉO 7: PROBLEMAS COMUNS
    # ===================================================================
    st.markdown("---")
    st.subheader("üîß Solucionando Problemas Comuns")

    with st.expander("‚ùì Perguntas Frequentes"):
        st.markdown("""
        ### **P: A dashboard n√£o carregou nenhum dado. O que fazer?**
        
        **R:** Clique no bot√£o "Limpar Cache e Recarregar Dados" no topo da p√°gina.
        - Se ainda n√£o funcionar, verifique se h√° inspe√ß√µes cadastradas
        - Confirme que voc√™ est√° no ambiente correto (empresa/unidade)
        
        ---
        
        ### **P: O status n√£o atualizou ap√≥s registrar uma a√ß√£o. Por qu√™?**
        
        **R:** Aguarde alguns segundos e atualize a p√°gina (F5).
        - O sistema limpa o cache automaticamente, mas pode levar alguns segundos
        - Se persistir, clique em "Limpar Cache"
        
        ---
        
        ### **P: Como sei se um equipamento precisa de a√ß√£o?**
        
        **R:** Veja a cor do status:
        - üî¥ **VENCIDO** ‚Üí A√ß√£o CR√çTICA necess√°ria
        - üü† **PEND√äNCIAS** ‚Üí A√ß√£o URGENTE necess√°ria
        - üîµ **PENDENTE** ‚Üí Programe inspe√ß√£o
        - üü¢ **OK** ‚Üí Nenhuma a√ß√£o necess√°ria
        
        ---
        
        ### **P: Posso apagar um registro de inspe√ß√£o?**
        
        **R:** N√ÉO. O sistema n√£o permite exclus√£o por quest√µes de auditoria.
        - Registros s√£o permanentes por rastreabilidade
        - Se houver erro, registre uma nova inspe√ß√£o correta
        - O sistema sempre considera o registro mais recente
        
        ---
        
        ### **P: O equipamento sumiu da dashboard. O que aconteceu?**
        
        **R:** Pode ter sido:
        - üóëÔ∏è Dado **baixa definitiva** (condenado)
        - üîÑ **Substitu√≠do** por outro equipamento
        - Confira no "Hist√≥rico e Logs" para ver o que aconteceu
        
        --- ### **P: Como fa√ßo backup dos dados?**
        
        **R:** Os dados est√£o automaticamente salvos no Supabase.
        - Sistema faz backup autom√°tico na nuvem
        - Voc√™ pode gerar relat√≥rios PDF para guardar offline
        - Hist√≥rico completo fica preservado permanentemente
        
        ---
        
        ### **P: Quantos usu√°rios podem acessar ao mesmo tempo?**
        
        **R:** Ilimitado!
        - Sistema √© multi-usu√°rio
        - Dados sincronizam automaticamente
        - Cada usu√°rio v√™ dados da sua empresa/unidade
        
        ---
        
        ### **P: Como compartilho a dashboard com minha equipe?**
        
        **R:** Envie o link do sistema e oriente sobre login:
        - Cada pessoa deve ter conta Google autorizada
        - Admin cadastra novos usu√°rios no sistema
        - Cada um ter√° seu pr√≥prio n√≠vel de acesso
        
        ---
        
        ### **P: Os dados s√£o seguros?**
        
        **R:** SIM! M√∫ltiplas camadas de seguran√ßa:
        - ‚úÖ Login obrigat√≥rio com Google
        - ‚úÖ Dados isolados por empresa/unidade
        - ‚úÖ Backup autom√°tico no Google Cloud
        - ‚úÖ Log de auditoria de todas as a√ß√µes
        - ‚úÖ Conformidade com LGPD
        """)

    with st.expander("üö® Problemas T√©cnicos e Solu√ß√µes"):
        st.markdown("""
        ### ‚ö†Ô∏è "Erro ao carregar dados da planilha"
        
        **Poss√≠veis causas:**
        - Conex√£o com internet inst√°vel
        - Permiss√µes do Google Sheets
        - Cache corrompido
        
        **Solu√ß√µes:**
        1. Verifique sua conex√£o com a internet
        2. Clique em "Limpar Cache e Recarregar"
        3. Fa√ßa logout e login novamente
        4. Se persistir, contate o administrador
        
        ---
        
        ### ‚ö†Ô∏è "Planilha vazia ou sem dados"
        
        **Poss√≠veis causas:**
        - Ambiente n√£o configurado
        - Primeira vez usando o sistema
        - Filtros muito restritivos
        
        **Solu√ß√µes:**
        1. Verifique se est√° no ambiente correto
        2. Remova todos os filtros (selecione todos os status)
        3. Confirme que h√° inspe√ß√µes cadastradas
        4. Cadastre equipamentos nas abas de inspe√ß√£o
        
        ---
        
        ### ‚ö†Ô∏è "N√£o consigo registrar a√ß√£o corretiva"
        
        **Poss√≠veis causas:**
        - Campos obrigat√≥rios n√£o preenchidos
        - Foto obrigat√≥ria n√£o anexada (para baixa)
        - Falta de permiss√µes de edi√ß√£o
        
        **Solu√ß√µes:**
        1. Preencha TODOS os campos obrigat√≥rios
        2. Anexe foto quando obrigat√≥rio
        3. Verifique seu n√≠vel de acesso (precisa ser Editor)
        4. Tente novamente ap√≥s alguns segundos
        
        ---
        
        ### ‚ö†Ô∏è "Foto n√£o foi enviada / Upload falhou"
        
        **Poss√≠veis causas:**
        - Arquivo muito grande (>10MB)
        - Formato n√£o suportado
        - Problema de conex√£o
        
        **Solu√ß√µes:**
        1. Reduza o tamanho da foto (tire com qualidade menor)
        2. Use formatos: JPG, JPEG ou PNG
        3. Verifique sua conex√£o
        4. Tente tirar foto direto pela c√¢mera ao inv√©s de upload
        
        ---
        
        ### ‚ö†Ô∏è "Relat√≥rio n√£o abre / Impress√£o n√£o funciona"
        
        **Poss√≠veis causas:**
        - Bloqueador de pop-ups ativo
        - Navegador desatualizado
        
        **Solu√ß√µes:**
        1. **Desabilite o bloqueador de pop-ups** para este site
        2. Atualize seu navegador para √∫ltima vers√£o
        3. Tente usar Chrome ou Edge
        4. Permita pop-ups temporariamente
        
        ---
        
        ### ‚ö†Ô∏è "Dashboard est√° lenta / Travando"
        
        **Poss√≠veis causas:**
        - Muito equipamentos carregados
        - Cache acumulado
        - Muitas abas abertas
        
        **Solu√ß√µes:**
        1. Clique em "Limpar Cache e Recarregar"
        2. Feche outras abas do navegador
        3. Use filtros para reduzir dados exibidos
        4. Atualize a p√°gina (F5)
        """)

    # ===================================================================
    # SE√á√ÉO 8: RECURSOS AVAN√áADOS
    # ===================================================================
    st.markdown("---")
    st.subheader("üéì Recursos Avan√ßados")

    with st.expander("üîê Para Administradores: Funcionalidades Exclusivas"):
        st.markdown("""
        ### üëë Poderes de Administrador
        
        Se voc√™ tem perfil de **Administrador**, ver√° recursos extras:
        
        ---
        
        #### üî• Extintores - Regulariza√ß√£o em Massa
        
        **Localiza√ß√£o:** Aba Extintores ‚Üí Expander "‚öôÔ∏è A√ß√µes de Administrador"
        
        **O que faz:**
        - Identifica TODOS os extintores com inspe√ß√£o mensal vencida
        - Cria automaticamente uma inspe√ß√£o "Aprovada" para cada um
        - Data da inspe√ß√£o = hoje
        - Recalcula pr√≥ximos vencimentos
        
        **Quando usar:**
        - Ap√≥s per√≠odo sem inspe√ß√µes (f√©rias, feriados)
        - P√≥s-auditoria para normalizar sistema
        - Implanta√ß√£o inicial do sistema
        
        **‚ö†Ô∏è CUIDADO:**
        - Usa com responsabilidade - cria registros em massa
        - Confirme que equipamentos est√£o realmente OK
        - Use apenas se fisicamente verificou os equipamentos
        - A√ß√£o √© irrevers√≠vel
        
        ---
        
        #### üë• Gerenciamento de Usu√°rios
        
        **Localiza√ß√£o:** Menu Principal ‚Üí Super Admin
        
        **Funcionalidades:**
        - Criar novos usu√°rios
        - Definir n√≠veis de acesso (Admin, Editor, Viewer)
        - Atribuir ambientes/unidades
        - Revogar acessos
        - Ver log de auditoria completo
        
        ---
        
        #### üìä Relat√≥rios Consolidados
        
        **O que voc√™ pode fazer:**
        - Gerar relat√≥rios de TODAS as unidades
        - Ver estat√≠sticas gerais da empresa
        - Comparar desempenho entre unidades
        - Exportar dados para an√°lise externa
        
        ---
        
        #### üîç Auditoria Avan√ßada
        
        **Acesso total ao log:**
        - Toda a√ß√£o de todos os usu√°rios
        - Timestamps precisos
        - IP de origem (quando dispon√≠vel)
        - Antes/depois de altera√ß√µes
        """)

    with st.expander("üìä An√°lise de Tend√™ncias e KPIs"):
        st.markdown("""
        ### üìà Como Usar a Dashboard para An√°lise Estrat√©gica
        
        A dashboard n√£o √© s√≥ operacional - use-a estrategicamente!
        
        ---
        
        #### üéØ KPIs Principais para Monitorar
        
        **1. Taxa de Conformidade**
        
        Conformidade = (Equipamentos OK / Total de Equipamentos) √ó 100
        
        - **Meta:** M√≠nimo 95%
        - **Ideal:** 98-100%
        - **Cr√≠tico:** Abaixo de 90%
        
        **2. Tempo M√©dio de Resposta**
        
        Tempo = Data de Corre√ß√£o - Data de Identifica√ß√£o
        
        - **Meta:** M√°ximo 7 dias
        - **Ideal:** 1-3 dias
        - **Cr√≠tico:** Acima de 15 dias
        
        **3. Taxa de Reincid√™ncia**
        
        Reincid√™ncia = (Problemas Repetidos / Total de Problemas) √ó 100
        
        - **Meta:** M√°ximo 5%
        - **Ideal:** 0-2%
        - **Cr√≠tico:** Acima de 10%
        
        ---
        
        #### üìä An√°lises Mensais Recomendadas
        
        **Compare m√™s a m√™s:**
        - N√∫mero de equipamentos vencidos
        - A√ß√µes corretivas realizadas
        - Equipamentos substitu√≠dos
        - N√£o conformidades encontradas
        
        **Identifique padr√µes:**
        - Quais equipamentos t√™m mais problemas?
        - Quais locais precisam mais aten√ß√£o?
        - H√° sazonalidade nos problemas?
        - Fornecedores mais confi√°veis?
        
        **A√ß√µes preventivas:**
        - Substitua proativamente equipamentos problem√°ticos
        - Reforce inspe√ß√µes em locais cr√≠ticos
        - Treine equipe em pontos fracos
        - Ajuste frequ√™ncia de manuten√ß√µes
        
        ---
        
        #### üí° Insights Avan√ßados
        
        **An√°lise de Custo-Benef√≠cio:**
        - Compare custo de manuten√ß√£o vs substitui√ß√£o
        - Identifique equipamentos "caros" de manter
        - Planeje renova√ß√£o de frota
        
        **Gest√£o de Estoque:**
        - Quantos extintores de cada tipo?
        - H√° redund√¢ncia suficiente?
        - Precisa aumentar invent√°rio?
        
        **Conformidade Legal:**
        - % de atendimento √†s normas
        - Documenta√ß√£o completa?
        - Pronto para auditoria?
        """)

    # ===================================================================
    # SE√á√ÉO 9: INTEGRA√á√ÉO COM OUTROS M√ìDULOS
    # ===================================================================
    st.markdown("---")
    st.subheader("üîó Integra√ß√£o com Outros M√≥dulos do Sistema")

    with st.expander("üß≠ Como a Dashboard se Conecta com Outras √Åreas"):
        st.markdown("""
        ### üéØ Fluxo Completo do Sistema
        
        A dashboard √© o **centro de controle**, mas faz parte de um sistema maior:
        
        ---
        
        #### üì± 1. Inspe√ß√µes ‚Üí üìä Dashboard ‚Üí üìÑ Relat√≥rios
        
        **Fluxo:**
        1. **Inspetor** realiza inspe√ß√£o (aba de inspe√ß√£o espec√≠fica)
        2. Dados salvos automaticamente no Google Sheets
        3. **Dashboard atualiza** instantaneamente
        4. **Gestor** v√™ status e toma decis√µes
        5. **Sistema gera** relat√≥rios autom√°ticos
        
        ---
        
        #### üî• Exemplo Pr√°tico - Extintores:
        
        üì± Aba "Inspe√ß√£o de Extintores"
           ‚Üì (Inspetor usa QR Code ou manual)
           
        üíæ Dados salvos no Google Sheets
           ‚Üì (Autom√°tico)
           
        üìä Dashboard de Extintores
           ‚Üì (Calcula status e vencimentos)
           
        üëÄ Gestor v√™ problema
           ‚Üì (Registra a√ß√£o corretiva)
           
        ‚úÖ Status atualiza para OK
           ‚Üì (Hist√≥rico preservado)
           
        üìÑ Relat√≥rio mensal inclui tudo
        
        ---
        
        #### üóÇÔ∏è M√≥dulos Relacionados:
        
        **1. Hist√≥rico e Logs**
        - Acesse pelo menu principal
        - Veja linha do tempo completa
        - Rastreie cada a√ß√£o realizada
        
        **2. Utilit√°rios**
        - Ferramentas auxiliares
        - Boletins de remessa
        - Consultas especiais
        
        **3. Super Admin**
        - Configura√ß√µes gerais
        - Gest√£o de usu√°rios
        - Cadastros globais
        
        ---
        
        #### üíæ Onde Ficam os Dados?
        
        **Google Sheets (Tabelas):**
        - Invent√°rio de equipamentos
        - Hist√≥rico de inspe√ß√µes
        - Log de a√ß√µes corretivas
        - Usu√°rios e permiss√µes
        
        **Supabase (Arquivos):**
        - Fotos de n√£o conformidades
        - PDFs de certificados
        - Relat√≥rios de manuten√ß√£o
        - Documentos anexados
        
        **Sistema (Processamento):**
        - C√°lculo de status
        - Gera√ß√£o de alertas
        - Consolida√ß√£o de dados
        - Gera√ß√£o de relat√≥rios
        """)

    # ===================================================================
    # SE√á√ÉO 10: CALL TO ACTION E PR√ìXIMOS PASSOS
    # ===================================================================
    st.markdown("---")
    st.success("""
    ### üöÄ Pronto para Usar a Dashboard?
    
    **Voc√™ j√° aprendeu:**
    - ‚úÖ O que √© a dashboard e para que serve
    - ‚úÖ Como interpretar os status e m√©tricas
    - ‚úÖ Como navegar e filtrar equipamentos
    - ‚úÖ Como registrar a√ß√µes corretivas
    - ‚úÖ Como gerar relat√≥rios profissionais
    - ‚úÖ Dicas de boas pr√°ticas e an√°lises
    
    ---
    
    ### üìã Pr√≥ximos Passos Recomendados:
    
    **1. Explore uma Aba**
    - Comece pela aba **üî• Extintores** (mais usada)
    - Clique em alguns equipamentos para ver detalhes
    - Familiarize-se com a interface
    
    **2. Gere um Relat√≥rio de Teste**
    - Escolha um m√™s passado
    - Gere o relat√≥rio
    - Veja como fica formatado
    
    **3. Pratique Registrar uma A√ß√£o**
    - Se houver algum equipamento üü† ou üî¥
    - Tente registrar uma a√ß√£o corretiva fict√≠cia
    - Veja como o status atualiza
    
    **4. Estabele√ßa uma Rotina**
    - Defina hor√°rio fixo para verificar dashboard
    - Configure alertas/lembretes
    - Compartilhe com sua equipe
    
    ---
    
    ### üí¨ Precisa de Ajuda?
    
    - üìß **Email:** suporte@sistema.com.br
    - üí¨ **Chat:** Use o bot√£o de suporte no canto da tela
    - üìö **Documenta√ß√£o:** Menu Principal ‚Üí Documenta√ß√£o
    - üé• **V√≠deos:** Canal no YouTube (em breve)
    
    ---
    
    **Lembre-se:** A dashboard s√≥ √© √∫til se voc√™ usar regularmente! 
    
    Fa√ßa dela parte da sua rotina di√°ria de seguran√ßa. üí™
    """)

    # ===================================================================
    # FOOTER COM INFORMA√á√ïES ADICIONAIS
    # ===================================================================
    st.markdown("---")
    st.caption("""
    üìå **Vers√£o do Sistema:** 3.2  
    üîÑ **√öltima Atualiza√ß√£o:** Outubro/2025  
    üìñ **Documenta√ß√£o Completa:** Acesse o menu "Documenta√ß√£o" no sistema  
    üÜò **Suporte T√©cnico:** Dispon√≠vel de Segunda a Sexta, 8h √†s 18h  
    """)

    # Dica visual final
    st.info("""
    üí° **Dica Final:** Adicione esta p√°gina aos favoritos do seu navegador! 
    Volte aqui sempre que tiver d√∫vidas sobre como usar a dashboard.
    """, icon="üí°")


def instru_extinguisher():
    """Instru√ß√µes para Inspe√ß√£o de Extintores"""
    st.header("üìñ Guia de Uso - Sistema de Inspe√ß√£o de Extintores")

    # Alerta de prioriza√ß√£o
    st.success(
        "‚ö° **Recomenda√ß√£o:** Para inspe√ß√µes mais r√°pidas e eficientes, "
        "utilize a **Inspe√ß√£o R√°pida via QR Code**! √â o m√©todo mais √°gil e pr√°tico."
    )

    st.markdown("---")

    # Compara√ß√£o de m√©todos
    st.subheader("üéØ Escolha o Melhor M√©todo para Sua Situa√ß√£o")

    col1, col2, col3 = st.columns(3)

    with col1:
        st.markdown("""
        ### üì± Inspe√ß√£o QR Code
        **‚ö° MAIS R√ÅPIDA - RECOMENDADA**
        
        **Tempo:** ~30 segundos por extintor
        
        **Ideal para:**
        - ‚úÖ Inspe√ß√µes de rotina mensais
        - ‚úÖ Uso em campo com celular ou tablet
        - ‚úÖ Verifica√ß√µes r√°pidas
        - ‚úÖ Captura autom√°tica de GPS
        
        **Como funciona:**
        1. Permite localiza√ß√£o no navegador
        2. Escaneie o QR Code do extintor
        3. Marque "Conforme" ou "N√£o Conforme"
        4. Tire foto se necess√°rio
        5. Confirme - Pronto! ‚úÖ
        
        **Vantagens:**
        - ‚ö° Extremamente r√°pida
        - üìç GPS autom√°tico de alta precis√£o
        - üì± Funciona direto no celular
        - üîç Sem digitar c√≥digos manualmente
        """)

    with col2:
        st.markdown("""
        ### üóÇÔ∏è Registro em Lote (PDF)
        **ü§ñ INTELIG√äNCIA ARTIFICIAL**
        
        **Tempo:** ~2-3 minutos (m√∫ltiplos extintores)
        
        **Ideal para:**
        - üìÑ Relat√≥rios de empresas terceirizadas
        - üîß Manuten√ß√µes N2 e N3 completas
        - üìä Processar muitos extintores de uma vez
        
        **Como funciona:**
        1. Fa√ßa upload do PDF da empresa
        2. IA extrai dados automaticamente
        3. Revise os dados na tabela
        4. Confirme e salve tudo de uma vez
        
        **Vantagens:**
        - ü§ñ IA processa tudo automaticamente
        - üìä M√∫ltiplos equipamentos de uma vez
        - üìÑ Mant√©m PDF anexado
        - ‚è±Ô∏è Economiza tempo em lotes grandes
        
        **Requer:** Plano Premium IA
        """)

    with col3:
        st.markdown("""
        ### üìù Cadastro Manual
        **üêå MAIS LENTA**
        
        **Tempo:** ~3-5 minutos por extintor
        
        **Ideal para:**
        - üÜï Primeiro cadastro de extintor novo
        - ‚úèÔ∏è Corre√ß√µes e ajustes espec√≠ficos
        - üìç Quando n√£o tem QR Code
        - üîß Situa√ß√µes especiais
        
        **Como funciona:**
        1. Preencha todos os campos manualmente
        2. Opcionalmente capture GPS
        3. Digite observa√ß√µes
        4. Salve o registro
        
        **Vantagens:**
        - üìù Controle total dos dados
        - üîß Flexibilidade m√°xima
        - üÜï Para equipamentos novos
        """)

    st.markdown("---")

    # Fluxo de trabalho recomendado
    st.subheader("üéØ Fluxo de Trabalho Recomendado")

    st.info("""
    **Para M√°xima Efici√™ncia, Siga Esta Ordem:**
    
    1Ô∏è‚É£ **Inspe√ß√µes de Rotina Mensais** ‚Üí Use **QR Code** (mais r√°pido!)
    
    2Ô∏è‚É£ **Recebeu Relat√≥rio de Manuten√ß√£o Externa** ‚Üí Use **Registro em Lote PDF** (IA processa tudo)
    
    3Ô∏è‚É£ **Cadastrar Extintor Novo ou Fazer Corre√ß√£o** ‚Üí Use **Cadastro Manual**
    """)

    st.markdown("---")

    # Guia detalhado de QR Code
    st.subheader("üì± Guia Completo: Inspe√ß√£o R√°pida via QR Code")

    with st.expander("üöÄ Passo a Passo Detalhado", expanded=True):
        st.markdown("""
        #### **Antes de Come√ßar:**
        - üì± Use um **celular ou tablet** para melhor experi√™ncia
        - üìç **Permita o acesso √† localiza√ß√£o** quando solicitado pelo navegador
        - üåê Tenha **conex√£o com a internet** (pode ser 3G/4G)
        - üî¶ Verifique se h√° **boa ilumina√ß√£o** para escanear o QR Code
        
        ---
        
        #### **Passo 1: Permita a Localiza√ß√£o** üìç
        - O sistema solicitar√° permiss√£o para usar sua localiza√ß√£o
        - **Clique em "Permitir"** - isso √© essencial para rastreabilidade
        - Aguarde alguns segundos enquanto obtemos localiza√ß√£o de alta precis√£o
        - ‚úÖ Voc√™ ver√° "Localiza√ß√£o pronta! (Precis√£o: X metros)"
        
        üí° **Dica:** Quanto menor o n√∫mero de metros, melhor a precis√£o!
        
        ---
        
        #### **Passo 2: Escolha Como Identificar o Equipamento** üîç
        
        **Op√ß√£o A - Escanear QR Code (RECOMENDADO):**
        1. Clique no bot√£o **"üì∑ Escanear QR Code"**
        2. Aponte a c√¢mera para o QR Code no extintor
        3. Aguarde o sistema ler automaticamente
        4. ‚úÖ ID ser√° preenchido automaticamente!
        
        **Op√ß√£o B - Digitar Manualmente:**
        1. Digite o **ID do Equipamento** no campo de texto
        2. Clique em **"üîç Buscar por ID"**
        3. Sistema localizar√° o extintor
        
        ---
        
        #### **Passo 3: Registre a Inspe√ß√£o** ‚úÖ
        
        Ap√≥s identificar o equipamento, voc√™ ver√°:
        - üìä Informa√ß√µes do √∫ltimo registro (selo, tipo, vencimento)
        - üéØ Status atual do equipamento
        
        **Marque o status:**
        - **‚úÖ Conforme** - Equipamento est√° OK
        - **‚ùå N√£o Conforme** - Equipamento tem problema
        
        **Se marcar "N√£o Conforme":**
        1. Selecione os problemas encontrados (lacre violado, man√¥metro fora de faixa, etc.)
        2. **Opcional:** Tire uma foto da n√£o conformidade
            - Voc√™ pode usar a c√¢mera na hora OU
            - Enviar uma foto da galeria (maior qualidade)
        
        ---
        
        #### **Passo 4: Confirme e Finalize** üíæ
        
        1. Revise as informa√ß√µes de localiza√ß√£o GPS exibidas
        2. Clique em **"‚úÖ Confirmar e Registrar Inspe√ß√£o"**
        3. üéâ Pronto! Inspe√ß√£o salva com sucesso!
        4. Pode partir para o pr√≥ximo extintor
        
        ---
        
        #### **‚ö° Dicas para Inspe√ß√µes Ainda Mais R√°pidas:**
        
        - üèÉ Organize sua rota para inspecionar todos os extintores de uma √°rea de uma vez
        - üìã Mantenha um checklist mental dos pontos principais (lacre, man√¥metro, acesso)
        - üì± Mantenha o celular sempre pronto com a c√¢mera desbloqueada
        - üî¶ Use a lanterna do celular se precisar de luz extra para escanear QR Codes
        - üéØ Em √°reas com sinal GPS fraco, v√° para perto de uma janela ou √°rea aberta
        
        ---
        
        #### **‚ùì Problemas Comuns e Solu√ß√µes:**
        
        **"N√£o consegui capturar a localiza√ß√£o GPS"**
        - ‚úÖ Verifique se permitiu o acesso √† localiza√ß√£o no navegador
        - ‚úÖ Tente ir para uma √°rea mais aberta ou pr√≥xima a janelas
        - ‚úÖ Aguarde alguns segundos - GPS de alta precis√£o leva um tempo
        - ‚úÖ Se persistir, pode digitar coordenadas manualmente
        
        **"QR Code n√£o est√° sendo lido"**
        - ‚úÖ Limpe a c√¢mera do celular
        - ‚úÖ Melhore a ilumina√ß√£o (use a lanterna se necess√°rio)
        - ‚úÖ Aproxime ou afaste o celular do QR Code
        - ‚úÖ Se n√£o funcionar, use a op√ß√£o "Buscar por ID"
        
        **"Equipamento n√£o encontrado"**
        - ‚úÖ Verifique se o ID est√° correto
        - ‚úÖ Confirme se o extintor foi cadastrado na aba "Cadastrar / Editar"
        - ‚úÖ Entre em contato com o administrador se necess√°rio
        """)

    st.markdown("---")

    # Perguntas frequentes
    st.subheader("‚ùì Perguntas Frequentes")

    with st.expander("üìç Por que preciso permitir a localiza√ß√£o?"):
        st.markdown("""
        A localiza√ß√£o GPS √© essencial para:
        - ‚úÖ **Rastreabilidade:** Saber exatamente onde cada extintor foi inspecionado
        - ‚úÖ **Auditoria:** Comprovar que a inspe√ß√£o foi feita no local correto
        - ‚úÖ **Mapa de Equipamentos:** Visualizar distribui√ß√£o espacial dos extintores
        - ‚úÖ **Conformidade:** Atender requisitos de normas t√©cnicas
        
        **N√£o se preocupe:** Sua localiza√ß√£o s√≥ √© usada no momento da inspe√ß√£o e fica vinculada ao equipamento, n√£o a voc√™.
        """)

    with st.expander("ü§ñ Preciso do plano Premium IA para usar QR Code?"):
        st.markdown("""
        **N√ÉO!** A inspe√ß√£o via QR Code est√° dispon√≠vel para **todos os planos Pro e Premium IA**.
        
        O plano Premium IA adiciona:
        - ü§ñ Processamento autom√°tico de PDFs com IA
        - üìä Registro em lote de m√∫ltiplos equipamentos
        - üéØ Automa√ß√µes avan√ßadas
        
        Mas o QR Code j√° est√° liberado no seu plano atual! üéâ
        """)

    with st.expander("‚è±Ô∏è Quanto tempo leva cada m√©todo?"):
        st.markdown("""
        **Tempos m√©dios por equipamento:**
        
        - üì± **QR Code:** 30 segundos - 1 minuto (MAIS R√ÅPIDO!)
        - üóÇÔ∏è **PDF em Lote:** 2-3 minutos para 10+ equipamentos
        - üìù **Cadastro Manual:** 3-5 minutos por equipamento
        
        **Exemplo pr√°tico:**
        - Inspecionar 20 extintores via QR Code: ~10-20 minutos
        - Inspecionar 20 extintores manualmente: ~60-100 minutos
        
        **üí° A inspe√ß√£o QR Code √© at√© 5x mais r√°pida!**
        """)

    with st.expander("üì∏ Quando devo tirar fotos?"):
        st.markdown("""
        **Tire fotos apenas quando:**
        - ‚ùå O equipamento for reprovado (n√£o conforme)
        - üîç Houver dano vis√≠vel que precise ser documentado
        - üìã Para evidenciar a n√£o conformidade em auditorias
        
        **N√ÉO √© necess√°rio tirar foto quando:**
        - ‚úÖ O equipamento est√° conforme (OK)
        - üìä √â apenas uma inspe√ß√£o de rotina normal
        
        **Dica:** Use a op√ß√£o "Enviar da Galeria" para fotos de melhor qualidade.
        """)

    with st.expander("üîß Posso editar uma inspe√ß√£o depois de salvar?"):
        st.markdown("""
        **N√£o diretamente, mas voc√™ pode:**
        
        1. **Registrar uma nova inspe√ß√£o** com os dados corretos
        2. O sistema sempre considera o **registro mais recente**
        3. O hist√≥rico completo fica preservado para auditoria
        
        **Importante:** Nunca h√° perda de dados - tudo fica registrado no hist√≥rico.
        
        Para corre√ß√µes administrativas, contate um administrador do sistema.
        """)

    st.markdown("---")

    # Call-to-action
    st.success("""
    ### üöÄ Pronto para Come√ßar?
    
    **Clique na aba "üì± Inspe√ß√£o R√°pida (QR Code)" acima e fa√ßa sua primeira inspe√ß√£o em menos de 1 minuto!**
    
    Lembre-se: Quanto mais voc√™ usar, mais r√°pido e eficiente ficar√°! ‚ö°
    """)


def instru_scba():
    """Instru√ß√µes para SCBA"""
    st.header("üìñ Guia de Uso - Sistema de Conjuntos Aut√¥nomos (SCBA)")

    # Alerta de prioriza√ß√£o
    st.success(
        "‚ö° **Recomenda√ß√£o:** Para inspe√ß√µes regulares, use a **Inspe√ß√£o Visual Peri√≥dica**! "
        "√â completa, guiada e n√£o requer upload de arquivos."
    )

    st.markdown("---")

    # Compara√ß√£o de m√©todos
    st.subheader("üéØ Escolha o Melhor M√©todo para Sua Situa√ß√£o")

    col1, col2, col3 = st.columns(3)

    with col1:
        st.markdown("""
        ### üîç Inspe√ß√£o Visual
        **‚ö° PARA USO REGULAR - RECOMENDADA**
        
        **Tempo:** ~5-10 minutos por SCBA
        
        **Ideal para:**
        - ‚úÖ Inspe√ß√µes mensais obrigat√≥rias
        - ‚úÖ Verifica√ß√µes antes do uso
        - ‚úÖ Inspe√ß√µes ap√≥s treinamento
        - ‚úÖ Checklist completo e guiado
        
        **Como funciona:**
        1. Selecione o SCBA da lista
        2. Realize os 3 testes funcionais
        3. Fa√ßa a inspe√ß√£o visual de cada componente
        4. Sistema gera status autom√°tico
        5. Salve - Pronto! ‚úÖ
        
        **O que inclui:**
        - üß™ Teste de Estanqueidade
        - üîî Teste do Alarme Sonoro
        - üò∑ Teste de Veda√ß√£o da M√°scara
        - üëÅÔ∏è Inspe√ß√£o Visual Completa
        - üìã Checklist de 13+ itens
        
        **Vantagens:**
        - ‚ö° R√°pida e eficiente
        - üìã Guiada passo a passo
        - ü§ñ Avalia√ß√£o autom√°tica
        - üìä Rastreabilidade completa
        """)

    with col2:
        st.markdown("""
        ### ü§ñ Testes Posi3 (IA)
        **üî¨ INTELIG√äNCIA ARTIFICIAL**
        
        **Tempo:** ~2-3 minutos (m√∫ltiplos SCBAs)
        
        **Ideal para:**
        - üìÖ Testes anuais obrigat√≥rios
        - üè¢ Servi√ßos de empresas certificadas
        - üìÑ Processar relat√≥rios Posi3 USB
        - üìã Registro de laudos t√©cnicos
        
        **Como funciona:**
        1. Receba relat√≥rio Posi3 da empresa
        2. Fa√ßa upload do PDF
        3. IA extrai todos os dados automaticamente
        4. Revise os testes extra√≠dos
        5. Confirme e salve com PDF anexado
        
        **Vantagens:**
        - ü§ñ IA processa tudo sozinha
        - üìÑ PDF fica anexado ao registro
        - üìä M√∫ltiplos equipamentos de uma vez
        - ‚è±Ô∏è Economiza tempo de digita√ß√£o
        - üî¨ Dados t√©cnicos precisos
        
        **Requer:** Plano Premium IA
        """)

    with col3:
        st.markdown("""
        ### üí® Qualidade do Ar
        **üß™ AN√ÅLISE DE COMPRESSOR**
        
        **Tempo:** ~2-3 minutos
        
        **Ideal para:**
        - üìÖ An√°lise trimestral obrigat√≥ria
        - üè≠ Laudo do compressor
        - üî¨ An√°lise laboratorial
        - üìã Conformidade NBR 12543
        
        **Como funciona:**
        - **Com IA:** Upload do laudo PDF
        - **Manual:** Digite resultado e cilindros
        
        Sistema registra para todos os cilindros analisados automaticamente.
        
        **Vantagens:**
        - ü§ñ IA extrai dados do laudo (Premium IA)
        - üìÑ PDF anexado ao registro
        - üî¢ Registra m√∫ltiplos cilindros de uma vez
        - üìä Rastreabilidade do ar comprimido
        """)

    st.markdown("---")

    # Fluxo de trabalho recomendado
    st.subheader("üéØ Fluxo de Trabalho Recomendado")

    st.info("""
    **Para M√°xima Efici√™ncia, Siga Esta Ordem:**
    
    1Ô∏è‚É£ **Inspe√ß√µes Mensais/Pr√©-uso** ‚Üí Use **"Inspe√ß√£o Visual Peri√≥dica"** (mais completa!)
    
    2Ô∏è‚É£ **Recebeu Relat√≥rio Posi3 Anual** ‚Üí Use **"Teste de Equipamentos (IA)"** (IA processa)
    
    3Ô∏è‚É£ **Recebeu Laudo de Qualidade do Ar** ‚Üí Use **"Laudo de Qualidade do Ar (IA)"**
    
    4Ô∏è‚É£ **Cadastrar SCBA Novo** ‚Üí Use **"Cadastrar Novo SCBA"**
    """)

    st.markdown("---")

    # Perguntas frequentes
    st.subheader("‚ùì Perguntas Frequentes")

    with st.expander("üîç Qual a diferen√ßa entre Inspe√ß√£o Visual e Teste Posi3?"):
        st.markdown("""
        **Inspe√ß√£o Visual Peri√≥dica:**
        - üìÖ Feita **mensalmente** ou antes de cada uso
        - üë§ **Voc√™ mesmo faz** no local
        - ‚è±Ô∏è Tempo: 5-10 minutos
        - üîß **Testes b√°sicos** (estanqueidade, alarme, veda√ß√£o)
        - üëÅÔ∏è Verifica√ß√£o visual de componentes
        - üí∞ Custo: Zero
        - üéØ Objetivo: Verificar se est√° **seguro para uso**
        
        **Teste Posi3 Anual:**
        - üìÖ Feito **anualmente** (obrigat√≥rio)
        - üè¢ **Empresa especializada** faz em laborat√≥rio
        - ‚è±Ô∏è Equipamento fica fora alguns dias
        - üî¨ **Testes de precis√£o** com equipamento Posi3 USB
        - üìã Gera laudo t√©cnico com validade
        - üí∞ Custo: R$ 150-300 por equipamento
        - üéØ Objetivo: **Certifica√ß√£o oficial** de conformidade
        
        **Analogia:**
        - Inspe√ß√£o Visual = Voc√™ verificar o carro antes de viajar
        - Teste Posi3 = Revis√£o anual na concession√°ria com certificado
        
        **Ambos s√£o obrigat√≥rios e complementares!**
        """)

    with st.expander("‚è∞ Com que frequ√™ncia devo fazer cada inspe√ß√£o?"):
        st.markdown("""
        **Calend√°rio Obrigat√≥rio:**
        
        üìÖ **Mensal:**
        - Inspe√ß√£o Visual Peri√≥dica completa
        - Todos os 3 testes funcionais
        - Checklist visual de todos os componentes
        
        üìÖ **Antes de Cada Uso (Situa√ß√µes Cr√≠ticas):**
        - Inspe√ß√£o Visual simplificada
        - Teste de veda√ß√£o da m√°scara
        - Verifica√ß√£o r√°pida de press√£o
        
        üìÖ **Anual:**
        - Teste Posi3 por empresa certificada
        - Laudos t√©cnicos com validade de 1 ano
        
        üìÖ **Extraordin√°ria:**
        - Ap√≥s quedas ou impactos
        - Ap√≥s exposi√ß√£o a produtos qu√≠micos
        - Ap√≥s longos per√≠odos sem uso
        - Quando houver qualquer suspeita de problema
        
        **üí° Dica:** Configure lembretes mensais no sistema!
        """)

    with st.expander("üò∑ Como fa√ßo a limpeza e manuten√ß√£o b√°sica do SCBA?"):
        st.markdown("""
        ### **Limpeza Ap√≥s Cada Uso**
        - üßº Lave a **m√°scara facial** com √°gua morna e sab√£o neutro
        - üí¶ Enx√°gue abundantemente em **√°gua corrente**
        - üå¨Ô∏è Seque naturalmente em local arejado e √† sombra
        - üö´ N√£o utilize solventes, √°lcool, cloro ou produtos abrasivos
        - ‚úÖ Se necess√°rio, aplique desinfetante aprovado pelo fabricante

        ### **Cuidados Semanais**
        - üîé Verifique a integridade de mangueiras e conex√µes
        - üìä Confirme a press√£o do cilindro
        - üëì Inspecione visor/lente contra riscos, rachaduras ou manchas
        - ‚öôÔ∏è Teste a v√°lvula de demanda (inala√ß√£o/exala√ß√£o suave)

        ### **Manuten√ß√£o Mensal**
        - üß∞ Realize inspe√ß√£o funcional completa:
            - Teste de estanqueidade
            - Teste de alarme sonoro
            - Teste de veda√ß√£o da m√°scara
        - üìù Registre os resultados no sistema para rastreabilidade
        - üîÑ Troque filtros ou componentes conforme manual do fabricante

        ### **Armazenamento Correto**
        - üì¶ Guarde o SCBA em arm√°rio fechado, limpo e seco
        - üå°Ô∏è Evite calor excessivo, umidade e exposi√ß√£o direta ao sol
        - ü™õ Mantenha press√£o residual no cilindro (~30 bar)
        - üßØ Nunca armazene pr√≥ximo a √≥leo, graxa ou contaminantes
        - üö´ N√£o deixe o equipamento jogado no ch√£o ou sujeito a impactos

        ### **Boas Pr√°ticas**
        - üë• Apenas pessoal treinado deve higienizar e inspecionar
        - üìã Registre cada inspe√ß√£o e limpeza em planilha ou sistema
        - ‚è∞ Nunca ultrapasse os prazos de inspe√ß√£o peri√≥dica
        - üí° Crie rotina: limpeza e checklist sempre ap√≥s cada uso
        """)


def instru_multigas():
    """Instru√ß√µes para Multig√°s"""
    st.header("üìñ Guia de Uso - Sistema de Detectores Multig√°s")

    # Alerta de prioriza√ß√£o
    st.success(
        "‚ö° **Recomenda√ß√£o:** Para testes de resposta (Bump Test) di√°rios, "
        "use o **Registro Teste de Resposta**! √â r√°pido, pr√°tico e n√£o requer upload de arquivos."
    )

    st.markdown("---")

    # Compara√ß√£o de m√©todos
    st.subheader("üéØ Escolha o Melhor M√©todo para Sua Situa√ß√£o")

    col1, col2, col3 = st.columns(3)

    with col1:
        st.markdown("""
        ### üìã Teste de Resposta
        **‚ö° PARA USO DI√ÅRIO - RECOMENDADO**
        
        **Tempo:** ~1-2 minutos por detector
        
        **Ideal para:**
        - ‚úÖ Bump tests di√°rios/semanais
        - ‚úÖ Verifica√ß√µes r√°pidas de resposta
        - ‚úÖ Testes peri√≥dicos de rotina
        - ‚úÖ Testes extraordin√°rios (ap√≥s quedas)
        
        **Como funciona:**
        1. Selecione o detector da lista
        2. Veja os valores de refer√™ncia do cilindro
        3. Insira os valores encontrados no teste
        4. Sistema aprova/reprova automaticamente
        5. Salve - Pronto! ‚úÖ
        
        **Vantagens:**
        - ‚ö° Extremamente r√°pido
        - ü§ñ Avalia√ß√£o autom√°tica
        - üìä Gera relat√≥rio mensal
        - üîÑ Permite atualizar valores do cilindro
        """)

    with col2:
        st.markdown("""
        ### üìÑ Calibra√ß√£o Anual (IA)
        **ü§ñ INTELIG√äNCIA ARTIFICIAL**
        
        **Tempo:** ~2-3 minutos
        
        **Ideal para:**
        - üìÖ Calibra√ß√µes anuais obrigat√≥rias
        - üìÑ Processar certificados externos
        - üè¢ Servi√ßos de empresas terceirizadas
        - üìã Manter conformidade legal
        
        **Como funciona:**
        1. Fa√ßa upload do certificado PDF
        2. IA extrai todos os dados automaticamente
        3. Revise as informa√ß√µes extra√≠das
        4. Se for detector novo, cadastre na hora
        5. Confirme e salve com PDF anexado
        
        **Vantagens:**
        - ü§ñ IA processa tudo sozinha
        - üìÑ PDF fica anexado ao registro
        - üÜï Cadastra detectores novos automaticamente
        - ‚è±Ô∏è Economiza tempo de digita√ß√£o
        
        **Requer:** Plano Premium IA
        """)

    with col3:
        st.markdown("""
        ### ‚úçÔ∏è Cadastro Manual
        **üÜï PARA EQUIPAMENTOS NOVOS**
        
        **Tempo:** ~2-3 minutos
        
        **Ideal para:**
        - üÜï Cadastrar detector novo
        - üîß Configurar valores do cilindro
        - ‚úèÔ∏è Ajustes e corre√ß√µes
        - üìù Primeira configura√ß√£o
        
        **Como funciona:**
        - **Completo:** Preenche todos os campos
        - **Simplificado:** Apenas dados essenciais
        
        Valores padr√£o do cilindro:
        - LEL: 50% LEL
        - O¬≤: 18% Vol
        - H¬≤S: 25 ppm
        - CO: 100 ppm
        
        **Vantagens:**
        - üÜï Para equipamentos novos
        - üîß Controle total dos dados
        - ‚öôÔ∏è Configura valores de refer√™ncia
        """)

    st.markdown("---")

    # Fluxo de trabalho recomendado
    st.subheader("üéØ Fluxo de Trabalho Recomendado")

    st.info("""
    **Para M√°xima Efici√™ncia, Siga Esta Ordem:**
    
    1Ô∏è‚É£ **Testes Di√°rios/Semanais (Bump Test)** ‚Üí Use **"Registrar Teste de Resposta"** (mais r√°pido!)
    
    2Ô∏è‚É£ **Recebeu Certificado de Calibra√ß√£o Anual** ‚Üí Use **"Calibra√ß√£o Anual (PDF)"** (IA processa)
    
    3Ô∏è‚É£ **Cadastrar Detector Novo** ‚Üí Use **"Cadastro Manual"** (completo ou simplificado)
    
    4Ô∏è‚É£ **Relat√≥rio Mensal** ‚Üí Gere na pr√≥pria aba de "Registrar Teste de Resposta"
    """)

    st.markdown("---")

    # Guia detalhado de Teste de Resposta
    st.subheader("üìã Guia Completo: Registro de Teste de Resposta")

    with st.expander("üöÄ Passo a Passo Detalhado", expanded=True):
        st.markdown("""
        #### **O que √© o Bump Test (Teste de Resposta)?**
        
        √â um teste r√°pido que verifica se o detector est√° **respondendo corretamente** aos gases.
        Voc√™ exp√µe o detector a concentra√ß√µes conhecidas de g√°s (do cilindro de refer√™ncia) e 
        verifica se as leituras do equipamento est√£o dentro da margem de erro aceit√°vel.
        
        ---
        
        #### **Quando fazer o Bump Test?**
        
        ‚úÖ **Testes Peri√≥dicos (Recomendado):**
        - üìÖ **Diariamente:** Antes de cada uso em ambientes cr√≠ticos
        - üìÖ **Semanalmente:** Para uso regular
        - üìÖ **Mensalmente:** M√≠nimo obrigat√≥rio
        
        ‚ö†Ô∏è **Testes Extraordin√°rios (Obrigat√≥rios):**
        - Ap√≥s quedas ou impactos no equipamento
        - Ap√≥s exposi√ß√£o a concentra√ß√µes extremas de g√°s
        - Ap√≥s manuten√ß√£o ou reparo
        - Se o equipamento apresentar comportamento anormal
        
        ---
        
        #### **Passo 1: Selecione o Detector** üîç
        
        1. Na aba **"üìã Registrar Teste de Resposta"**
        2. No dropdown, escolha o detector que ser√° testado
        3. O sistema mostrar√°:
           - Marca, Modelo e N√∫mero de S√©rie
           - **Valores de Refer√™ncia do Cilindro** (os valores esperados)
        
        üí° **Dica:** Os valores de refer√™ncia s√£o as concentra√ß√µes do seu cilindro de g√°s padr√£o.
        
        ---
        
        #### **Passo 2: Configure Data/Hora e Tipo de Teste** ‚è∞
        
        - **Data e Hora:** Por padr√£o, usa o momento atual
        - **Tipo de Teste:**
          - üìÖ **Peri√≥dico:** Testes de rotina regular
          - ‚ö†Ô∏è **Extraordin√°rio:** Ap√≥s eventos especiais (quedas, manuten√ß√£o, etc.)
        
        ---
        
        #### **Passo 3: Realize o Teste F√≠sico** üß™
        
        **No equipamento f√≠sico:**
        1. Ligue o detector e aguarde estabiliza√ß√£o
        2. Conecte o cilindro de g√°s de refer√™ncia
        3. Exponha o detector ao g√°s por tempo suficiente
        4. Anote os valores exibidos no display do detector para cada g√°s:
           - **LEL** (% LEL) - Limite Explosivo Inferior
           - **O¬≤** (% Vol) - Oxig√™nio
           - **H¬≤S** (ppm) - Sulfeto de Hidrog√™nio
           - **CO** (ppm) - Mon√≥xido de Carbono
        
        ---
        
        #### **Passo 4: Insira os Valores no Sistema** üìù
        
        Digite os valores que o detector mostrou durante o teste:
        - Se o detector n√£o possui sensor para algum g√°s, deixe em branco
        - Digite exatamente o valor que apareceu no display
        - N√£o arredonde - use o valor preciso
        
        ---
        
        #### **Passo 5: Sistema Avalia Automaticamente** ü§ñ
        
        Ao clicar em **"üíæ Salvar Teste"**, o sistema:
        
        1. **Compara** os valores encontrados com os de refer√™ncia
        2. **Calcula** o erro percentual para cada g√°s
        3. **Aprova** se o erro for ‚â§ 10% (margem padr√£o do manual)
        4. **Reprova** se qualquer g√°s exceder a margem de erro
        5. **Gera observa√ß√µes autom√°ticas** explicando o resultado
        
        **Exemplo de Avalia√ß√£o:**
        Cilindro LEL: 50% ‚Üí Detector mostrou: 52%
        Erro: 4% ‚Üí ‚úÖ APROVADO (dentro da margem de 10%)
        
        Cilindro CO: 100 ppm ‚Üí Detector mostrou: 89 ppm
        Erro: 11% ‚Üí ‚ùå REPROVADO (fora da margem de 10%)
        ---
        
        #### **Passo 6: Informe o Respons√°vel** üë§
        
        - **Nome:** Quem realizou o teste
        - **Matr√≠cula:** Identifica√ß√£o do operador
        
        Esses dados s√£o importantes para rastreabilidade e auditoria.
        
        ---
        
        #### **üîÑ Quando Atualizar Valores do Cilindro?**
        
        Use o toggle **"Atualizar valores de refer√™ncia do cilindro?"** quando:
        
        ‚úÖ **Voc√™ trocou o cilindro de g√°s** por um novo com concentra√ß√µes diferentes
        ‚úÖ **Recebeu um novo lote** de cilindros com valores atualizados
        ‚úÖ **Os valores no r√≥tulo do cilindro** s√£o diferentes dos cadastrados
        
        ‚ö†Ô∏è **Aten√ß√£o:** Os novos valores ser√£o salvos **permanentemente** para este detector!
        
        ---
        
        #### **üìä Gerar Relat√≥rio Mensal**
        
        Ao topo da aba, h√° um expans√≠vel **"üìÑ Gerar Relat√≥rio Mensal de Bump Tests"**:
        
        1. Selecione o **M√™s** e **Ano** desejado
        2. Sistema filtra todos os testes do per√≠odo
        3. Clique em **"Gerar e Imprimir Relat√≥rio do M√™s"**
        4. Relat√≥rio abre em nova janela pronto para impress√£o
        
        **O relat√≥rio inclui:**
        - Data e hora de cada teste
        - Equipamento testado (marca, modelo, s√©rie)
        - Valores encontrados (LEL, O¬≤, H¬≤S, CO)
        - Tipo de teste (Peri√≥dico/Extraordin√°rio)
        - Resultado (Aprovado/Reprovado)
        - Respons√°vel pelo teste
        
        üí° **Ideal para:** Auditorias, inspe√ß√µes, comprova√ß√£o de conformidade
        
        ---
        
        #### **‚ö° Dicas para Testes Mais R√°pidos:**
        
        - üìã Tenha uma **lista impressa** de todos os detectores para n√£o esquecer nenhum
        - üî¢ **Anote os valores** em papel primeiro, depois digite todos de uma vez
        - ‚è∞ Fa√ßa os testes no **mesmo hor√°rio** todos os dias (cria rotina)
        - üéØ Organize por **√°rea** - teste todos os detectores de um setor por vez
        - üîÑ Mantenha o **cilindro de refer√™ncia sempre acess√≠vel**
        - üì± Use tablet ou celular em campo (sistema √© responsivo)
        """)
